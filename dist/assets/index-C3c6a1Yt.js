(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const T of g.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&r(T)}).observe(document,{childList:!0,subtree:!0});function u(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function r(d){if(d.ep)return;d.ep=!0;const g=u(d);fetch(d.href,g)}})();var no={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function Qh(){if(cd)return El;cd=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function u(r,d,g){var T=null;if(g!==void 0&&(T=""+g),d.key!==void 0&&(T=""+d.key),"key"in d){g={};for(var N in d)N!=="key"&&(g[N]=d[N])}else g=d;return d=g.ref,{$$typeof:l,type:r,key:T,ref:d!==void 0?d:null,props:g}}return El.Fragment=s,El.jsx=u,El.jsxs=u,El}var sd;function Zh(){return sd||(sd=1,no.exports=Qh()),no.exports}var S=Zh(),lo={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function Vh(){if(od)return le;od=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),j=Symbol.iterator;function D(m){return m===null||typeof m!="object"?null:(m=j&&m[j]||m["@@iterator"],typeof m=="function"?m:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,$={};function X(m,z,Y){this.props=m,this.context=z,this.refs=$,this.updater=Y||te}X.prototype.isReactComponent={},X.prototype.setState=function(m,z){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,z,"setState")},X.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function V(){}V.prototype=X.prototype;function K(m,z,Y){this.props=m,this.context=z,this.refs=$,this.updater=Y||te}var q=K.prototype=new V;q.constructor=K,G(q,X.prototype),q.isPureReactComponent=!0;var H=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function re(m,z,Y,U,J,he){return Y=he.ref,{$$typeof:l,type:m,key:z,ref:Y!==void 0?Y:null,props:he}}function ne(m,z){return re(m.type,z,void 0,void 0,void 0,m.props)}function Ne(m){return typeof m=="object"&&m!==null&&m.$$typeof===l}function Ue(m){var z={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(Y){return z[Y]})}var He=/\/+/g;function Ee(m,z){return typeof m=="object"&&m!==null&&m.key!=null?Ue(""+m.key):z.toString(36)}function pe(){}function ue(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(pe,pe):(m.status="pending",m.then(function(z){m.status==="pending"&&(m.status="fulfilled",m.value=z)},function(z){m.status==="pending"&&(m.status="rejected",m.reason=z)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function fe(m,z,Y,U,J){var he=typeof m;(he==="undefined"||he==="boolean")&&(m=null);var ae=!1;if(m===null)ae=!0;else switch(he){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(m.$$typeof){case l:case s:ae=!0;break;case w:return ae=m._init,fe(ae(m._payload),z,Y,U,J)}}if(ae)return J=J(m),ae=U===""?"."+Ee(m,0):U,H(J)?(Y="",ae!=null&&(Y=ae.replace(He,"$&/")+"/"),fe(J,z,Y,"",function(Ft){return Ft})):J!=null&&(Ne(J)&&(J=ne(J,Y+(J.key==null||m&&m.key===J.key?"":(""+J.key).replace(He,"$&/")+"/")+ae)),z.push(J)),1;ae=0;var lt=U===""?".":U+":";if(H(m))for(var Me=0;Me<m.length;Me++)U=m[Me],he=lt+Ee(U,Me),ae+=fe(U,z,Y,he,J);else if(Me=D(m),typeof Me=="function")for(m=Me.call(m),Me=0;!(U=m.next()).done;)U=U.value,he=lt+Ee(U,Me++),ae+=fe(U,z,Y,he,J);else if(he==="object"){if(typeof m.then=="function")return fe(ue(m),z,Y,U,J);throw z=String(m),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ae}function M(m,z,Y){if(m==null)return m;var U=[],J=0;return fe(m,U,"","",function(he){return z.call(Y,he,J++)}),U}function B(m){if(m._status===-1){var z=m._result;z=z(),z.then(function(Y){(m._status===0||m._status===-1)&&(m._status=1,m._result=Y)},function(Y){(m._status===0||m._status===-1)&&(m._status=2,m._result=Y)}),m._status===-1&&(m._status=0,m._result=z)}if(m._status===1)return m._result.default;throw m._result}var Z=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function ge(){}return le.Children={map:M,forEach:function(m,z,Y){M(m,function(){z.apply(this,arguments)},Y)},count:function(m){var z=0;return M(m,function(){z++}),z},toArray:function(m){return M(m,function(z){return z})||[]},only:function(m){if(!Ne(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},le.Component=X,le.Fragment=u,le.Profiler=d,le.PureComponent=K,le.StrictMode=r,le.Suspense=x,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,le.__COMPILER_RUNTIME={__proto__:null,c:function(m){return k.H.useMemoCache(m)}},le.cache=function(m){return function(){return m.apply(null,arguments)}},le.cloneElement=function(m,z,Y){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var U=G({},m.props),J=m.key,he=void 0;if(z!=null)for(ae in z.ref!==void 0&&(he=void 0),z.key!==void 0&&(J=""+z.key),z)!I.call(z,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&z.ref===void 0||(U[ae]=z[ae]);var ae=arguments.length-2;if(ae===1)U.children=Y;else if(1<ae){for(var lt=Array(ae),Me=0;Me<ae;Me++)lt[Me]=arguments[Me+2];U.children=lt}return re(m.type,J,void 0,void 0,he,U)},le.createContext=function(m){return m={$$typeof:T,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:g,_context:m},m},le.createElement=function(m,z,Y){var U,J={},he=null;if(z!=null)for(U in z.key!==void 0&&(he=""+z.key),z)I.call(z,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(J[U]=z[U]);var ae=arguments.length-2;if(ae===1)J.children=Y;else if(1<ae){for(var lt=Array(ae),Me=0;Me<ae;Me++)lt[Me]=arguments[Me+2];J.children=lt}if(m&&m.defaultProps)for(U in ae=m.defaultProps,ae)J[U]===void 0&&(J[U]=ae[U]);return re(m,he,void 0,void 0,null,J)},le.createRef=function(){return{current:null}},le.forwardRef=function(m){return{$$typeof:N,render:m}},le.isValidElement=Ne,le.lazy=function(m){return{$$typeof:w,_payload:{_status:-1,_result:m},_init:B}},le.memo=function(m,z){return{$$typeof:h,type:m,compare:z===void 0?null:z}},le.startTransition=function(m){var z=k.T,Y={};k.T=Y;try{var U=m(),J=k.S;J!==null&&J(Y,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(ge,Z)}catch(he){Z(he)}finally{k.T=z}},le.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},le.use=function(m){return k.H.use(m)},le.useActionState=function(m,z,Y){return k.H.useActionState(m,z,Y)},le.useCallback=function(m,z){return k.H.useCallback(m,z)},le.useContext=function(m){return k.H.useContext(m)},le.useDebugValue=function(){},le.useDeferredValue=function(m,z){return k.H.useDeferredValue(m,z)},le.useEffect=function(m,z,Y){var U=k.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(m,z)},le.useId=function(){return k.H.useId()},le.useImperativeHandle=function(m,z,Y){return k.H.useImperativeHandle(m,z,Y)},le.useInsertionEffect=function(m,z){return k.H.useInsertionEffect(m,z)},le.useLayoutEffect=function(m,z){return k.H.useLayoutEffect(m,z)},le.useMemo=function(m,z){return k.H.useMemo(m,z)},le.useOptimistic=function(m,z){return k.H.useOptimistic(m,z)},le.useReducer=function(m,z,Y){return k.H.useReducer(m,z,Y)},le.useRef=function(m){return k.H.useRef(m)},le.useState=function(m){return k.H.useState(m)},le.useSyncExternalStore=function(m,z,Y){return k.H.useSyncExternalStore(m,z,Y)},le.useTransition=function(){return k.H.useTransition()},le.version="19.1.1",le}var ud;function fo(){return ud||(ud=1,lo.exports=Vh()),lo.exports}var ee=fo(),io={exports:{}},wl={},co={exports:{}},so={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function Kh(){return rd||(rd=1,(function(l){function s(M,B){var Z=M.length;M.push(B);e:for(;0<Z;){var ge=Z-1>>>1,m=M[ge];if(0<d(m,B))M[ge]=B,M[Z]=m,Z=ge;else break e}}function u(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],Z=M.pop();if(Z!==B){M[0]=Z;e:for(var ge=0,m=M.length,z=m>>>1;ge<z;){var Y=2*(ge+1)-1,U=M[Y],J=Y+1,he=M[J];if(0>d(U,Z))J<m&&0>d(he,U)?(M[ge]=he,M[J]=Z,ge=J):(M[ge]=U,M[Y]=Z,ge=Y);else if(J<m&&0>d(he,Z))M[ge]=he,M[J]=Z,ge=J;else break e}}return B}function d(M,B){var Z=M.sortIndex-B.sortIndex;return Z!==0?Z:M.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;l.unstable_now=function(){return g.now()}}else{var T=Date,N=T.now();l.unstable_now=function(){return T.now()-N}}var x=[],h=[],w=1,j=null,D=3,te=!1,G=!1,$=!1,X=!1,V=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function H(M){for(var B=u(h);B!==null;){if(B.callback===null)r(h);else if(B.startTime<=M)r(h),B.sortIndex=B.expirationTime,s(x,B);else break;B=u(h)}}function k(M){if($=!1,H(M),!G)if(u(x)!==null)G=!0,I||(I=!0,Ee());else{var B=u(h);B!==null&&fe(k,B.startTime-M)}}var I=!1,re=-1,ne=5,Ne=-1;function Ue(){return X?!0:!(l.unstable_now()-Ne<ne)}function He(){if(X=!1,I){var M=l.unstable_now();Ne=M;var B=!0;try{e:{G=!1,$&&($=!1,K(re),re=-1),te=!0;var Z=D;try{t:{for(H(M),j=u(x);j!==null&&!(j.expirationTime>M&&Ue());){var ge=j.callback;if(typeof ge=="function"){j.callback=null,D=j.priorityLevel;var m=ge(j.expirationTime<=M);if(M=l.unstable_now(),typeof m=="function"){j.callback=m,H(M),B=!0;break t}j===u(x)&&r(x),H(M)}else r(x);j=u(x)}if(j!==null)B=!0;else{var z=u(h);z!==null&&fe(k,z.startTime-M),B=!1}}break e}finally{j=null,D=Z,te=!1}B=void 0}}finally{B?Ee():I=!1}}}var Ee;if(typeof q=="function")Ee=function(){q(He)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ue=pe.port2;pe.port1.onmessage=He,Ee=function(){ue.postMessage(null)}}else Ee=function(){V(He,0)};function fe(M,B){re=V(function(){M(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return D},l.unstable_next=function(M){switch(D){case 1:case 2:case 3:var B=3;break;default:B=D}var Z=D;D=B;try{return M()}finally{D=Z}},l.unstable_requestPaint=function(){X=!0},l.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=D;D=M;try{return B()}finally{D=Z}},l.unstable_scheduleCallback=function(M,B,Z){var ge=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ge+Z:ge):Z=ge,M){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=Z+m,M={id:w++,callback:B,priorityLevel:M,startTime:Z,expirationTime:m,sortIndex:-1},Z>ge?(M.sortIndex=Z,s(h,M),u(x)===null&&M===u(h)&&($?(K(re),re=-1):$=!0,fe(k,Z-ge))):(M.sortIndex=m,s(x,M),G||te||(G=!0,I||(I=!0,Ee()))),M},l.unstable_shouldYield=Ue,l.unstable_wrapCallback=function(M){var B=D;return function(){var Z=D;D=B;try{return M.apply(this,arguments)}finally{D=Z}}}})(so)),so}var fd;function $h(){return fd||(fd=1,co.exports=Kh()),co.exports}var oo={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Jh(){if(dd)return Fe;dd=1;var l=fo();function s(x){var h="https://react.dev/errors/"+x;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+x+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var r={d:{f:u,r:function(){throw Error(s(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},d=Symbol.for("react.portal");function g(x,h,w){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:j==null?null:""+j,children:x,containerInfo:h,implementation:w}}var T=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(x,h){if(x==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(x,h){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return g(x,h,null,w)},Fe.flushSync=function(x){var h=T.T,w=r.p;try{if(T.T=null,r.p=2,x)return x()}finally{T.T=h,r.p=w,r.d.f()}},Fe.preconnect=function(x,h){typeof x=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(x,h))},Fe.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},Fe.preinit=function(x,h){if(typeof x=="string"&&h&&typeof h.as=="string"){var w=h.as,j=N(w,h.crossOrigin),D=typeof h.integrity=="string"?h.integrity:void 0,te=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;w==="style"?r.d.S(x,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:j,integrity:D,fetchPriority:te}):w==="script"&&r.d.X(x,{crossOrigin:j,integrity:D,fetchPriority:te,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Fe.preinitModule=function(x,h){if(typeof x=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var w=N(h.as,h.crossOrigin);r.d.M(x,{crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(x)},Fe.preload=function(x,h){if(typeof x=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var w=h.as,j=N(w,h.crossOrigin);r.d.L(x,w,{crossOrigin:j,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Fe.preloadModule=function(x,h){if(typeof x=="string")if(h){var w=N(h.as,h.crossOrigin);r.d.m(x,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(x)},Fe.requestFormReset=function(x){r.d.r(x)},Fe.unstable_batchedUpdates=function(x,h){return x(h)},Fe.useFormState=function(x,h,w){return T.H.useFormState(x,h,w)},Fe.useFormStatus=function(){return T.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var pd;function Fh(){if(pd)return oo.exports;pd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),oo.exports=Jh(),oo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd;function Wh(){if(hd)return wl;hd=1;var l=$h(),s=fo(),u=Fh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function T(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(g(e)!==e)throw Error(r(188))}function x(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var c=i.alternate;if(c===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===a)return N(i),e;if(c===n)return N(i),t;c=c.sibling}throw Error(r(188))}if(a.return!==n.return)a=i,n=c;else{for(var o=!1,f=i.child;f;){if(f===a){o=!0,a=i,n=c;break}if(f===n){o=!0,n=i,a=c;break}f=f.sibling}if(!o){for(f=c.child;f;){if(f===a){o=!0,a=c,n=i;break}if(f===n){o=!0,n=c,a=i;break}f=f.sibling}if(!o)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),Ue=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case X:return"Profiler";case $:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case te:return"Portal";case q:return(e.displayName||"Context")+".Provider";case K:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var fe=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ge=[],m=-1;function z(e){return{current:e}}function Y(e){0>m||(e.current=ge[m],ge[m]=null,m--)}function U(e,t){m++,ge[m]=e.current,e.current=t}var J=z(null),he=z(null),ae=z(null),lt=z(null);function Me(e,t){switch(U(ae,t),U(he,e),U(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qf(t),e=jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(J),U(J,e)}function Ft(){Y(J),Y(he),Y(ae)}function Xi(e){e.memoizedState!==null&&U(lt,e);var t=J.current,a=jf(t,e.type);t!==a&&(U(he,e),U(J,a))}function Cl(e){he.current===e&&(Y(J),Y(he)),lt.current===e&&(Y(lt),bl._currentValue=Z)}var Gi=Object.prototype.hasOwnProperty,Qi=l.unstable_scheduleCallback,Zi=l.unstable_cancelCallback,Ad=l.unstable_shouldYield,Td=l.unstable_requestPaint,Nt=l.unstable_now,Ed=l.unstable_getCurrentPriorityLevel,po=l.unstable_ImmediatePriority,ho=l.unstable_UserBlockingPriority,Nl=l.unstable_NormalPriority,wd=l.unstable_LowPriority,mo=l.unstable_IdlePriority,Cd=l.log,Nd=l.unstable_setDisableYieldValue,Nn=null,it=null;function Wt(e){if(typeof Cd=="function"&&Nd(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Nn,e)}catch{}}var ct=Math.clz32?Math.clz32:Rd,Md=Math.log,Od=Math.LN2;function Rd(e){return e>>>=0,e===0?32:31-(Md(e)/Od|0)|0}var Ml=256,Ol=4194304;function Sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rl(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,c=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=n&134217727;return f!==0?(n=f&~c,n!==0?i=Sa(n):(o&=f,o!==0?i=Sa(o):a||(a=f&~e,a!==0&&(i=Sa(a))))):(f=n&~c,f!==0?i=Sa(f):o!==0?i=Sa(o):a||(a=n&~e,a!==0&&(i=Sa(a)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:i}function Mn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _d(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var e=Ml;return Ml<<=1,(Ml&4194048)===0&&(Ml=256),e}function go(){var e=Ol;return Ol<<=1,(Ol&62914560)===0&&(Ol=4194304),e}function Vi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function On(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zd(e,t,a,n,i,c){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,p=e.expirationTimes,A=e.hiddenUpdates;for(a=o&~a;0<a;){var O=31-ct(a),_=1<<O;f[O]=0,p[O]=-1;var E=A[O];if(E!==null)for(A[O]=null,O=0;O<E.length;O++){var C=E[O];C!==null&&(C.lane&=-536870913)}a&=~_}n!==0&&xo(e,n,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(o&~t))}function xo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ct(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function bo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ct(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $i(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vo(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:ed(e.type))}function Dd(e,t){var a=B.p;try{return B.p=e,t()}finally{B.p=a}}var It=Math.random().toString(36).slice(2),$e="__reactFiber$"+It,Pe="__reactProps$"+It,ka="__reactContainer$"+It,Ji="__reactEvents$"+It,qd="__reactListeners$"+It,jd="__reactHandles$"+It,So="__reactResources$"+It,Rn="__reactMarker$"+It;function Fi(e){delete e[$e],delete e[Pe],delete e[Ji],delete e[qd],delete e[jd]}function La(e){var t=e[$e];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ka]||a[$e]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Yf(e);e!==null;){if(a=e[$e])return a;e=Yf(e)}return t}e=a,a=e.parentNode}return null}function Xa(e){if(e=e[$e]||e[ka]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function _n(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ga(e){var t=e[So];return t||(t=e[So]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Le(e){e[Rn]=!0}var Ao=new Set,To={};function Aa(e,t){Qa(e,t),Qa(e+"Capture",t)}function Qa(e,t){for(To[e]=t,e=0;e<t.length;e++)Ao.add(t[e])}var Bd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},wo={};function Ud(e){return Gi.call(wo,e)?!0:Gi.call(Eo,e)?!1:Bd.test(e)?wo[e]=!0:(Eo[e]=!0,!1)}function _l(e,t,a){if(Ud(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function zl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function qt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Wi,Co;function Za(e){if(Wi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Wi=t&&t[1]||"",Co=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+e+Co}var Ii=!1;function Pi(e,t){if(!e||Ii)return"";Ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var _=function(){throw Error()};if(Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(C){var E=C}Reflect.construct(e,[],_)}else{try{_.call()}catch(C){E=C}e.call(_.prototype)}}else{try{throw Error()}catch(C){E=C}(_=e())&&typeof _.catch=="function"&&_.catch(function(){})}}catch(C){if(C&&E&&typeof C.stack=="string")return[C.stack,E.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),o=c[0],f=c[1];if(o&&f){var p=o.split(`
`),A=f.split(`
`);for(i=n=0;n<p.length&&!p[n].includes("DetermineComponentFrameRoot");)n++;for(;i<A.length&&!A[i].includes("DetermineComponentFrameRoot");)i++;if(n===p.length||i===A.length)for(n=p.length-1,i=A.length-1;1<=n&&0<=i&&p[n]!==A[i];)i--;for(;1<=n&&0<=i;n--,i--)if(p[n]!==A[i]){if(n!==1||i!==1)do if(n--,i--,0>i||p[n]!==A[i]){var O=`
`+p[n].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=n&&0<=i);break}}}finally{Ii=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Za(a):""}function Hd(e){switch(e.tag){case 26:case 27:case 5:return Za(e.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 15:return Pi(e.type,!1);case 11:return Pi(e.type.render,!1);case 1:return Pi(e.type,!0);case 31:return Za("Activity");default:return""}}function No(e){try{var t="";do t+=Hd(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yd(e){var t=Mo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,c.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dl(e){e._valueTracker||(e._valueTracker=Yd(e))}function Oo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Mo(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kd=/[\n"\\]/g;function mt(e){return e.replace(kd,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ec(e,t,a,n,i,c,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?tc(e,o,ht(t)):a!=null?tc(e,o,ht(a)):n!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+ht(f):e.removeAttribute("name")}function Ro(e,t,a,n,i,c,o,f){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;a=a!=null?""+ht(a):"",t=t!=null?""+ht(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=f?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function tc(e,t,a){t==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Va(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ht(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _o(e,t,a){if(t!=null&&(t=""+ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ht(a):""}function zo(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(fe(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ht(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Ka(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ld=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Ld.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function qo(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Do(e,i,n)}else for(var c in t)t.hasOwnProperty(c)&&Do(e,c,t[c])}function ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(e){return Gd.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var nc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $a=null,Ja=null;function jo(e){var t=Xa(e);if(t&&(e=t.stateNode)){var a=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ec(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[Pe]||null;if(!i)throw Error(r(90));ec(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Oo(n)}break e;case"textarea":_o(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Va(e,!!a.multiple,t,!1)}}}var ic=!1;function Bo(e,t,a){if(ic)return e(t,a);ic=!0;try{var n=e(t);return n}finally{if(ic=!1,($a!==null||Ja!==null)&&(vi(),$a&&(t=$a,e=Ja,Ja=$a=null,jo(t),e)))for(t=0;t<e.length;t++)jo(e[t])}}function zn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Pe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(jt)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{cc=!1}var Pt=null,sc=null,Bl=null;function Uo(){if(Bl)return Bl;var e,t=sc,a=t.length,n,i="value"in Pt?Pt.value:Pt.textContent,c=i.length;for(e=0;e<a&&t[e]===i[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===i[c-n];n++);return Bl=i.slice(e,1<n?1-n:void 0)}function Ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function Ho(){return!1}function et(e){function t(a,n,i,c,o){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=c,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(c):c[f]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Hl:Ho,this.isPropagationStopped=Ho,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=et(Ta),qn=w({},Ta,{view:0,detail:0}),Qd=et(qn),oc,uc,jn,kl=w({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jn&&(jn&&e.type==="mousemove"?(oc=e.screenX-jn.screenX,uc=e.screenY-jn.screenY):uc=oc=0,jn=e),oc)},movementY:function(e){return"movementY"in e?e.movementY:uc}}),Yo=et(kl),Zd=w({},kl,{dataTransfer:0}),Vd=et(Zd),Kd=w({},qn,{relatedTarget:0}),rc=et(Kd),$d=w({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Jd=et($d),Fd=w({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wd=et(Fd),Id=w({},Ta,{data:0}),ko=et(Id),Pd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tp[e])?!!t[e]:!1}function fc(){return ap}var np=w({},qn,{key:function(e){if(e.key){var t=Pd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lp=et(np),ip=w({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=et(ip),cp=w({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),sp=et(cp),op=w({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),up=et(op),rp=w({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fp=et(rp),dp=w({},Ta,{newState:0,oldState:0}),pp=et(dp),hp=[9,13,27,32],dc=jt&&"CompositionEvent"in window,Bn=null;jt&&"documentMode"in document&&(Bn=document.documentMode);var mp=jt&&"TextEvent"in window&&!Bn,Xo=jt&&(!dc||Bn&&8<Bn&&11>=Bn),Go=" ",Qo=!1;function Zo(e,t){switch(e){case"keyup":return hp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function yp(e,t){switch(e){case"compositionend":return Vo(t);case"keypress":return t.which!==32?null:(Qo=!0,Go);case"textInput":return e=t.data,e===Go&&Qo?null:e;default:return null}}function gp(e,t){if(Fa)return e==="compositionend"||!dc&&Zo(e,t)?(e=Uo(),Bl=sc=Pt=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xo&&t.locale!=="ko"?null:t.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xp[e.type]:t==="textarea"}function $o(e,t,a,n){$a?Ja?Ja.push(n):Ja=[n]:$a=n,t=Ci(t,"onChange"),0<t.length&&(a=new Yl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Un=null,Hn=null;function bp(e){Of(e,0)}function Ll(e){var t=_n(e);if(Oo(t))return e}function Jo(e,t){if(e==="change")return t}var Fo=!1;if(jt){var pc;if(jt){var hc="oninput"in document;if(!hc){var Wo=document.createElement("div");Wo.setAttribute("oninput","return;"),hc=typeof Wo.oninput=="function"}pc=hc}else pc=!1;Fo=pc&&(!document.documentMode||9<document.documentMode)}function Io(){Un&&(Un.detachEvent("onpropertychange",Po),Hn=Un=null)}function Po(e){if(e.propertyName==="value"&&Ll(Hn)){var t=[];$o(t,Hn,e,lc(e)),Bo(bp,t)}}function vp(e,t,a){e==="focusin"?(Io(),Un=t,Hn=a,Un.attachEvent("onpropertychange",Po)):e==="focusout"&&Io()}function Sp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ll(Hn)}function Ap(e,t){if(e==="click")return Ll(t)}function Tp(e,t){if(e==="input"||e==="change")return Ll(t)}function Ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Ep;function Yn(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!Gi.call(t,i)||!st(e[i],t[i]))return!1}return!0}function eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tu(e,t){var a=eu(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=eu(a)}}function au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ql(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ql(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wp=jt&&"documentMode"in document&&11>=document.documentMode,Wa=null,yc=null,kn=null,gc=!1;function lu(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||Wa==null||Wa!==ql(n)||(n=Wa,"selectionStart"in n&&mc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kn&&Yn(kn,n)||(kn=n,n=Ci(yc,"onSelect"),0<n.length&&(t=new Yl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Wa)))}function Ea(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ia={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},xc={},iu={};jt&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function wa(e){if(xc[e])return xc[e];if(!Ia[e])return e;var t=Ia[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in iu)return xc[e]=t[a];return e}var cu=wa("animationend"),su=wa("animationiteration"),ou=wa("animationstart"),Cp=wa("transitionrun"),Np=wa("transitionstart"),Mp=wa("transitioncancel"),uu=wa("transitionend"),ru=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function Et(e,t){ru.set(e,t),Aa(t,[e])}var fu=new WeakMap;function yt(e,t){if(typeof e=="object"&&e!==null){var a=fu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:No(t)},fu.set(e,t),t)}return{value:e,source:t,stack:No(t)}}var gt=[],Pa=0,vc=0;function Xl(){for(var e=Pa,t=vc=Pa=0;t<e;){var a=gt[t];gt[t++]=null;var n=gt[t];gt[t++]=null;var i=gt[t];gt[t++]=null;var c=gt[t];if(gt[t++]=null,n!==null&&i!==null){var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}c!==0&&du(a,i,c)}}function Gl(e,t,a,n){gt[Pa++]=e,gt[Pa++]=t,gt[Pa++]=a,gt[Pa++]=n,vc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Sc(e,t,a,n){return Gl(e,t,a,n),Ql(e)}function en(e,t){return Gl(e,null,null,t),Ql(e)}function du(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-ct(a),e=c.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),c):null}function Ql(e){if(50<fl)throw fl=0,Ns=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var tn={};function Op(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,a,n){return new Op(e,t,a,n)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bt(e,t){var a=e.alternate;return a===null?(a=ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function pu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zl(e,t,a,n,i,c){var o=0;if(n=e,typeof e=="function")Ac(e)&&(o=1);else if(typeof e=="string")o=_h(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=ot(31,a,t,i),e.elementType=Ne,e.lanes=c,e;case G:return Ca(a.children,i,c,t);case $:o=8,i|=24;break;case X:return e=ot(12,a,t,i|2),e.elementType=X,e.lanes=c,e;case k:return e=ot(13,a,t,i),e.elementType=k,e.lanes=c,e;case I:return e=ot(19,a,t,i),e.elementType=I,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case q:o=10;break e;case K:o=9;break e;case H:o=11;break e;case re:o=14;break e;case ne:o=16,n=null;break e}o=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=ot(o,a,t,i),t.elementType=e,t.type=n,t.lanes=c,t}function Ca(e,t,a,n){return e=ot(7,e,n,t),e.lanes=a,e}function Tc(e,t,a){return e=ot(6,e,null,t),e.lanes=a,e}function Ec(e,t,a){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var an=[],nn=0,Vl=null,Kl=0,xt=[],bt=0,Na=null,Ut=1,Ht="";function Ma(e,t){an[nn++]=Kl,an[nn++]=Vl,Vl=e,Kl=t}function hu(e,t,a){xt[bt++]=Ut,xt[bt++]=Ht,xt[bt++]=Na,Na=e;var n=Ut;e=Ht;var i=32-ct(n)-1;n&=~(1<<i),a+=1;var c=32-ct(t)+i;if(30<c){var o=i-i%5;c=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ut=1<<32-ct(t)+i|a<<i|n,Ht=c+e}else Ut=1<<c|a<<i|n,Ht=e}function wc(e){e.return!==null&&(Ma(e,1),hu(e,1,0))}function Cc(e){for(;e===Vl;)Vl=an[--nn],an[nn]=null,Kl=an[--nn],an[nn]=null;for(;e===Na;)Na=xt[--bt],xt[bt]=null,Ht=xt[--bt],xt[bt]=null,Ut=xt[--bt],xt[bt]=null}var We=null,_e=null,ye=!1,Oa=null,Mt=!1,Nc=Error(r(519));function Ra(e){var t=Error(r(418,""));throw Gn(yt(t,e)),Nc}function mu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[$e]=e,t[Pe]=n,a){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(a=0;a<pl.length;a++)oe(pl[a],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),Ro(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Dl(t);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),zo(t,n.value,n.defaultValue,n.children),Dl(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Df(t.textContent,a)?(n.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),n.onScroll!=null&&oe("scroll",t),n.onScrollEnd!=null&&oe("scrollend",t),n.onClick!=null&&(t.onclick=Ni),t=!0):t=!1,t||Ra(e)}function yu(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:We=We.return}}function Ln(e){if(e!==We)return!1;if(!ye)return yu(e),ye=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gs(e.type,e.memoizedProps)),a=!a),a&&_e&&Ra(e),yu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){_e=Ct(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}_e=null}}else t===27?(t=_e,ma(e.type)?(e=Ks,Ks=null,_e=e):_e=t):_e=We?Ct(e.stateNode.nextSibling):null;return!0}function Xn(){_e=We=null,ye=!1}function gu(){var e=Oa;return e!==null&&(nt===null?nt=e:nt.push.apply(nt,e),Oa=null),e}function Gn(e){Oa===null?Oa=[e]:Oa.push(e)}var Mc=z(null),_a=null,Yt=null;function ea(e,t,a){U(Mc,t._currentValue),t._currentValue=a}function kt(e){e._currentValue=Mc.current,Y(Mc)}function Oc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Rc(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var o=i.child;c=c.firstContext;e:for(;c!==null;){var f=c;c=i;for(var p=0;p<t.length;p++)if(f.context===t[p]){c.lanes|=a,f=c.alternate,f!==null&&(f.lanes|=a),Oc(c.return,a,e),n||(o=null);break e}c=f.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(r(341));o.lanes|=a,c=o.alternate,c!==null&&(c.lanes|=a),Oc(o,a,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Qn(e,t,a,n){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(r(387));if(o=o.memoizedProps,o!==null){var f=i.type;st(i.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(i===lt.current){if(o=i.alternate,o===null)throw Error(r(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}i=i.return}e!==null&&Rc(t,e,a,n),t.flags|=262144}function $l(e){for(e=e.firstContext;e!==null;){if(!st(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function za(e){_a=e,Yt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return xu(_a,e)}function Jl(e,t){return _a===null&&za(e),xu(e,t)}function xu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Yt===null){if(e===null)throw Error(r(308));Yt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Yt=Yt.next=t;return a}var Rp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},_p=l.unstable_scheduleCallback,zp=l.unstable_NormalPriority,Ye={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new Rp,data:new Map,refCount:0}}function Zn(e){e.refCount--,e.refCount===0&&_p(zp,function(){e.controller.abort()})}var Vn=null,zc=0,ln=0,cn=null;function Dp(e,t){if(Vn===null){var a=Vn=[];zc=0,ln=qs(),cn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return zc++,t.then(bu,bu),t}function bu(){if(--zc===0&&Vn!==null){cn!==null&&(cn.status="fulfilled");var e=Vn;Vn=null,ln=0,cn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var vu=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Dp(e,t),vu!==null&&vu(e,t)};var Da=z(null);function Dc(){var e=Da.current;return e!==null?e:Ce.pooledCache}function Fl(e,t){t===null?U(Da,Da.current):U(Da,t.pool)}function Su(){var e=Dc();return e===null?null:{parent:Ye._currentValue,pool:e}}var Kn=Error(r(460)),Au=Error(r(474)),Wl=Error(r(542)),qc={then:function(){}};function Tu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Il(){}function Eu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Il,Il),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cu(e),e;default:if(typeof t.status=="string")t.then(Il,Il);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cu(e),e}throw $n=t,Kn}}var $n=null;function wu(){if($n===null)throw Error(r(459));var e=$n;return $n=null,e}function Cu(e){if(e===Kn||e===Wl)throw Error(r(483))}var ta=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function na(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(xe&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Ql(e),du(e,null,a),t}return Gl(e,n,t,a),Ql(e)}function Jn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,bo(e,a)}}function Uc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?i=c=o:c=c.next=o,a=a.next}while(a!==null);c===null?i=c=t:c=c.next=t}else i=c=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Hc=!1;function Fn(){if(Hc){var e=cn;if(e!==null)throw e}}function Wn(e,t,a,n){Hc=!1;var i=e.updateQueue;ta=!1;var c=i.firstBaseUpdate,o=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var p=f,A=p.next;p.next=null,o===null?c=A:o.next=A,o=p;var O=e.alternate;O!==null&&(O=O.updateQueue,f=O.lastBaseUpdate,f!==o&&(f===null?O.firstBaseUpdate=A:f.next=A,O.lastBaseUpdate=p))}if(c!==null){var _=i.baseState;o=0,O=A=p=null,f=c;do{var E=f.lane&-536870913,C=E!==f.lane;if(C?(de&E)===E:(n&E)===E){E!==0&&E===ln&&(Hc=!0),O!==null&&(O=O.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var P=e,F=f;E=t;var Te=a;switch(F.tag){case 1:if(P=F.payload,typeof P=="function"){_=P.call(Te,_,E);break e}_=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=F.payload,E=typeof P=="function"?P.call(Te,_,E):P,E==null)break e;_=w({},_,E);break e;case 2:ta=!0}}E=f.callback,E!==null&&(e.flags|=64,C&&(e.flags|=8192),C=i.callbacks,C===null?i.callbacks=[E]:C.push(E))}else C={lane:E,tag:f.tag,payload:f.payload,callback:f.callback,next:null},O===null?(A=O=C,p=_):O=O.next=C,o|=E;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;C=f,f=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(!0);O===null&&(p=_),i.baseState=p,i.firstBaseUpdate=A,i.lastBaseUpdate=O,c===null&&(i.shared.lanes=0),fa|=o,e.lanes=o,e.memoizedState=_}}function Nu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Mu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nu(a[e],t)}var sn=z(null),Pl=z(0);function Ou(e,t){e=Kt,U(Pl,e),U(sn,t),Kt=e|t.baseLanes}function Yc(){U(Pl,Kt),U(sn,sn.current)}function kc(){Kt=Pl.current,Y(sn),Y(Pl)}var la=0,ie=null,Se=null,je=null,ei=!1,on=!1,qa=!1,ti=0,In=0,un=null,jp=0;function De(){throw Error(r(321))}function Lc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!st(e[a],t[a]))return!1;return!0}function Xc(e,t,a,n,i,c){return la=c,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?dr:pr,qa=!1,c=a(n,i),qa=!1,on&&(c=_u(t,a,n,i)),Ru(e),c}function Ru(e){M.H=si;var t=Se!==null&&Se.next!==null;if(la=0,je=Se=ie=null,ei=!1,In=0,un=null,t)throw Error(r(300));e===null||Xe||(e=e.dependencies,e!==null&&$l(e)&&(Xe=!0))}function _u(e,t,a,n){ie=e;var i=0;do{if(on&&(un=null),In=0,on=!1,25<=i)throw Error(r(301));if(i+=1,je=Se=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=Xp,c=t(a,n)}while(on);return c}function Bp(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Pn(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(ie.flags|=1024),t}function Gc(){var e=ti!==0;return ti=0,e}function Qc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Zc(e){if(ei){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ei=!1}la=0,je=Se=ie=null,on=!1,In=ti=0,un=null}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ie.memoizedState=je=e:je=je.next=e,je}function Be(){if(Se===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=je===null?ie.memoizedState:je.next;if(t!==null)je=t,Se=e;else{if(e===null)throw ie.alternate===null?Error(r(467)):Error(r(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},je===null?ie.memoizedState=je=e:je=je.next=e}return je}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pn(e){var t=In;return In+=1,un===null&&(un=[]),e=Eu(un,e,t),t=ie,(je===null?t.memoizedState:je.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?dr:pr),e}function ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pn(e);if(e.$$typeof===q)return Je(e)}throw Error(r(438,String(e)))}function Kc(e){var t=null,a=ie.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=ie.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Vc(),ie.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Ue;return t.index++,a}function Lt(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=Be();return $c(t,Se,e)}function $c(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var i=e.baseQueue,c=n.pending;if(c!==null){if(i!==null){var o=i.next;i.next=c.next,c.next=o}t.baseQueue=i=c,n.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var f=o=null,p=null,A=t,O=!1;do{var _=A.lane&-536870913;if(_!==A.lane?(de&_)===_:(la&_)===_){var E=A.revertLane;if(E===0)p!==null&&(p=p.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),_===ln&&(O=!0);else if((la&E)===E){A=A.next,E===ln&&(O=!0);continue}else _={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(f=p=_,o=c):p=p.next=_,ie.lanes|=E,fa|=E;_=A.action,qa&&a(c,_),c=A.hasEagerState?A.eagerState:a(c,_)}else E={lane:_,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(f=p=E,o=c):p=p.next=E,ie.lanes|=_,fa|=_;A=A.next}while(A!==null&&A!==t);if(p===null?o=c:p.next=f,!st(c,e.memoizedState)&&(Xe=!0,O&&(a=cn,a!==null)))throw a;e.memoizedState=c,e.baseState=o,e.baseQueue=p,n.lastRenderedState=c}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Jc(e){var t=Be(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,c=t.memoizedState;if(i!==null){a.pending=null;var o=i=i.next;do c=e(c,o.action),o=o.next;while(o!==i);st(c,t.memoizedState)||(Xe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function zu(e,t,a){var n=ie,i=Be(),c=ye;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var o=!st((Se||i).memoizedState,a);o&&(i.memoizedState=a,Xe=!0),i=i.queue;var f=ju.bind(null,n,i,e);if(el(2048,8,f,[e]),i.getSnapshot!==t||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,rn(9,li(),qu.bind(null,n,i,a,t),null),Ce===null)throw Error(r(349));c||(la&124)!==0||Du(n,t,a)}return a}function Du(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ie.updateQueue,t===null?(t=Vc(),ie.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function qu(e,t,a,n){t.value=a,t.getSnapshot=n,Bu(t)&&Uu(e)}function ju(e,t,a){return a(function(){Bu(t)&&Uu(e)})}function Bu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!st(e,a)}catch{return!0}}function Uu(e){var t=en(e,2);t!==null&&pt(t,e,2)}function Fc(e){var t=tt();if(typeof e=="function"){var a=e;if(e=a(),qa){Wt(!0);try{a()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lt,lastRenderedState:e},t}function Hu(e,t,a,n){return e.baseState=a,$c(e,Se,typeof n=="function"?n:Lt)}function Up(e,t,a,n,i){if(ci(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){c.listeners.push(o)}};M.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,Yu(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Yu(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var c=M.T,o={};M.T=o;try{var f=a(i,n),p=M.S;p!==null&&p(o,f),ku(e,t,f)}catch(A){Wc(e,t,A)}finally{M.T=c}}else try{c=a(i,n),ku(e,t,c)}catch(A){Wc(e,t,A)}}function ku(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Lu(e,t,n)},function(n){return Wc(e,t,n)}):Lu(e,t,a)}function Lu(e,t,a){t.status="fulfilled",t.value=a,Xu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Yu(e,a)))}function Wc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Xu(t),t=t.next;while(t!==n)}e.action=null}function Xu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gu(e,t){return t}function Qu(e,t){if(ye){var a=Ce.formState;if(a!==null){e:{var n=ie;if(ye){if(_e){t:{for(var i=_e,c=Mt;i.nodeType!==8;){if(!c){i=null;break t}if(i=Ct(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){_e=Ct(i.nextSibling),n=i.data==="F!";break e}}Ra(n)}n=!1}n&&(t=a[0])}}return a=tt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},a.queue=n,a=ur.bind(null,ie,n),n.dispatch=a,n=Fc(!1),c=as.bind(null,ie,!1,n.queue),n=tt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Up.bind(null,ie,i,c,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function Zu(e){var t=Be();return Vu(t,Se,e)}function Vu(e,t,a){if(t=$c(e,t,Gu)[0],e=ni(Lt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Pn(t)}catch(o){throw o===Kn?Wl:o}else n=t;t=Be();var i=t.queue,c=i.dispatch;return a!==t.memoizedState&&(ie.flags|=2048,rn(9,li(),Hp.bind(null,i,a),null)),[n,c,e]}function Hp(e,t){e.action=t}function Ku(e){var t=Be(),a=Se;if(a!==null)return Vu(t,a,e);Be(),t=t.memoizedState,a=Be();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function rn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=ie.updateQueue,t===null&&(t=Vc(),ie.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function li(){return{destroy:void 0,resource:void 0}}function $u(){return Be().memoizedState}function ii(e,t,a,n){var i=tt();n=n===void 0?null:n,ie.flags|=e,i.memoizedState=rn(1|t,li(),a,n)}function el(e,t,a,n){var i=Be();n=n===void 0?null:n;var c=i.memoizedState.inst;Se!==null&&n!==null&&Lc(n,Se.memoizedState.deps)?i.memoizedState=rn(t,c,a,n):(ie.flags|=e,i.memoizedState=rn(1|t,c,a,n))}function Ju(e,t){ii(8390656,8,e,t)}function Fu(e,t){el(2048,8,e,t)}function Wu(e,t){return el(4,2,e,t)}function Iu(e,t){return el(4,4,e,t)}function Pu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function er(e,t,a){a=a!=null?a.concat([e]):null,el(4,4,Pu.bind(null,t,e),a)}function Ic(){}function tr(e,t){var a=Be();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Lc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function ar(e,t){var a=Be();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Lc(t,n[1]))return n[0];if(n=e(),qa){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[n,t],n}function Pc(e,t,a){return a===void 0||(la&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=cf(),ie.lanes|=e,fa|=e,a)}function nr(e,t,a,n){return st(a,t)?a:sn.current!==null?(e=Pc(e,a,n),st(e,t)||(Xe=!0),e):(la&42)===0?(Xe=!0,e.memoizedState=a):(e=cf(),ie.lanes|=e,fa|=e,t)}function lr(e,t,a,n,i){var c=B.p;B.p=c!==0&&8>c?c:8;var o=M.T,f={};M.T=f,as(e,!1,t,a);try{var p=i(),A=M.S;if(A!==null&&A(f,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var O=qp(p,n);tl(e,t,O,dt(e))}else tl(e,t,n,dt(e))}catch(_){tl(e,t,{then:function(){},status:"rejected",reason:_},dt())}finally{B.p=c,M.T=o}}function Yp(){}function es(e,t,a,n){if(e.tag!==5)throw Error(r(476));var i=ir(e).queue;lr(e,i,t,Z,a===null?Yp:function(){return cr(e),a(n)})}function ir(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lt,lastRenderedState:Z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cr(e){var t=ir(e).next.queue;tl(e,t,{},dt())}function ts(){return Je(bl)}function sr(){return Be().memoizedState}function or(){return Be().memoizedState}function kp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=dt();e=aa(a);var n=na(t,e,a);n!==null&&(pt(n,t,a),Jn(n,t,a)),t={cache:_c()},e.payload=t;return}t=t.return}}function Lp(e,t,a){var n=dt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ci(e)?rr(t,a):(a=Sc(e,t,a,n),a!==null&&(pt(a,e,n),fr(a,t,n)))}function ur(e,t,a){var n=dt();tl(e,t,a,n)}function tl(e,t,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ci(e))rr(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var o=t.lastRenderedState,f=c(o,a);if(i.hasEagerState=!0,i.eagerState=f,st(f,o))return Gl(e,t,i,0),Ce===null&&Xl(),!1}catch{}finally{}if(a=Sc(e,t,i,n),a!==null)return pt(a,e,n),fr(a,t,n),!0}return!1}function as(e,t,a,n){if(n={lane:2,revertLane:qs(),action:n,hasEagerState:!1,eagerState:null,next:null},ci(e)){if(t)throw Error(r(479))}else t=Sc(e,a,n,2),t!==null&&pt(t,e,2)}function ci(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function rr(e,t){on=ei=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function fr(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,bo(e,a)}}var si={readContext:Je,use:ai,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De},dr={readContext:Je,use:ai,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Ju,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ii(4194308,4,Pu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ii(4194308,4,e,t)},useInsertionEffect:function(e,t){ii(4,2,e,t)},useMemo:function(e,t){var a=tt();t=t===void 0?null:t;var n=e();if(qa){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=tt();if(a!==void 0){var i=a(t);if(qa){Wt(!0);try{a(t)}finally{Wt(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Lp.bind(null,ie,e),[n.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,a=ur.bind(null,ie,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ic,useDeferredValue:function(e,t){var a=tt();return Pc(a,e,t)},useTransition:function(){var e=Fc(!1);return e=lr.bind(null,ie,e.queue,!0,!1),tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=ie,i=tt();if(ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ce===null)throw Error(r(349));(de&124)!==0||Du(n,t,a)}i.memoizedState=a;var c={value:a,getSnapshot:t};return i.queue=c,Ju(ju.bind(null,n,c,e),[e]),n.flags|=2048,rn(9,li(),qu.bind(null,n,c,a,t),null),a},useId:function(){var e=tt(),t=Ce.identifierPrefix;if(ye){var a=Ht,n=Ut;a=(n&~(1<<32-ct(n)-1)).toString(32)+a,t=""+t+"R"+a,a=ti++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=jp++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ts,useFormState:Qu,useActionState:Qu,useOptimistic:function(e){var t=tt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=as.bind(null,ie,!0,a),a.dispatch=t,[e,t]},useMemoCache:Kc,useCacheRefresh:function(){return tt().memoizedState=kp.bind(null,ie)}},pr={readContext:Je,use:ai,useCallback:tr,useContext:Je,useEffect:Fu,useImperativeHandle:er,useInsertionEffect:Wu,useLayoutEffect:Iu,useMemo:ar,useReducer:ni,useRef:$u,useState:function(){return ni(Lt)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=Be();return nr(a,Se.memoizedState,e,t)},useTransition:function(){var e=ni(Lt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Pn(e),t]},useSyncExternalStore:zu,useId:sr,useHostTransitionStatus:ts,useFormState:Zu,useActionState:Zu,useOptimistic:function(e,t){var a=Be();return Hu(a,Se,e,t)},useMemoCache:Kc,useCacheRefresh:or},Xp={readContext:Je,use:ai,useCallback:tr,useContext:Je,useEffect:Fu,useImperativeHandle:er,useInsertionEffect:Wu,useLayoutEffect:Iu,useMemo:ar,useReducer:Jc,useRef:$u,useState:function(){return Jc(Lt)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=Be();return Se===null?Pc(a,e,t):nr(a,Se.memoizedState,e,t)},useTransition:function(){var e=Jc(Lt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Pn(e),t]},useSyncExternalStore:zu,useId:sr,useHostTransitionStatus:ts,useFormState:Ku,useActionState:Ku,useOptimistic:function(e,t){var a=Be();return Se!==null?Hu(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Kc,useCacheRefresh:or},fn=null,al=0;function oi(e){var t=al;return al+=1,fn===null&&(fn=[]),Eu(fn,e,t)}function nl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ui(e,t){throw t.$$typeof===j?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hr(e){var t=e._init;return t(e._payload)}function mr(e){function t(b,y){if(e){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function a(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b){for(var y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(b,y){return b=Bt(b,y),b.index=0,b.sibling=null,b}function c(b,y,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=67108866,y):v):(b.flags|=67108866,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function f(b,y,v,R){return y===null||y.tag!==6?(y=Tc(v,b.mode,R),y.return=b,y):(y=i(y,v),y.return=b,y)}function p(b,y,v,R){var L=v.type;return L===G?O(b,y,v.props.children,R,v.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ne&&hr(L)===y.type)?(y=i(y,v.props),nl(y,v),y.return=b,y):(y=Zl(v.type,v.key,v.props,null,b.mode,R),nl(y,v),y.return=b,y)}function A(b,y,v,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Ec(v,b.mode,R),y.return=b,y):(y=i(y,v.children||[]),y.return=b,y)}function O(b,y,v,R,L){return y===null||y.tag!==7?(y=Ca(v,b.mode,R,L),y.return=b,y):(y=i(y,v),y.return=b,y)}function _(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Tc(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case D:return v=Zl(y.type,y.key,y.props,null,b.mode,v),nl(v,y),v.return=b,v;case te:return y=Ec(y,b.mode,v),y.return=b,y;case ne:var R=y._init;return y=R(y._payload),_(b,y,v)}if(fe(y)||Ee(y))return y=Ca(y,b.mode,v,null),y.return=b,y;if(typeof y.then=="function")return _(b,oi(y),v);if(y.$$typeof===q)return _(b,Jl(b,y),v);ui(b,y)}return null}function E(b,y,v,R){var L=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return L!==null?null:f(b,y,""+v,R);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case D:return v.key===L?p(b,y,v,R):null;case te:return v.key===L?A(b,y,v,R):null;case ne:return L=v._init,v=L(v._payload),E(b,y,v,R)}if(fe(v)||Ee(v))return L!==null?null:O(b,y,v,R,null);if(typeof v.then=="function")return E(b,y,oi(v),R);if(v.$$typeof===q)return E(b,y,Jl(b,v),R);ui(b,v)}return null}function C(b,y,v,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return b=b.get(v)||null,f(y,b,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case D:return b=b.get(R.key===null?v:R.key)||null,p(y,b,R,L);case te:return b=b.get(R.key===null?v:R.key)||null,A(y,b,R,L);case ne:var ce=R._init;return R=ce(R._payload),C(b,y,v,R,L)}if(fe(R)||Ee(R))return b=b.get(v)||null,O(y,b,R,L,null);if(typeof R.then=="function")return C(b,y,v,oi(R),L);if(R.$$typeof===q)return C(b,y,v,Jl(y,R),L);ui(y,R)}return null}function P(b,y,v,R){for(var L=null,ce=null,Q=y,W=y=0,Qe=null;Q!==null&&W<v.length;W++){Q.index>W?(Qe=Q,Q=null):Qe=Q.sibling;var me=E(b,Q,v[W],R);if(me===null){Q===null&&(Q=Qe);break}e&&Q&&me.alternate===null&&t(b,Q),y=c(me,y,W),ce===null?L=me:ce.sibling=me,ce=me,Q=Qe}if(W===v.length)return a(b,Q),ye&&Ma(b,W),L;if(Q===null){for(;W<v.length;W++)Q=_(b,v[W],R),Q!==null&&(y=c(Q,y,W),ce===null?L=Q:ce.sibling=Q,ce=Q);return ye&&Ma(b,W),L}for(Q=n(Q);W<v.length;W++)Qe=C(Q,b,W,v[W],R),Qe!==null&&(e&&Qe.alternate!==null&&Q.delete(Qe.key===null?W:Qe.key),y=c(Qe,y,W),ce===null?L=Qe:ce.sibling=Qe,ce=Qe);return e&&Q.forEach(function(va){return t(b,va)}),ye&&Ma(b,W),L}function F(b,y,v,R){if(v==null)throw Error(r(151));for(var L=null,ce=null,Q=y,W=y=0,Qe=null,me=v.next();Q!==null&&!me.done;W++,me=v.next()){Q.index>W?(Qe=Q,Q=null):Qe=Q.sibling;var va=E(b,Q,me.value,R);if(va===null){Q===null&&(Q=Qe);break}e&&Q&&va.alternate===null&&t(b,Q),y=c(va,y,W),ce===null?L=va:ce.sibling=va,ce=va,Q=Qe}if(me.done)return a(b,Q),ye&&Ma(b,W),L;if(Q===null){for(;!me.done;W++,me=v.next())me=_(b,me.value,R),me!==null&&(y=c(me,y,W),ce===null?L=me:ce.sibling=me,ce=me);return ye&&Ma(b,W),L}for(Q=n(Q);!me.done;W++,me=v.next())me=C(Q,b,W,me.value,R),me!==null&&(e&&me.alternate!==null&&Q.delete(me.key===null?W:me.key),y=c(me,y,W),ce===null?L=me:ce.sibling=me,ce=me);return e&&Q.forEach(function(Gh){return t(b,Gh)}),ye&&Ma(b,W),L}function Te(b,y,v,R){if(typeof v=="object"&&v!==null&&v.type===G&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case D:e:{for(var L=v.key;y!==null;){if(y.key===L){if(L=v.type,L===G){if(y.tag===7){a(b,y.sibling),R=i(y,v.props.children),R.return=b,b=R;break e}}else if(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ne&&hr(L)===y.type){a(b,y.sibling),R=i(y,v.props),nl(R,v),R.return=b,b=R;break e}a(b,y);break}else t(b,y);y=y.sibling}v.type===G?(R=Ca(v.props.children,b.mode,R,v.key),R.return=b,b=R):(R=Zl(v.type,v.key,v.props,null,b.mode,R),nl(R,v),R.return=b,b=R)}return o(b);case te:e:{for(L=v.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){a(b,y.sibling),R=i(y,v.children||[]),R.return=b,b=R;break e}else{a(b,y);break}else t(b,y);y=y.sibling}R=Ec(v,b.mode,R),R.return=b,b=R}return o(b);case ne:return L=v._init,v=L(v._payload),Te(b,y,v,R)}if(fe(v))return P(b,y,v,R);if(Ee(v)){if(L=Ee(v),typeof L!="function")throw Error(r(150));return v=L.call(v),F(b,y,v,R)}if(typeof v.then=="function")return Te(b,y,oi(v),R);if(v.$$typeof===q)return Te(b,y,Jl(b,v),R);ui(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(a(b,y.sibling),R=i(y,v),R.return=b,b=R):(a(b,y),R=Tc(v,b.mode,R),R.return=b,b=R),o(b)):a(b,y)}return function(b,y,v,R){try{al=0;var L=Te(b,y,v,R);return fn=null,L}catch(Q){if(Q===Kn||Q===Wl)throw Q;var ce=ot(29,Q,null,b.mode);return ce.lanes=R,ce.return=b,ce}finally{}}}var dn=mr(!0),yr=mr(!1),vt=z(null),Ot=null;function ia(e){var t=e.alternate;U(ke,ke.current&1),U(vt,e),Ot===null&&(t===null||sn.current!==null||t.memoizedState!==null)&&(Ot=e)}function gr(e){if(e.tag===22){if(U(ke,ke.current),U(vt,e),Ot===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ot=e)}}else ca()}function ca(){U(ke,ke.current),U(vt,vt.current)}function Xt(e){Y(vt),Ot===e&&(Ot=null),Y(ke)}var ke=z(0);function ri(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Vs(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ns(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ls={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=dt(),i=aa(n);i.payload=t,a!=null&&(i.callback=a),t=na(e,i,n),t!==null&&(pt(t,e,n),Jn(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=dt(),i=aa(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=na(e,i,n),t!==null&&(pt(t,e,n),Jn(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=dt(),n=aa(a);n.tag=2,t!=null&&(n.callback=t),t=na(e,n,a),t!==null&&(pt(t,e,a),Jn(t,e,a))}};function xr(e,t,a,n,i,c,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,o):t.prototype&&t.prototype.isPureReactComponent?!Yn(a,n)||!Yn(i,c):!0}function br(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function ja(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}var fi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vr(e){fi(e)}function Sr(e){console.error(e)}function Ar(e){fi(e)}function di(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Tr(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function is(e,t,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){di(e,t)},a}function Er(e){return e=aa(e),e.tag=3,e}function wr(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var c=n.value;e.payload=function(){return i(c)},e.callback=function(){Tr(t,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Tr(t,a,n),typeof i!="function"&&(da===null?da=new Set([this]):da.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})})}function Gp(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,i,!0),a=vt.current,a!==null){switch(a.tag){case 13:return Ot===null?Os():a.alternate===null&&ze===0&&(ze=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===qc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),_s(e,n,i)),!1;case 22:return a.flags|=65536,n===qc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),_s(e,n,i)),!1}throw Error(r(435,a.tag))}return _s(e,n,i),Os(),!1}if(ye)return t=vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Nc&&(e=Error(r(422),{cause:n}),Gn(yt(e,a)))):(n!==Nc&&(t=Error(r(423),{cause:n}),Gn(yt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=yt(n,a),i=is(e.stateNode,n,i),Uc(e,i),ze!==4&&(ze=2)),!1;var c=Error(r(520),{cause:n});if(c=yt(c,a),rl===null?rl=[c]:rl.push(c),ze!==4&&(ze=2),t===null)return!0;n=yt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=is(a.stateNode,n,e),Uc(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(da===null||!da.has(c))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Er(i),wr(i,e,a,n),Uc(a,i),!1}a=a.return}while(a!==null);return!1}var Cr=Error(r(461)),Xe=!1;function Ze(e,t,a,n){t.child=e===null?yr(t,null,a,n):dn(t,e.child,a,n)}function Nr(e,t,a,n,i){a=a.render;var c=t.ref;if("ref"in n){var o={};for(var f in n)f!=="ref"&&(o[f]=n[f])}else o=n;return za(t),n=Xc(e,t,a,o,c,i),f=Gc(),e!==null&&!Xe?(Qc(e,t,i),Gt(e,t,i)):(ye&&f&&wc(t),t.flags|=1,Ze(e,t,n,i),t.child)}function Mr(e,t,a,n,i){if(e===null){var c=a.type;return typeof c=="function"&&!Ac(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Or(e,t,c,n,i)):(e=Zl(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!ps(e,i)){var o=c.memoizedProps;if(a=a.compare,a=a!==null?a:Yn,a(o,n)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=Bt(c,n),e.ref=t.ref,e.return=t,t.child=e}function Or(e,t,a,n,i){if(e!==null){var c=e.memoizedProps;if(Yn(c,n)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=n=c,ps(e,i))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return cs(e,t,a,n,i)}function Rr(e,t,a){var n=t.pendingProps,i=n.children,c=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=c!==null?c.baseLanes|a:a,e!==null){for(i=t.child=e.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;t.childLanes=c&~n}else t.childLanes=0,t.child=null;return _r(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fl(t,c!==null?c.cachePool:null),c!==null?Ou(t,c):Yc(),gr(t);else return t.lanes=t.childLanes=536870912,_r(e,t,c!==null?c.baseLanes|a:a,a)}else c!==null?(Fl(t,c.cachePool),Ou(t,c),ca(),t.memoizedState=null):(e!==null&&Fl(t,null),Yc(),ca());return Ze(e,t,i,a),t.child}function _r(e,t,a,n){var i=Dc();return i=i===null?null:{parent:Ye._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Fl(t,null),Yc(),gr(t),e!==null&&Qn(e,t,n,!0),null}function pi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function cs(e,t,a,n,i){return za(t),a=Xc(e,t,a,n,void 0,i),n=Gc(),e!==null&&!Xe?(Qc(e,t,i),Gt(e,t,i)):(ye&&n&&wc(t),t.flags|=1,Ze(e,t,a,i),t.child)}function zr(e,t,a,n,i,c){return za(t),t.updateQueue=null,a=_u(t,n,a,i),Ru(e),n=Gc(),e!==null&&!Xe?(Qc(e,t,c),Gt(e,t,c)):(ye&&n&&wc(t),t.flags|=1,Ze(e,t,a,c),t.child)}function Dr(e,t,a,n,i){if(za(t),t.stateNode===null){var c=tn,o=a.contextType;typeof o=="object"&&o!==null&&(c=Je(o)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ls,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},jc(t),o=a.contextType,c.context=typeof o=="object"&&o!==null?Je(o):tn,c.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(ns(t,a,o,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(o=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),o!==c.state&&ls.enqueueReplaceState(c,c.state,null),Wn(t,n,c,i),Fn(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var f=t.memoizedProps,p=ja(a,f);c.props=p;var A=c.context,O=a.contextType;o=tn,typeof O=="object"&&O!==null&&(o=Je(O));var _=a.getDerivedStateFromProps;O=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,O||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f||A!==o)&&br(t,c,n,o),ta=!1;var E=t.memoizedState;c.state=E,Wn(t,n,c,i),Fn(),A=t.memoizedState,f||E!==A||ta?(typeof _=="function"&&(ns(t,a,_,n),A=t.memoizedState),(p=ta||xr(t,a,p,n,E,A,o))?(O||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),c.props=n,c.state=A,c.context=o,n=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Bc(e,t),o=t.memoizedProps,O=ja(a,o),c.props=O,_=t.pendingProps,E=c.context,A=a.contextType,p=tn,typeof A=="object"&&A!==null&&(p=Je(A)),f=a.getDerivedStateFromProps,(A=typeof f=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(o!==_||E!==p)&&br(t,c,n,p),ta=!1,E=t.memoizedState,c.state=E,Wn(t,n,c,i),Fn();var C=t.memoizedState;o!==_||E!==C||ta||e!==null&&e.dependencies!==null&&$l(e.dependencies)?(typeof f=="function"&&(ns(t,a,f,n),C=t.memoizedState),(O=ta||xr(t,a,O,n,E,C,p)||e!==null&&e.dependencies!==null&&$l(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,C,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,C,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=C),c.props=n,c.state=C,c.context=p,n=O):(typeof c.componentDidUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,pi(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=dn(t,e.child,null,i),t.child=dn(t,null,a,i)):Ze(e,t,a,i),t.memoizedState=c.state,e=t.child):e=Gt(e,t,i),e}function qr(e,t,a,n){return Xn(),t.flags|=256,Ze(e,t,a,n),t.child}var ss={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function os(e){return{baseLanes:e,cachePool:Su()}}function us(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=St),e}function jr(e,t,a){var n=t.pendingProps,i=!1,c=(t.flags&128)!==0,o;if((o=c)||(o=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(i?ia(t):ca(),ye){var f=_e,p;if(p=f){e:{for(p=f,f=Mt;p.nodeType!==8;){if(!f){f=null;break e}if(p=Ct(p.nextSibling),p===null){f=null;break e}}f=p}f!==null?(t.memoizedState={dehydrated:f,treeContext:Na!==null?{id:Ut,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},p=ot(18,null,null,0),p.stateNode=f,p.return=t,t.child=p,We=t,_e=null,p=!0):p=!1}p||Ra(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return Vs(f)?t.lanes=32:t.lanes=536870912,null;Xt(t)}return f=n.children,n=n.fallback,i?(ca(),i=t.mode,f=hi({mode:"hidden",children:f},i),n=Ca(n,i,a,null),f.return=t,n.return=t,f.sibling=n,t.child=f,i=t.child,i.memoizedState=os(a),i.childLanes=us(e,o,a),t.memoizedState=ss,n):(ia(t),rs(t,f))}if(p=e.memoizedState,p!==null&&(f=p.dehydrated,f!==null)){if(c)t.flags&256?(ia(t),t.flags&=-257,t=fs(e,t,a)):t.memoizedState!==null?(ca(),t.child=e.child,t.flags|=128,t=null):(ca(),i=n.fallback,f=t.mode,n=hi({mode:"visible",children:n.children},f),i=Ca(i,f,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,dn(t,e.child,null,a),n=t.child,n.memoizedState=os(a),n.childLanes=us(e,o,a),t.memoizedState=ss,t=i);else if(ia(t),Vs(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var A=o.dgst;o=A,n=Error(r(419)),n.stack="",n.digest=o,Gn({value:n,source:null,stack:null}),t=fs(e,t,a)}else if(Xe||Qn(e,t,a,!1),o=(a&e.childLanes)!==0,Xe||o){if(o=Ce,o!==null&&(n=a&-a,n=(n&42)!==0?1:Ki(n),n=(n&(o.suspendedLanes|a))!==0?0:n,n!==0&&n!==p.retryLane))throw p.retryLane=n,en(e,n),pt(o,e,n),Cr;f.data==="$?"||Os(),t=fs(e,t,a)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,_e=Ct(f.nextSibling),We=t,ye=!0,Oa=null,Mt=!1,e!==null&&(xt[bt++]=Ut,xt[bt++]=Ht,xt[bt++]=Na,Ut=e.id,Ht=e.overflow,Na=t),t=rs(t,n.children),t.flags|=4096);return t}return i?(ca(),i=n.fallback,f=t.mode,p=e.child,A=p.sibling,n=Bt(p,{mode:"hidden",children:n.children}),n.subtreeFlags=p.subtreeFlags&65011712,A!==null?i=Bt(A,i):(i=Ca(i,f,a,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,f=e.child.memoizedState,f===null?f=os(a):(p=f.cachePool,p!==null?(A=Ye._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=Su(),f={baseLanes:f.baseLanes|a,cachePool:p}),i.memoizedState=f,i.childLanes=us(e,o,a),t.memoizedState=ss,n):(ia(t),a=e.child,e=a.sibling,a=Bt(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function rs(e,t){return t=hi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hi(e,t){return e=ot(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fs(e,t,a){return dn(t,e.child,null,a),e=rs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Br(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Oc(e.return,t,a)}function ds(e,t,a,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=i)}function Ur(e,t,a){var n=t.pendingProps,i=n.revealOrder,c=n.tail;if(Ze(e,t,n.children,a),n=ke.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Br(e,a,t);else if(e.tag===19)Br(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(U(ke,n),i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&ri(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),ds(t,!1,i,a,c);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ri(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}ds(t,!0,a,null,c);break;case"together":ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Bt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Bt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ps(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$l(e)))}function Qp(e,t,a){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),ea(t,Ye,e.memoizedState.cache),Xn();break;case 27:case 5:Xi(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:ea(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ia(t),t.flags|=128,null):(a&t.child.childLanes)!==0?jr(e,t,a):(ia(t),e=Gt(e,t,a),e!==null?e.sibling:null);ia(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Qn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Ur(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(ke,ke.current),n)break;return null;case 22:case 23:return t.lanes=0,Rr(e,t,a);case 24:ea(t,Ye,e.memoizedState.cache)}return Gt(e,t,a)}function Hr(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!ps(e,a)&&(t.flags&128)===0)return Xe=!1,Qp(e,t,a);Xe=(e.flags&131072)!==0}else Xe=!1,ye&&(t.flags&1048576)!==0&&hu(t,Kl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,typeof n=="function")Ac(n)?(e=ja(n,e),t.tag=1,t=Dr(null,t,n,e,a)):(t.tag=0,t=cs(null,t,n,e,a));else{if(n!=null){if(i=n.$$typeof,i===H){t.tag=11,t=Nr(null,t,n,e,a);break e}else if(i===re){t.tag=14,t=Mr(null,t,n,e,a);break e}}throw t=ue(n)||n,Error(r(306,t,""))}}return t;case 0:return cs(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=ja(n,t.pendingProps),Dr(e,t,n,i,a);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var c=t.memoizedState;i=c.element,Bc(e,t),Wn(t,n,null,a);var o=t.memoizedState;if(n=o.cache,ea(t,Ye,n),n!==c.cache&&Rc(t,[Ye],a,!0),Fn(),n=o.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=qr(e,t,n,a);break e}else if(n!==i){i=yt(Error(r(424)),t),Gn(i),t=qr(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=Ct(e.firstChild),We=t,ye=!0,Oa=null,Mt=!0,a=yr(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xn(),n===i){t=Gt(e,t,a);break e}Ze(e,t,n,a)}t=t.child}return t;case 26:return pi(e,t),e===null?(a=Gf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ye||(a=t.type,e=t.pendingProps,n=Mi(ae.current).createElement(a),n[$e]=t,n[Pe]=e,Ke(n,a,e),Le(n),t.stateNode=n):t.memoizedState=Gf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xi(t),e===null&&ye&&(n=t.stateNode=kf(t.type,t.pendingProps,ae.current),We=t,Mt=!0,i=_e,ma(t.type)?(Ks=i,_e=Ct(n.firstChild)):_e=i),Ze(e,t,t.pendingProps.children,a),pi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((i=n=_e)&&(n=xh(n,t.type,t.pendingProps,Mt),n!==null?(t.stateNode=n,We=t,_e=Ct(n.firstChild),Mt=!1,i=!0):i=!1),i||Ra(t)),Xi(t),i=t.type,c=t.pendingProps,o=e!==null?e.memoizedProps:null,n=c.children,Gs(i,c)?n=null:o!==null&&Gs(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Xc(e,t,Bp,null,null,a),bl._currentValue=i),pi(e,t),Ze(e,t,n,a),t.child;case 6:return e===null&&ye&&((e=a=_e)&&(a=bh(a,t.pendingProps,Mt),a!==null?(t.stateNode=a,We=t,_e=null,e=!0):e=!1),e||Ra(t)),null;case 13:return jr(e,t,a);case 4:return Me(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dn(t,null,n,a):Ze(e,t,n,a),t.child;case 11:return Nr(e,t,t.type,t.pendingProps,a);case 7:return Ze(e,t,t.pendingProps,a),t.child;case 8:return Ze(e,t,t.pendingProps.children,a),t.child;case 12:return Ze(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ea(t,t.type,n.value),Ze(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,za(t),i=Je(i),n=n(i),t.flags|=1,Ze(e,t,n,a),t.child;case 14:return Mr(e,t,t.type,t.pendingProps,a);case 15:return Or(e,t,t.type,t.pendingProps,a);case 19:return Ur(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=hi(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Bt(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Rr(e,t,a);case 24:return za(t),n=Je(Ye),e===null?(i=Dc(),i===null&&(i=Ce,c=_c(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=a),i=c),t.memoizedState={parent:n,cache:i},jc(t),ea(t,Ye,i)):((e.lanes&a)!==0&&(Bc(e,t),Wn(t,null,null,a),Fn()),i=e.memoizedState,c=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ea(t,Ye,n)):(n=c.cache,ea(t,Ye,n),n!==i.cache&&Rc(t,[Ye],a,!0))),Ze(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Qt(e){e.flags|=4}function Yr(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$f(t)){if(t=vt.current,t!==null&&((de&4194048)===de?Ot!==null:(de&62914560)!==de&&(de&536870912)===0||t!==Ot))throw $n=qc,Au;e.flags|=8192}}function mi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?go():536870912,e.lanes|=t,yn|=t)}function ll(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Zp(e,t,a){var n=t.pendingProps;switch(Cc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kt(Ye),Ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ln(t)?Qt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gu())),Re(t),null;case 26:return a=t.memoizedState,e===null?(Qt(t),a!==null?(Re(t),Yr(t,a)):(Re(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Qt(t),Re(t),Yr(t,a)):(Re(t),t.flags&=-16777217):(e.memoizedProps!==n&&Qt(t),Re(t),t.flags&=-16777217),null;case 27:Cl(t),a=ae.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Re(t),null}e=J.current,Ln(t)?mu(t):(e=kf(i,n,a),t.stateNode=e,Qt(t))}return Re(t),null;case 5:if(Cl(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Re(t),null}if(e=J.current,Ln(t))mu(t);else{switch(i=Mi(ae.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?i.createElement(a,{is:n.is}):i.createElement(a)}}e[$e]=t,e[Pe]=n;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Ke(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qt(t)}}return Re(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=ae.current,Ln(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=We,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[$e]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Df(e.nodeValue,a)),e||Ra(t)}else e=Mi(e).createTextNode(n),e[$e]=t,t.stateNode=e}return Re(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Ln(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[$e]=t}else Xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else i=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Xt(t),t):(Xt(t),null)}if(Xt(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var c=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),mi(t,t.updateQueue),Re(t),null;case 4:return Ft(),e===null&&Hs(t.stateNode.containerInfo),Re(t),null;case 10:return kt(t.type),Re(t),null;case 19:if(Y(ke),i=t.memoizedState,i===null)return Re(t),null;if(n=(t.flags&128)!==0,c=i.rendering,c===null)if(n)ll(i,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ri(e),c!==null){for(t.flags|=128,ll(i,!1),e=c.updateQueue,t.updateQueue=e,mi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)pu(a,e),a=a.sibling;return U(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nt()>xi&&(t.flags|=128,n=!0,ll(i,!1),t.lanes=4194304)}else{if(!n)if(e=ri(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,mi(t,e),ll(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!ye)return Re(t),null}else 2*Nt()-i.renderingStartTime>xi&&a!==536870912&&(t.flags|=128,n=!0,ll(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,e=ke.current,U(ke,n?e&1|2:e&1),t):(Re(t),null);case 22:case 23:return Xt(t),kc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),a=t.updateQueue,a!==null&&mi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Y(Da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),kt(Ye),Re(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Vp(e,t){switch(Cc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kt(Ye),Ft(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cl(t),null;case 13:if(Xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(ke),null;case 4:return Ft(),null;case 10:return kt(t.type),null;case 22:case 23:return Xt(t),kc(),e!==null&&Y(Da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kt(Ye),null;case 25:return null;default:return null}}function kr(e,t){switch(Cc(t),t.tag){case 3:kt(Ye),Ft();break;case 26:case 27:case 5:Cl(t);break;case 4:Ft();break;case 13:Xt(t);break;case 19:Y(ke);break;case 10:kt(t.type);break;case 22:case 23:Xt(t),kc(),e!==null&&Y(Da);break;case 24:kt(Ye)}}function il(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var c=a.create,o=a.inst;n=c(),o.destroy=n}a=a.next}while(a!==i)}}catch(f){we(t,t.return,f)}}function sa(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&e)===e){var o=n.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,i=t;var p=a,A=f;try{A()}catch(O){we(i,p,O)}}}n=n.next}while(n!==c)}}catch(O){we(t,t.return,O)}}function Lr(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Mu(t,a)}catch(n){we(e,e.return,n)}}}function Xr(e,t,a){a.props=ja(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){we(e,t,n)}}function cl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){we(e,t,i)}}function Rt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){we(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){we(e,t,i)}else a.current=null}function Gr(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){we(e,e.return,i)}}function hs(e,t,a){try{var n=e.stateNode;ph(n,e.type,a,t),n[Pe]=t}catch(i){we(e,e.return,i)}}function Qr(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ma(e.type)||e.tag===4}function ms(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qr(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ys(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ni));else if(n!==4&&(n===27&&ma(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ys(e,t,a),e=e.sibling;e!==null;)ys(e,t,a),e=e.sibling}function yi(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&ma(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yi(e,t,a),e=e.sibling;e!==null;)yi(e,t,a),e=e.sibling}function Zr(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ke(t,n,a),t[$e]=e,t[Pe]=a}catch(c){we(e,e.return,c)}}var Zt=!1,qe=!1,gs=!1,Vr=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Kp(e,t){if(e=e.containerInfo,Ls=qi,e=nu(e),mc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var o=0,f=-1,p=-1,A=0,O=0,_=e,E=null;t:for(;;){for(var C;_!==a||i!==0&&_.nodeType!==3||(f=o+i),_!==c||n!==0&&_.nodeType!==3||(p=o+n),_.nodeType===3&&(o+=_.nodeValue.length),(C=_.firstChild)!==null;)E=_,_=C;for(;;){if(_===e)break t;if(E===a&&++A===i&&(f=o),E===c&&++O===n&&(p=o),(C=_.nextSibling)!==null)break;_=E,E=_.parentNode}_=C}a=f===-1||p===-1?null:{start:f,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xs={focusedElem:e,selectionRange:a},qi=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,i=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var P=ja(a.type,i,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(P,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(F){we(a,a.return,F)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zs(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zs(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function Kr(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:oa(e,a),n&4&&il(5,a);break;case 1:if(oa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){we(a,a.return,o)}else{var i=ja(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){we(a,a.return,o)}}n&64&&Lr(a),n&512&&cl(a,a.return);break;case 3:if(oa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Mu(e,t)}catch(o){we(a,a.return,o)}}break;case 27:t===null&&n&4&&Zr(a);case 26:case 5:oa(e,a),t===null&&n&4&&Gr(a),n&512&&cl(a,a.return);break;case 12:oa(e,a);break;case 13:oa(e,a),n&4&&Fr(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ah.bind(null,a),vh(e,a))));break;case 22:if(n=a.memoizedState!==null||Zt,!n){t=t!==null&&t.memoizedState!==null||qe,i=Zt;var c=qe;Zt=n,(qe=t)&&!c?ua(e,a,(a.subtreeFlags&8772)!==0):oa(e,a),Zt=i,qe=c}break;case 30:break;default:oa(e,a)}}function $r(e){var t=e.alternate;t!==null&&(e.alternate=null,$r(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,at=!1;function Vt(e,t,a){for(a=a.child;a!==null;)Jr(e,t,a),a=a.sibling}function Jr(e,t,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:qe||Rt(a,t),Vt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||Rt(a,t);var n=Oe,i=at;ma(a.type)&&(Oe=a.stateNode,at=!1),Vt(e,t,a),ml(a.stateNode),Oe=n,at=i;break;case 5:qe||Rt(a,t);case 6:if(n=Oe,i=at,Oe=null,Vt(e,t,a),Oe=n,at=i,Oe!==null)if(at)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(a.stateNode)}catch(c){we(a,t,c)}else try{Oe.removeChild(a.stateNode)}catch(c){we(a,t,c)}break;case 18:Oe!==null&&(at?(e=Oe,Hf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Tl(e)):Hf(Oe,a.stateNode));break;case 4:n=Oe,i=at,Oe=a.stateNode.containerInfo,at=!0,Vt(e,t,a),Oe=n,at=i;break;case 0:case 11:case 14:case 15:qe||sa(2,a,t),qe||sa(4,a,t),Vt(e,t,a);break;case 1:qe||(Rt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Xr(a,t,n)),Vt(e,t,a);break;case 21:Vt(e,t,a);break;case 22:qe=(n=qe)||a.memoizedState!==null,Vt(e,t,a),qe=n;break;default:Vt(e,t,a)}}function Fr(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tl(e)}catch(a){we(t,t.return,a)}}function $p(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vr),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vr),t;default:throw Error(r(435,e.tag))}}function xs(e,t){var a=$p(e);t.forEach(function(n){var i=nh.bind(null,e,n);a.has(n)||(a.add(n),n.then(i,i))})}function ut(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],c=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if(ma(f.type)){Oe=f.stateNode,at=!1;break e}break;case 5:Oe=f.stateNode,at=!1;break e;case 3:case 4:Oe=f.stateNode.containerInfo,at=!0;break e}f=f.return}if(Oe===null)throw Error(r(160));Jr(c,o,i),Oe=null,at=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Wr(t,e),t=t.sibling}var wt=null;function Wr(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ut(t,e),rt(e),n&4&&(sa(3,e,e.return),il(3,e),sa(5,e,e.return));break;case 1:ut(t,e),rt(e),n&512&&(qe||a===null||Rt(a,a.return)),n&64&&Zt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=wt;if(ut(t,e),rt(e),n&512&&(qe||a===null||Rt(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":c=i.getElementsByTagName("title")[0],(!c||c[Rn]||c[$e]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(n),i.head.insertBefore(c,i.querySelector("head > title"))),Ke(c,n,a),c[$e]=e,Le(c),n=c;break e;case"link":var o=Vf("link","href",i).get(n+(a.href||""));if(o){for(var f=0;f<o.length;f++)if(c=o[f],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(f,1);break t}}c=i.createElement(n),Ke(c,n,a),i.head.appendChild(c);break;case"meta":if(o=Vf("meta","content",i).get(n+(a.content||""))){for(f=0;f<o.length;f++)if(c=o[f],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(f,1);break t}}c=i.createElement(n),Ke(c,n,a),i.head.appendChild(c);break;default:throw Error(r(468,n))}c[$e]=e,Le(c),n=c}e.stateNode=n}else Kf(i,e.type,e.stateNode);else e.stateNode=Zf(i,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?Kf(i,e.type,e.stateNode):Zf(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&hs(e,e.memoizedProps,a.memoizedProps)}break;case 27:ut(t,e),rt(e),n&512&&(qe||a===null||Rt(a,a.return)),a!==null&&n&4&&hs(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ut(t,e),rt(e),n&512&&(qe||a===null||Rt(a,a.return)),e.flags&32){i=e.stateNode;try{Ka(i,"")}catch(C){we(e,e.return,C)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,hs(e,i,a!==null?a.memoizedProps:i)),n&1024&&(gs=!0);break;case 6:if(ut(t,e),rt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(C){we(e,e.return,C)}}break;case 3:if(_i=null,i=wt,wt=Oi(t.containerInfo),ut(t,e),wt=i,rt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(t.containerInfo)}catch(C){we(e,e.return,C)}gs&&(gs=!1,Ir(e));break;case 4:n=wt,wt=Oi(e.stateNode.containerInfo),ut(t,e),rt(e),wt=n;break;case 12:ut(t,e),rt(e);break;case 13:ut(t,e),rt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Es=Nt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,xs(e,n)));break;case 22:i=e.memoizedState!==null;var p=a!==null&&a.memoizedState!==null,A=Zt,O=qe;if(Zt=A||i,qe=O||p,ut(t,e),qe=O,Zt=A,rt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||p||Zt||qe||Ba(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){p=a=t;try{if(c=p.stateNode,i)o=c.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=p.stateNode;var _=p.memoizedProps.style,E=_!=null&&_.hasOwnProperty("display")?_.display:null;f.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(C){we(p,p.return,C)}}}else if(t.tag===6){if(a===null){p=t;try{p.stateNode.nodeValue=i?"":p.memoizedProps}catch(C){we(p,p.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,xs(e,a))));break;case 19:ut(t,e),rt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,xs(e,n)));break;case 30:break;case 21:break;default:ut(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Qr(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,c=ms(e);yi(e,c,i);break;case 5:var o=a.stateNode;a.flags&32&&(Ka(o,""),a.flags&=-33);var f=ms(e);yi(e,f,o);break;case 3:case 4:var p=a.stateNode.containerInfo,A=ms(e);ys(e,A,p);break;default:throw Error(r(161))}}catch(O){we(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ir(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ir(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function oa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Kr(e,t.alternate,t),t=t.sibling}function Ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sa(4,t,t.return),Ba(t);break;case 1:Rt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Xr(t,t.return,a),Ba(t);break;case 27:ml(t.stateNode);case 26:case 5:Rt(t,t.return),Ba(t);break;case 22:t.memoizedState===null&&Ba(t);break;case 30:Ba(t);break;default:Ba(t)}e=e.sibling}}function ua(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,c=t,o=c.flags;switch(c.tag){case 0:case 11:case 15:ua(i,c,a),il(4,c);break;case 1:if(ua(i,c,a),n=c,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(A){we(n,n.return,A)}if(n=c,i=n.updateQueue,i!==null){var f=n.stateNode;try{var p=i.shared.hiddenCallbacks;if(p!==null)for(i.shared.hiddenCallbacks=null,i=0;i<p.length;i++)Nu(p[i],f)}catch(A){we(n,n.return,A)}}a&&o&64&&Lr(c),cl(c,c.return);break;case 27:Zr(c);case 26:case 5:ua(i,c,a),a&&n===null&&o&4&&Gr(c),cl(c,c.return);break;case 12:ua(i,c,a);break;case 13:ua(i,c,a),a&&o&4&&Fr(i,c);break;case 22:c.memoizedState===null&&ua(i,c,a),cl(c,c.return);break;case 30:break;default:ua(i,c,a)}t=t.sibling}}function bs(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zn(a))}function vs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zn(e))}function _t(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pr(e,t,a,n),t=t.sibling}function Pr(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:_t(e,t,a,n),i&2048&&il(9,t);break;case 1:_t(e,t,a,n);break;case 3:_t(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zn(e)));break;case 12:if(i&2048){_t(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,o=c.id,f=c.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){we(t,t.return,p)}}else _t(e,t,a,n);break;case 13:_t(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,o=t.alternate,t.memoizedState!==null?c._visibility&2?_t(e,t,a,n):sl(e,t):c._visibility&2?_t(e,t,a,n):(c._visibility|=2,pn(e,t,a,n,(t.subtreeFlags&10256)!==0)),i&2048&&bs(o,t);break;case 24:_t(e,t,a,n),i&2048&&vs(t.alternate,t);break;default:_t(e,t,a,n)}}function pn(e,t,a,n,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,o=t,f=a,p=n,A=o.flags;switch(o.tag){case 0:case 11:case 15:pn(c,o,f,p,i),il(8,o);break;case 23:break;case 22:var O=o.stateNode;o.memoizedState!==null?O._visibility&2?pn(c,o,f,p,i):sl(c,o):(O._visibility|=2,pn(c,o,f,p,i)),i&&A&2048&&bs(o.alternate,o);break;case 24:pn(c,o,f,p,i),i&&A&2048&&vs(o.alternate,o);break;default:pn(c,o,f,p,i)}t=t.sibling}}function sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:sl(a,n),i&2048&&bs(n.alternate,n);break;case 24:sl(a,n),i&2048&&vs(n.alternate,n);break;default:sl(a,n)}t=t.sibling}}var ol=8192;function hn(e){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)ef(e),e=e.sibling}function ef(e){switch(e.tag){case 26:hn(e),e.flags&ol&&e.memoizedState!==null&&Dh(wt,e.memoizedState,e.memoizedProps);break;case 5:hn(e);break;case 3:case 4:var t=wt;wt=Oi(e.stateNode.containerInfo),hn(e),wt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ol,ol=16777216,hn(e),ol=t):hn(e));break;default:hn(e)}}function tf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ul(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ge=n,nf(n,e)}tf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)af(e),e=e.sibling}function af(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&sa(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gi(e)):ul(e);break;default:ul(e)}}function gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ge=n,nf(n,e)}tf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sa(8,t,t.return),gi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,gi(t));break;default:gi(t)}e=e.sibling}}function nf(e,t){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:sa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Zn(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ge=n;else e:for(a=e;Ge!==null;){n=Ge;var i=n.sibling,c=n.return;if($r(n),n===a){Ge=null;break e}if(i!==null){i.return=c,Ge=i;break e}Ge=c}}}var Jp={getCacheForType:function(e){var t=Je(Ye),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Fp=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ce=null,se=null,de=0,be=0,ft=null,ra=!1,mn=!1,Ss=!1,Kt=0,ze=0,fa=0,Ua=0,As=0,St=0,yn=0,rl=null,nt=null,Ts=!1,Es=0,xi=1/0,bi=null,da=null,Ve=0,pa=null,gn=null,xn=0,ws=0,Cs=null,lf=null,fl=0,Ns=null;function dt(){if((xe&2)!==0&&de!==0)return de&-de;if(M.T!==null){var e=ln;return e!==0?e:qs()}return vo()}function cf(){St===0&&(St=(de&536870912)===0||ye?yo():536870912);var e=vt.current;return e!==null&&(e.flags|=32),St}function pt(e,t,a){(e===Ce&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(bn(e,0),ha(e,de,St,!1)),On(e,a),((xe&2)===0||e!==Ce)&&(e===Ce&&((xe&2)===0&&(Ua|=a),ze===4&&ha(e,de,St,!1)),zt(e))}function sf(e,t,a){if((xe&6)!==0)throw Error(r(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Mn(e,t),i=n?Pp(e,t):Rs(e,t,!0),c=n;do{if(i===0){mn&&!n&&ha(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Wp(a)){i=Rs(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;i=rl;var p=f.current.memoizedState.isDehydrated;if(p&&(bn(f,o).flags|=256),o=Rs(f,o,!1),o!==2){if(Ss&&!p){f.errorRecoveryDisabledLanes|=c,Ua|=c,i=4;break e}c=nt,nt=i,c!==null&&(nt===null?nt=c:nt.push.apply(nt,c))}i=o}if(c=!1,i!==2)continue}}if(i===1){bn(e,0),ha(e,t,0,!0);break}e:{switch(n=e,c=i,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ha(n,t,St,!ra);break e;case 2:nt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=Es+300-Nt(),10<i)){if(ha(n,t,St,!ra),Rl(n,0,!0)!==0)break e;n.timeoutHandle=Bf(of.bind(null,n,a,nt,bi,Ts,t,St,Ua,yn,ra,c,2,-0,0),i);break e}of(n,a,nt,bi,Ts,t,St,Ua,yn,ra,c,0,-0,0)}}break}while(!0);zt(e)}function of(e,t,a,n,i,c,o,f,p,A,O,_,E,C){if(e.timeoutHandle=-1,_=t.subtreeFlags,(_&8192||(_&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:zh},ef(t),_=qh(),_!==null)){e.cancelPendingCommit=_(mf.bind(null,e,t,c,a,n,i,o,f,p,O,1,E,C)),ha(e,c,o,!A);return}mf(e,t,c,a,n,i,o,f,p)}function Wp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],c=i.getSnapshot;i=i.value;try{if(!st(c(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t,a,n){t&=~As,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var c=31-ct(i),o=1<<c;n[c]=-1,i&=~o}a!==0&&xo(e,a,t)}function vi(){return(xe&6)===0?(dl(0),!1):!0}function Ms(){if(se!==null){if(be===0)var e=se.return;else e=se,Yt=_a=null,Zc(e),fn=null,al=0,e=se;for(;e!==null;)kr(e.alternate,e),e=e.return;se=null}}function bn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,mh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ms(),Ce=e,se=a=Bt(e.current,null),de=t,be=0,ft=null,ra=!1,mn=Mn(e,t),Ss=!1,yn=St=As=Ua=fa=ze=0,nt=rl=null,Ts=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-ct(n),c=1<<i;t|=e[i],n&=~c}return Kt=t,Xl(),a}function uf(e,t){ie=null,M.H=si,t===Kn||t===Wl?(t=wu(),be=3):t===Au?(t=wu(),be=4):be=t===Cr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ft=t,se===null&&(ze=1,di(e,yt(t,e.current)))}function rf(){var e=M.H;return M.H=si,e===null?si:e}function ff(){var e=M.A;return M.A=Jp,e}function Os(){ze=4,ra||(de&4194048)!==de&&vt.current!==null||(mn=!0),(fa&134217727)===0&&(Ua&134217727)===0||Ce===null||ha(Ce,de,St,!1)}function Rs(e,t,a){var n=xe;xe|=2;var i=rf(),c=ff();(Ce!==e||de!==t)&&(bi=null,bn(e,t)),t=!1;var o=ze;e:do try{if(be!==0&&se!==null){var f=se,p=ft;switch(be){case 8:Ms(),o=6;break e;case 3:case 2:case 9:case 6:vt.current===null&&(t=!0);var A=be;if(be=0,ft=null,vn(e,f,p,A),a&&mn){o=0;break e}break;default:A=be,be=0,ft=null,vn(e,f,p,A)}}Ip(),o=ze;break}catch(O){uf(e,O)}while(!0);return t&&e.shellSuspendCounter++,Yt=_a=null,xe=n,M.H=i,M.A=c,se===null&&(Ce=null,de=0,Xl()),o}function Ip(){for(;se!==null;)df(se)}function Pp(e,t){var a=xe;xe|=2;var n=rf(),i=ff();Ce!==e||de!==t?(bi=null,xi=Nt()+500,bn(e,t)):mn=Mn(e,t);e:do try{if(be!==0&&se!==null){t=se;var c=ft;t:switch(be){case 1:be=0,ft=null,vn(e,t,c,1);break;case 2:case 9:if(Tu(c)){be=0,ft=null,pf(t);break}t=function(){be!==2&&be!==9||Ce!==e||(be=7),zt(e)},c.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Tu(c)?(be=0,ft=null,pf(t)):(be=0,ft=null,vn(e,t,c,7));break;case 5:var o=null;switch(se.tag){case 26:o=se.memoizedState;case 5:case 27:var f=se;if(!o||$f(o)){be=0,ft=null;var p=f.sibling;if(p!==null)se=p;else{var A=f.return;A!==null?(se=A,Si(A)):se=null}break t}}be=0,ft=null,vn(e,t,c,5);break;case 6:be=0,ft=null,vn(e,t,c,6);break;case 8:Ms(),ze=6;break e;default:throw Error(r(462))}}eh();break}catch(O){uf(e,O)}while(!0);return Yt=_a=null,M.H=n,M.A=i,xe=a,se!==null?0:(Ce=null,de=0,Xl(),ze)}function eh(){for(;se!==null&&!Ad();)df(se)}function df(e){var t=Hr(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?Si(e):se=t}function pf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=zr(a,t,t.pendingProps,t.type,void 0,de);break;case 11:t=zr(a,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:Zc(t);default:kr(a,t),t=se=pu(t,Kt),t=Hr(a,t,Kt)}e.memoizedProps=e.pendingProps,t===null?Si(e):se=t}function vn(e,t,a,n){Yt=_a=null,Zc(t),fn=null,al=0;var i=t.return;try{if(Gp(e,i,t,a,de)){ze=1,di(e,yt(a,e.current)),se=null;return}}catch(c){if(i!==null)throw se=i,c;ze=1,di(e,yt(a,e.current)),se=null;return}t.flags&32768?(ye||n===1?e=!0:mn||(de&536870912)!==0?e=!1:(ra=e=!0,(n===2||n===9||n===3||n===6)&&(n=vt.current,n!==null&&n.tag===13&&(n.flags|=16384))),hf(t,e)):Si(t)}function Si(e){var t=e;do{if((t.flags&32768)!==0){hf(t,ra);return}e=t.return;var a=Zp(t.alternate,t,Kt);if(a!==null){se=a;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ze===0&&(ze=5)}function hf(e,t){do{var a=Vp(e.alternate,e);if(a!==null){a.flags&=32767,se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=a}while(e!==null);ze=6,se=null}function mf(e,t,a,n,i,c,o,f,p){e.cancelPendingCommit=null;do Ai();while(Ve!==0);if((xe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=vc,zd(e,a,c,o,f,p),e===Ce&&(se=Ce=null,de=0),gn=t,pa=e,xn=a,ws=c,Cs=i,lf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lh(Nl,function(){return vf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null,i=B.p,B.p=2,o=xe,xe|=4;try{Kp(e,t,a)}finally{xe=o,B.p=i,M.T=n}}Ve=1,yf(),gf(),xf()}}function yf(){if(Ve===1){Ve=0;var e=pa,t=gn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var n=B.p;B.p=2;var i=xe;xe|=4;try{Wr(t,e);var c=Xs,o=nu(e.containerInfo),f=c.focusedElem,p=c.selectionRange;if(o!==f&&f&&f.ownerDocument&&au(f.ownerDocument.documentElement,f)){if(p!==null&&mc(f)){var A=p.start,O=p.end;if(O===void 0&&(O=A),"selectionStart"in f)f.selectionStart=A,f.selectionEnd=Math.min(O,f.value.length);else{var _=f.ownerDocument||document,E=_&&_.defaultView||window;if(E.getSelection){var C=E.getSelection(),P=f.textContent.length,F=Math.min(p.start,P),Te=p.end===void 0?F:Math.min(p.end,P);!C.extend&&F>Te&&(o=Te,Te=F,F=o);var b=tu(f,F),y=tu(f,Te);if(b&&y&&(C.rangeCount!==1||C.anchorNode!==b.node||C.anchorOffset!==b.offset||C.focusNode!==y.node||C.focusOffset!==y.offset)){var v=_.createRange();v.setStart(b.node,b.offset),C.removeAllRanges(),F>Te?(C.addRange(v),C.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),C.addRange(v))}}}}for(_=[],C=f;C=C.parentNode;)C.nodeType===1&&_.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<_.length;f++){var R=_[f];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}qi=!!Ls,Xs=Ls=null}finally{xe=i,B.p=n,M.T=a}}e.current=t,Ve=2}}function gf(){if(Ve===2){Ve=0;var e=pa,t=gn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var n=B.p;B.p=2;var i=xe;xe|=4;try{Kr(e,t.alternate,t)}finally{xe=i,B.p=n,M.T=a}}Ve=3}}function xf(){if(Ve===4||Ve===3){Ve=0,Td();var e=pa,t=gn,a=xn,n=lf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ve=5:(Ve=0,gn=pa=null,bf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(da=null),$i(a),t=t.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Nn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=M.T,i=B.p,B.p=2,M.T=null;try{for(var c=e.onRecoverableError,o=0;o<n.length;o++){var f=n[o];c(f.value,{componentStack:f.stack})}}finally{M.T=t,B.p=i}}(xn&3)!==0&&Ai(),zt(e),i=e.pendingLanes,(a&4194090)!==0&&(i&42)!==0?e===Ns?fl++:(fl=0,Ns=e):fl=0,dl(0)}}function bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zn(t)))}function Ai(e){return yf(),gf(),xf(),vf()}function vf(){if(Ve!==5)return!1;var e=pa,t=ws;ws=0;var a=$i(xn),n=M.T,i=B.p;try{B.p=32>a?32:a,M.T=null,a=Cs,Cs=null;var c=pa,o=xn;if(Ve=0,gn=pa=null,xn=0,(xe&6)!==0)throw Error(r(331));var f=xe;if(xe|=4,af(c.current),Pr(c,c.current,o,a),xe=f,dl(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Nn,c)}catch{}return!0}finally{B.p=i,M.T=n,bf(e,t)}}function Sf(e,t,a){t=yt(a,t),t=is(e.stateNode,t,2),e=na(e,t,2),e!==null&&(On(e,2),zt(e))}function we(e,t,a){if(e.tag===3)Sf(e,e,a);else for(;t!==null;){if(t.tag===3){Sf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(da===null||!da.has(n))){e=yt(a,e),a=Er(2),n=na(t,a,2),n!==null&&(wr(a,n,t,e),On(n,2),zt(n));break}}t=t.return}}function _s(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Fp;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(Ss=!0,i.add(a),e=th.bind(null,e,t,a),t.then(e,e))}function th(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ce===e&&(de&a)===a&&(ze===4||ze===3&&(de&62914560)===de&&300>Nt()-Es?(xe&2)===0&&bn(e,0):As|=a,yn===de&&(yn=0)),zt(e)}function Af(e,t){t===0&&(t=go()),e=en(e,t),e!==null&&(On(e,t),zt(e))}function ah(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Af(e,a)}function nh(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Af(e,a)}function lh(e,t){return Qi(e,t)}var Ti=null,Sn=null,zs=!1,Ei=!1,Ds=!1,Ha=0;function zt(e){e!==Sn&&e.next===null&&(Sn===null?Ti=Sn=e:Sn=Sn.next=e),Ei=!0,zs||(zs=!0,ch())}function dl(e,t){if(!Ds&&Ei){Ds=!0;do for(var a=!1,n=Ti;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var c=0;else{var o=n.suspendedLanes,f=n.pingedLanes;c=(1<<31-ct(42|e)+1)-1,c&=i&~(o&~f),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Cf(n,c))}else c=de,c=Rl(n,n===Ce?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Mn(n,c)||(a=!0,Cf(n,c));n=n.next}while(a);Ds=!1}}function ih(){Tf()}function Tf(){Ei=zs=!1;var e=0;Ha!==0&&(hh()&&(e=Ha),Ha=0);for(var t=Nt(),a=null,n=Ti;n!==null;){var i=n.next,c=Ef(n,t);c===0?(n.next=null,a===null?Ti=i:a.next=i,i===null&&(Sn=a)):(a=n,(e!==0||(c&3)!==0)&&(Ei=!0)),n=i}dl(e)}function Ef(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var o=31-ct(c),f=1<<o,p=i[o];p===-1?((f&a)===0||(f&n)!==0)&&(i[o]=_d(f,t)):p<=t&&(e.expiredLanes|=f),c&=~f}if(t=Ce,a=de,a=Rl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Zi(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Mn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Zi(n),$i(a)){case 2:case 8:a=ho;break;case 32:a=Nl;break;case 268435456:a=mo;break;default:a=Nl}return n=wf.bind(null,e),a=Qi(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Zi(n),e.callbackPriority=2,e.callbackNode=null,2}function wf(e,t){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ai()&&e.callbackNode!==a)return null;var n=de;return n=Rl(e,e===Ce?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(sf(e,n,t),Ef(e,Nt()),e.callbackNode!=null&&e.callbackNode===a?wf.bind(null,e):null)}function Cf(e,t){if(Ai())return null;sf(e,t,!0)}function ch(){yh(function(){(xe&6)!==0?Qi(po,ih):Tf()})}function qs(){return Ha===0&&(Ha=yo()),Ha}function Nf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jl(""+e)}function Mf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function sh(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var c=Nf((i[Pe]||null).action),o=n.submitter;o&&(t=(t=o[Pe]||null)?Nf(t.formAction):o.getAttribute("formAction"),t!==null&&(c=t,o=null));var f=new Yl("action","action",null,n,i);e.push({event:f,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ha!==0){var p=o?Mf(i,o):new FormData(i);es(a,{pending:!0,data:p,method:i.method,action:c},null,p)}}else typeof c=="function"&&(f.preventDefault(),p=o?Mf(i,o):new FormData(i),es(a,{pending:!0,data:p,method:i.method,action:c},c,p))},currentTarget:i}]})}}for(var js=0;js<bc.length;js++){var Bs=bc[js],oh=Bs.toLowerCase(),uh=Bs[0].toUpperCase()+Bs.slice(1);Et(oh,"on"+uh)}Et(cu,"onAnimationEnd"),Et(su,"onAnimationIteration"),Et(ou,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(Cp,"onTransitionRun"),Et(Np,"onTransitionStart"),Et(Mp,"onTransitionCancel"),Et(uu,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Of(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var o=n.length-1;0<=o;o--){var f=n[o],p=f.instance,A=f.currentTarget;if(f=f.listener,p!==c&&i.isPropagationStopped())break e;c=f,i.currentTarget=A;try{c(i)}catch(O){fi(O)}i.currentTarget=null,c=p}else for(o=0;o<n.length;o++){if(f=n[o],p=f.instance,A=f.currentTarget,f=f.listener,p!==c&&i.isPropagationStopped())break e;c=f,i.currentTarget=A;try{c(i)}catch(O){fi(O)}i.currentTarget=null,c=p}}}}function oe(e,t){var a=t[Ji];a===void 0&&(a=t[Ji]=new Set);var n=e+"__bubble";a.has(n)||(Rf(t,e,2,!1),a.add(n))}function Us(e,t,a){var n=0;t&&(n|=4),Rf(a,e,n,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[wi]){e[wi]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(rh.has(a)||Us(a,!1,e),Us(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,Us("selectionchange",!1,t))}}function Rf(e,t,a,n){switch(ed(t)){case 2:var i=Uh;break;case 8:i=Hh;break;default:i=Is}a=i.bind(null,t,a,e),i=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Ys(e,t,a,n,i){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var f=n.stateNode.containerInfo;if(f===i)break;if(o===4)for(o=n.return;o!==null;){var p=o.tag;if((p===3||p===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;f!==null;){if(o=La(f),o===null)return;if(p=o.tag,p===5||p===6||p===26||p===27){n=c=o;continue e}f=f.parentNode}}n=n.return}Bo(function(){var A=c,O=lc(a),_=[];e:{var E=ru.get(e);if(E!==void 0){var C=Yl,P=e;switch(e){case"keypress":if(Ul(a)===0)break e;case"keydown":case"keyup":C=lp;break;case"focusin":P="focus",C=rc;break;case"focusout":P="blur",C=rc;break;case"beforeblur":case"afterblur":C=rc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=sp;break;case cu:case su:case ou:C=Jd;break;case uu:C=up;break;case"scroll":case"scrollend":C=Qd;break;case"wheel":C=fp;break;case"copy":case"cut":case"paste":C=Wd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Lo;break;case"toggle":case"beforetoggle":C=pp}var F=(t&4)!==0,Te=!F&&(e==="scroll"||e==="scrollend"),b=F?E!==null?E+"Capture":null:E;F=[];for(var y=A,v;y!==null;){var R=y;if(v=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||v===null||b===null||(R=zn(y,b),R!=null&&F.push(hl(y,R,v))),Te)break;y=y.return}0<F.length&&(E=new C(E,P,null,a,O),_.push({event:E,listeners:F}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",E&&a!==nc&&(P=a.relatedTarget||a.fromElement)&&(La(P)||P[ka]))break e;if((C||E)&&(E=O.window===O?O:(E=O.ownerDocument)?E.defaultView||E.parentWindow:window,C?(P=a.relatedTarget||a.toElement,C=A,P=P?La(P):null,P!==null&&(Te=g(P),F=P.tag,P!==Te||F!==5&&F!==27&&F!==6)&&(P=null)):(C=null,P=A),C!==P)){if(F=Yo,R="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(F=Lo,R="onPointerLeave",b="onPointerEnter",y="pointer"),Te=C==null?E:_n(C),v=P==null?E:_n(P),E=new F(R,y+"leave",C,a,O),E.target=Te,E.relatedTarget=v,R=null,La(O)===A&&(F=new F(b,y+"enter",P,a,O),F.target=v,F.relatedTarget=Te,R=F),Te=R,C&&P)t:{for(F=C,b=P,y=0,v=F;v;v=An(v))y++;for(v=0,R=b;R;R=An(R))v++;for(;0<y-v;)F=An(F),y--;for(;0<v-y;)b=An(b),v--;for(;y--;){if(F===b||b!==null&&F===b.alternate)break t;F=An(F),b=An(b)}F=null}else F=null;C!==null&&_f(_,E,C,F,!1),P!==null&&Te!==null&&_f(_,Te,P,F,!0)}}e:{if(E=A?_n(A):window,C=E.nodeName&&E.nodeName.toLowerCase(),C==="select"||C==="input"&&E.type==="file")var L=Jo;else if(Ko(E))if(Fo)L=Tp;else{L=Sp;var ce=vp}else C=E.nodeName,!C||C.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?A&&ac(A.elementType)&&(L=Jo):L=Ap;if(L&&(L=L(e,A))){$o(_,L,a,O);break e}ce&&ce(e,E,A),e==="focusout"&&A&&E.type==="number"&&A.memoizedProps.value!=null&&tc(E,"number",E.value)}switch(ce=A?_n(A):window,e){case"focusin":(Ko(ce)||ce.contentEditable==="true")&&(Wa=ce,yc=A,kn=null);break;case"focusout":kn=yc=Wa=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,lu(_,a,O);break;case"selectionchange":if(wp)break;case"keydown":case"keyup":lu(_,a,O)}var Q;if(dc)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Fa?Zo(e,a)&&(W="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(W="onCompositionStart");W&&(Xo&&a.locale!=="ko"&&(Fa||W!=="onCompositionStart"?W==="onCompositionEnd"&&Fa&&(Q=Uo()):(Pt=O,sc="value"in Pt?Pt.value:Pt.textContent,Fa=!0)),ce=Ci(A,W),0<ce.length&&(W=new ko(W,e,null,a,O),_.push({event:W,listeners:ce}),Q?W.data=Q:(Q=Vo(a),Q!==null&&(W.data=Q)))),(Q=mp?yp(e,a):gp(e,a))&&(W=Ci(A,"onBeforeInput"),0<W.length&&(ce=new ko("onBeforeInput","beforeinput",null,a,O),_.push({event:ce,listeners:W}),ce.data=Q)),sh(_,e,A,a,O)}Of(_,t)})}function hl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ci(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=zn(e,a),i!=null&&n.unshift(hl(e,i,c)),i=zn(e,t),i!=null&&n.push(hl(e,i,c))),e.tag===3)return n;e=e.return}return[]}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _f(e,t,a,n,i){for(var c=t._reactName,o=[];a!==null&&a!==n;){var f=a,p=f.alternate,A=f.stateNode;if(f=f.tag,p!==null&&p===n)break;f!==5&&f!==26&&f!==27||A===null||(p=A,i?(A=zn(a,c),A!=null&&o.unshift(hl(a,A,p))):i||(A=zn(a,c),A!=null&&o.push(hl(a,A,p)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var fh=/\r\n?/g,dh=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(fh,`
`).replace(dh,"")}function Df(e,t){return t=zf(t),zf(e)===t}function Ni(){}function Ae(e,t,a,n,i,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Ka(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Ka(e,""+n);break;case"className":zl(e,"class",n);break;case"tabIndex":zl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,a,n);break;case"style":qo(e,n,c);break;case"data":if(t!=="object"){zl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=jl(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ae(e,t,"name",i.name,i,null),Ae(e,t,"formEncType",i.formEncType,i,null),Ae(e,t,"formMethod",i.formMethod,i,null),Ae(e,t,"formTarget",i.formTarget,i,null)):(Ae(e,t,"encType",i.encType,i,null),Ae(e,t,"method",i.method,i,null),Ae(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=jl(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ni);break;case"onScroll":n!=null&&oe("scroll",e);break;case"onScrollEnd":n!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=jl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":oe("beforetoggle",e),oe("toggle",e),_l(e,"popover",n);break;case"xlinkActuate":qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":qt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":qt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":qt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":qt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":_l(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xd.get(a)||a,_l(e,a,n))}}function ks(e,t,a,n,i,c){switch(a){case"style":qo(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Ka(e,n):(typeof n=="number"||typeof n=="bigint")&&Ka(e,""+n);break;case"onScroll":n!=null&&oe("scroll",e);break;case"onScrollEnd":n!=null&&oe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),c=e[Pe]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):_l(e,a,n)}}}function Ke(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var n=!1,i=!1,c;for(c in a)if(a.hasOwnProperty(c)){var o=a[c];if(o!=null)switch(c){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,c,o,a,null)}}i&&Ae(e,t,"srcSet",a.srcSet,a,null),n&&Ae(e,t,"src",a.src,a,null);return;case"input":oe("invalid",e);var f=c=o=i=null,p=null,A=null;for(n in a)if(a.hasOwnProperty(n)){var O=a[n];if(O!=null)switch(n){case"name":i=O;break;case"type":o=O;break;case"checked":p=O;break;case"defaultChecked":A=O;break;case"value":c=O;break;case"defaultValue":f=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Ae(e,t,n,O,a,null)}}Ro(e,c,f,p,A,o,i,!1),Dl(e);return;case"select":oe("invalid",e),n=o=c=null;for(i in a)if(a.hasOwnProperty(i)&&(f=a[i],f!=null))switch(i){case"value":c=f;break;case"defaultValue":o=f;break;case"multiple":n=f;default:Ae(e,t,i,f,a,null)}t=c,a=o,e.multiple=!!n,t!=null?Va(e,!!n,t,!1):a!=null&&Va(e,!!n,a,!0);return;case"textarea":oe("invalid",e),c=i=n=null;for(o in a)if(a.hasOwnProperty(o)&&(f=a[o],f!=null))switch(o){case"value":n=f;break;case"defaultValue":i=f;break;case"children":c=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:Ae(e,t,o,f,a,null)}zo(e,n,i,c),Dl(e);return;case"option":for(p in a)if(a.hasOwnProperty(p)&&(n=a[p],n!=null))switch(p){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ae(e,t,p,n,a,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(n=0;n<pl.length;n++)oe(pl[n],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(n=a[A],n!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,A,n,a,null)}return;default:if(ac(t)){for(O in a)a.hasOwnProperty(O)&&(n=a[O],n!==void 0&&ks(e,t,O,n,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!=null&&Ae(e,t,f,n,a,null))}function ph(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,o=null,f=null,p=null,A=null,O=null;for(C in a){var _=a[C];if(a.hasOwnProperty(C)&&_!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":p=_;default:n.hasOwnProperty(C)||Ae(e,t,C,null,n,_)}}for(var E in n){var C=n[E];if(_=a[E],n.hasOwnProperty(E)&&(C!=null||_!=null))switch(E){case"type":c=C;break;case"name":i=C;break;case"checked":A=C;break;case"defaultChecked":O=C;break;case"value":o=C;break;case"defaultValue":f=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:C!==_&&Ae(e,t,E,C,n,_)}}ec(e,o,f,p,A,O,c,i);return;case"select":C=o=f=E=null;for(c in a)if(p=a[c],a.hasOwnProperty(c)&&p!=null)switch(c){case"value":break;case"multiple":C=p;default:n.hasOwnProperty(c)||Ae(e,t,c,null,n,p)}for(i in n)if(c=n[i],p=a[i],n.hasOwnProperty(i)&&(c!=null||p!=null))switch(i){case"value":E=c;break;case"defaultValue":f=c;break;case"multiple":o=c;default:c!==p&&Ae(e,t,i,c,n,p)}t=f,a=o,n=C,E!=null?Va(e,!!a,E,!1):!!n!=!!a&&(t!=null?Va(e,!!a,t,!0):Va(e,!!a,a?[]:"",!1));return;case"textarea":C=E=null;for(f in a)if(i=a[f],a.hasOwnProperty(f)&&i!=null&&!n.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Ae(e,t,f,null,n,i)}for(o in n)if(i=n[o],c=a[o],n.hasOwnProperty(o)&&(i!=null||c!=null))switch(o){case"value":E=i;break;case"defaultValue":C=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==c&&Ae(e,t,o,i,n,c)}_o(e,E,C);return;case"option":for(var P in a)if(E=a[P],a.hasOwnProperty(P)&&E!=null&&!n.hasOwnProperty(P))switch(P){case"selected":e.selected=!1;break;default:Ae(e,t,P,null,n,E)}for(p in n)if(E=n[p],C=a[p],n.hasOwnProperty(p)&&E!==C&&(E!=null||C!=null))switch(p){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Ae(e,t,p,E,n,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in a)E=a[F],a.hasOwnProperty(F)&&E!=null&&!n.hasOwnProperty(F)&&Ae(e,t,F,null,n,E);for(A in n)if(E=n[A],C=a[A],n.hasOwnProperty(A)&&E!==C&&(E!=null||C!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(137,t));break;default:Ae(e,t,A,E,n,C)}return;default:if(ac(t)){for(var Te in a)E=a[Te],a.hasOwnProperty(Te)&&E!==void 0&&!n.hasOwnProperty(Te)&&ks(e,t,Te,void 0,n,E);for(O in n)E=n[O],C=a[O],!n.hasOwnProperty(O)||E===C||E===void 0&&C===void 0||ks(e,t,O,E,n,C);return}}for(var b in a)E=a[b],a.hasOwnProperty(b)&&E!=null&&!n.hasOwnProperty(b)&&Ae(e,t,b,null,n,E);for(_ in n)E=n[_],C=a[_],!n.hasOwnProperty(_)||E===C||E==null&&C==null||Ae(e,t,_,E,n,C)}var Ls=null,Xs=null;function Mi(e){return e.nodeType===9?e:e.ownerDocument}function qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qs=null;function hh(){var e=window.event;return e&&e.type==="popstate"?e===Qs?!1:(Qs=e,!0):(Qs=null,!1)}var Bf=typeof setTimeout=="function"?setTimeout:void 0,mh=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,yh=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(e){return Uf.resolve(null).then(e).catch(gh)}:Bf;function gh(e){setTimeout(function(){throw e})}function ma(e){return e==="head"}function Hf(e,t){var a=t,n=0,i=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(0<n&&8>n){a=n;var o=e.ownerDocument;if(a&1&&ml(o.documentElement),a&2&&ml(o.body),a&4)for(a=o.head,ml(a),o=a.firstChild;o;){var f=o.nextSibling,p=o.nodeName;o[Rn]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=f}}if(i===0){e.removeChild(c),Tl(t);return}i--}else a==="$"||a==="$?"||a==="$!"?i++:n=a.charCodeAt(0)-48;else n=0;a=c}while(a);Tl(t)}function Zs(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zs(a),Fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xh(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Ct(e.nextSibling),e===null)break}return null}function bh(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ct(e.nextSibling),e===null))return null;return e}function Vs(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function vh(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ks=null;function Yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function kf(e,t,a){switch(t=Mi(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ml(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fi(e)}var At=new Map,Lf=new Set;function Oi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $t=B.d;B.d={f:Sh,r:Ah,D:Th,C:Eh,L:wh,m:Ch,X:Mh,S:Nh,M:Oh};function Sh(){var e=$t.f(),t=vi();return e||t}function Ah(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?cr(t):$t.r(e)}var Tn=typeof document>"u"?null:document;function Xf(e,t,a){var n=Tn;if(n&&typeof t=="string"&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Lf.has(i)||(Lf.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Ke(t,"link",e),Le(t),n.head.appendChild(t)))}}function Th(e){$t.D(e),Xf("dns-prefetch",e,null)}function Eh(e,t){$t.C(e,t),Xf("preconnect",e,t)}function wh(e,t,a){$t.L(e,t,a);var n=Tn;if(n&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+mt(a.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var c=i;switch(t){case"style":c=En(e);break;case"script":c=wn(e)}At.has(c)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),At.set(c,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(yl(c))||t==="script"&&n.querySelector(gl(c))||(t=n.createElement("link"),Ke(t,"link",e),Le(t),n.head.appendChild(t)))}}function Ch(e,t){$t.m(e,t);var a=Tn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',c=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=wn(e)}if(!At.has(c)&&(e=w({rel:"modulepreload",href:e},t),At.set(c,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(c)))return}n=a.createElement("link"),Ke(n,"link",e),Le(n),a.head.appendChild(n)}}}function Nh(e,t,a){$t.S(e,t,a);var n=Tn;if(n&&e){var i=Ga(n).hoistableStyles,c=En(e);t=t||"default";var o=i.get(c);if(!o){var f={loading:0,preload:null};if(o=n.querySelector(yl(c)))f.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=At.get(c))&&$s(e,a);var p=o=n.createElement("link");Le(p),Ke(p,"link",e),p._p=new Promise(function(A,O){p.onload=A,p.onerror=O}),p.addEventListener("load",function(){f.loading|=1}),p.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Ri(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:f},i.set(c,o)}}}function Mh(e,t){$t.X(e,t);var a=Tn;if(a&&e){var n=Ga(a).hoistableScripts,i=wn(e),c=n.get(i);c||(c=a.querySelector(gl(i)),c||(e=w({src:e,async:!0},t),(t=At.get(i))&&Js(e,t),c=a.createElement("script"),Le(c),Ke(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function Oh(e,t){$t.M(e,t);var a=Tn;if(a&&e){var n=Ga(a).hoistableScripts,i=wn(e),c=n.get(i);c||(c=a.querySelector(gl(i)),c||(e=w({src:e,async:!0,type:"module"},t),(t=At.get(i))&&Js(e,t),c=a.createElement("script"),Le(c),Ke(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function Gf(e,t,a,n){var i=(i=ae.current)?Oi(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=En(a.href),a=Ga(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=En(a.href);var c=Ga(i).hoistableStyles,o=c.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,o),(c=i.querySelector(yl(e)))&&!c._p&&(o.instance=c,o.state.loading=5),At.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},At.set(e,a),c||Rh(i,e,a,o.state))),t&&n===null)throw Error(r(528,""));return o}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wn(a),a=Ga(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function En(e){return'href="'+mt(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function Qf(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Rh(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ke(t,"link",a),Le(t),e.head.appendChild(t))}function wn(e){return'[src="'+mt(e)+'"]'}function gl(e){return"script[async]"+e}function Zf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(a.href)+'"]');if(n)return t.instance=n,Le(n),n;var i=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Le(n),Ke(n,"style",i),Ri(n,a.precedence,e),t.instance=n;case"stylesheet":i=En(a.href);var c=e.querySelector(yl(i));if(c)return t.state.loading|=4,t.instance=c,Le(c),c;n=Qf(a),(i=At.get(i))&&$s(n,i),c=(e.ownerDocument||e).createElement("link"),Le(c);var o=c;return o._p=new Promise(function(f,p){o.onload=f,o.onerror=p}),Ke(c,"link",n),t.state.loading|=4,Ri(c,a.precedence,e),t.instance=c;case"script":return c=wn(a.src),(i=e.querySelector(gl(c)))?(t.instance=i,Le(i),i):(n=a,(i=At.get(c))&&(n=w({},a),Js(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Le(i),Ke(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ri(n,a.precedence,e));return t.instance}function Ri(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,c=i,o=0;o<n.length;o++){var f=n[o];if(f.dataset.precedence===t)c=f;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function $s(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Js(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _i=null;function Vf(e,t,a){if(_i===null){var n=new Map,i=_i=new Map;i.set(a,n)}else i=_i,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var c=a[i];if(!(c[Rn]||c[$e]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var o=c.getAttribute(t)||"";o=e+o;var f=n.get(o);f?f.push(c):n.set(o,[c])}}return n}function Kf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function _h(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $f(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var xl=null;function zh(){}function Dh(e,t,a){if(xl===null)throw Error(r(475));var n=xl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=En(a.href),c=e.querySelector(yl(i));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=zi.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=c,Le(c);return}c=e.ownerDocument||e,a=Qf(a),(i=At.get(i))&&$s(a,i),c=c.createElement("link"),Le(c);var o=c;o._p=new Promise(function(f,p){o.onload=f,o.onerror=p}),Ke(c,"link",a),t.instance=c}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=zi.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function qh(){if(xl===null)throw Error(r(475));var e=xl;return e.stylesheets&&e.count===0&&Fs(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Fs(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zi(){if(this.count--,this.count===0){if(this.stylesheets)Fs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Di=null;function Fs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Di=new Map,t.forEach(jh,e),Di=null,zi.call(e))}function jh(e,t){if(!(t.state.loading&4)){var a=Di.get(e);if(a)var n=a.get(null);else{a=new Map,Di.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var o=i[c];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}i=t.instance,o=i.getAttribute("data-precedence"),c=a.get(o)||n,c===n&&a.set(null,i),a.set(o,i),this.count++,n=zi.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var bl={$$typeof:q,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Bh(e,t,a,n,i,c,o,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Jf(e,t,a,n,i,c,o,f,p,A,O,_){return e=new Bh(e,t,a,o,f,p,A,_),t=1,c===!0&&(t|=24),c=ot(3,null,null,t),e.current=c,c.stateNode=e,t=_c(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},jc(c),e}function Ff(e){return e?(e=tn,e):tn}function Wf(e,t,a,n,i,c){i=Ff(i),n.context===null?n.context=i:n.pendingContext=i,n=aa(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=na(e,n,t),a!==null&&(pt(a,e,t),Jn(a,e,t))}function If(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ws(e,t){If(e,t),(e=e.alternate)&&If(e,t)}function Pf(e){if(e.tag===13){var t=en(e,67108864);t!==null&&pt(t,e,67108864),Ws(e,67108864)}}var qi=!0;function Uh(e,t,a,n){var i=M.T;M.T=null;var c=B.p;try{B.p=2,Is(e,t,a,n)}finally{B.p=c,M.T=i}}function Hh(e,t,a,n){var i=M.T;M.T=null;var c=B.p;try{B.p=8,Is(e,t,a,n)}finally{B.p=c,M.T=i}}function Is(e,t,a,n){if(qi){var i=Ps(n);if(i===null)Ys(e,t,n,ji,a),td(e,n);else if(kh(i,e,t,a,n))n.stopPropagation();else if(td(e,n),t&4&&-1<Yh.indexOf(e)){for(;i!==null;){var c=Xa(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var o=Sa(c.pendingLanes);if(o!==0){var f=c;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var p=1<<31-ct(o);f.entanglements[1]|=p,o&=~p}zt(c),(xe&6)===0&&(xi=Nt()+500,dl(0))}}break;case 13:f=en(c,2),f!==null&&pt(f,c,2),vi(),Ws(c,2)}if(c=Ps(n),c===null&&Ys(e,t,n,ji,a),c===i)break;i=c}i!==null&&n.stopPropagation()}else Ys(e,t,n,null,a)}}function Ps(e){return e=lc(e),eo(e)}var ji=null;function eo(e){if(ji=null,e=La(e),e!==null){var t=g(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=T(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ji=e,null}function ed(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ed()){case po:return 2;case ho:return 8;case Nl:case wd:return 32;case mo:return 268435456;default:return 32}default:return 32}}var to=!1,ya=null,ga=null,xa=null,vl=new Map,Sl=new Map,ba=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function td(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(t.pointerId)}}function Al(e,t,a,n,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[i]},t!==null&&(t=Xa(t),t!==null&&Pf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kh(e,t,a,n,i){switch(t){case"focusin":return ya=Al(ya,e,t,a,n,i),!0;case"dragenter":return ga=Al(ga,e,t,a,n,i),!0;case"mouseover":return xa=Al(xa,e,t,a,n,i),!0;case"pointerover":var c=i.pointerId;return vl.set(c,Al(vl.get(c)||null,e,t,a,n,i)),!0;case"gotpointercapture":return c=i.pointerId,Sl.set(c,Al(Sl.get(c)||null,e,t,a,n,i)),!0}return!1}function ad(e){var t=La(e.target);if(t!==null){var a=g(t);if(a!==null){if(t=a.tag,t===13){if(t=T(a),t!==null){e.blockedOn=t,Dd(e.priority,function(){if(a.tag===13){var n=dt();n=Ki(n);var i=en(a,n);i!==null&&pt(i,a,n),Ws(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ps(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);nc=n,a.target.dispatchEvent(n),nc=null}else return t=Xa(a),t!==null&&Pf(t),e.blockedOn=a,!1;t.shift()}return!0}function nd(e,t,a){Bi(e)&&a.delete(t)}function Lh(){to=!1,ya!==null&&Bi(ya)&&(ya=null),ga!==null&&Bi(ga)&&(ga=null),xa!==null&&Bi(xa)&&(xa=null),vl.forEach(nd),Sl.forEach(nd)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,to||(to=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Lh)))}var Hi=null;function ld(e){Hi!==e&&(Hi=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Hi===e&&(Hi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(eo(n||a)===null)continue;break}var c=Xa(a);c!==null&&(e.splice(t,3),t-=3,es(c,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function Tl(e){function t(p){return Ui(p,e)}ya!==null&&Ui(ya,e),ga!==null&&Ui(ga,e),xa!==null&&Ui(xa,e),vl.forEach(t),Sl.forEach(t);for(var a=0;a<ba.length;a++){var n=ba[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)ad(a),a.blockedOn===null&&ba.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],c=a[n+1],o=i[Pe]||null;if(typeof c=="function")o||ld(a);else if(o){var f=null;if(c&&c.hasAttribute("formAction")){if(i=c,o=c[Pe]||null)f=o.formAction;else if(eo(i)!==null)continue}else f=o.action;typeof f=="function"?a[n+1]=f:(a.splice(n,3),n-=3),ld(a)}}}function ao(e){this._internalRoot=e}Yi.prototype.render=ao.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=dt();Wf(a,n,e,t,null,null)},Yi.prototype.unmount=ao.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wf(e.current,2,null,e,null,null),vi(),t[ka]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=vo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ba.length&&t!==0&&t<ba[a].priority;a++);ba.splice(a,0,e),a===0&&ad(e)}};var id=s.version;if(id!=="19.1.1")throw Error(r(527,id,"19.1.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var Xh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{Nn=ki.inject(Xh),it=ki}catch{}}return wl.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,n="",i=vr,c=Sr,o=Ar,f=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=Jf(e,1,!1,null,null,a,n,i,c,o,f,null),e[ka]=t.current,Hs(e),new ao(t)},wl.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var n=!1,i="",c=vr,o=Sr,f=Ar,p=null,A=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(p=a.unstable_transitionCallbacks),a.formState!==void 0&&(A=a.formState)),t=Jf(e,1,!0,t,a??null,n,i,c,o,f,p,A),t.context=Ff(null),a=t.current,n=dt(),n=Ki(n),i=aa(n),i.callback=null,na(a,i,n),a=n,t.current.lanes=a,On(t,a),zt(t),e[ka]=t.current,Hs(e),new Yi(t)},wl.version="19.1.1",wl}var md;function Ih(){if(md)return io.exports;md=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),io.exports=Wh(),io.exports}var Ph=Ih();const em={definition:{exec:function*(l,s,u){const r=l.pop();yield*u(Array.isArray(r)?r:[r],l,s)},description:"Executes a program (quotation) from the stack.",example:"[1 1 +] i",effect:"[[P]] -> ..."},testCases:[{code:"[1 1 +] i",expected:[2]},{code:"[1 2 +] i",expected:[3]},{code:"[i] meh = [1 1 +] meh",expected:[2]}]},tm={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();yield*u(r,l,s),l.push(d)},description:"Saves the top element, executes a program, then restores the element.",example:"10 [20 30 +] dip",effect:"[A [P]] -> [A]"},testCases:[{code:"10 [20 30 +] dip",expected:[50,10]},{code:"1 [2 3 +] dip [4 5 +] dip",expected:[5,9,1]}]},am={definition:{exec:function*(l,s,u){const[r,d]=[l.pop(),l.pop()],g=[];for(const T of d){const N=[T];yield*u([...r],N,s),g.push(...N)}l.push(g)},description:"Applies a program to each element of a list, creating a new list of results.",example:"[1 2 3 4] [dup *] map",effect:"[L [P]] -> [L']"},testCases:[{code:"[1 2 3 4] [dup *] map",expected:[[1,4,9,16]]},{code:"[] [succ] map",expected:[[]]}]},nm={definition:{exec:function*(l,s,u){const[r,d]=[l.pop(),l.pop()],g=[];for(const T of d){const N=[T];yield*u([...r],N,s),N.pop()&&g.push(T)}l.push(g)},description:"Creates a new list containing only elements for which a program returns true.",example:"[1 2 3 4 5] [2 % 0 ==] filter",effect:"[L [P]] -> [L']"},testCases:[{code:"[1 2 3 4 5] [2 % 0 ==] filter",expected:[[2,4]]},{code:'["a" "b" 1 2] [string?] filter',expected:[["a","b"]]}]},lm={definition:{exec:function*(l,s,u){const[r,d]=[l.pop(),l.pop()];for(const g of d)l.push(g),yield*u([...r],l,s)},description:"Applies a program to each element of a list, accumulating results on the main stack.",example:"0 [1 2 3 4] [+] step",effect:"[A L [P]] -> ..."},testCases:[{code:"0 [1 2 3 4] [+] step",expected:[10]},{code:"1 [2 3 4] [*] step",expected:[24]}]},im={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();yield*u(l.pop()?d:r,l,s)},description:"If-then-else. [B] [T] [F] ifte. If B is true, executes T, else executes F.",example:"true [1] [2] ifte",effect:"[B [T] [F]] -> ..."},testCases:[{code:"true [1] [2] ifte",expected:[1]},{code:"false [1] [2] ifte",expected:[2]},{code:'1 0 > ["yes"] ["no"] ifte',expected:["yes"]}]},cm={definition:{exec:function*(l,s,u){const r=l.pop();let d=l.pop();if(typeof r!="number"||!Number.isInteger(r)||r<0)throw new Error("times expects an integer count on top of the stack.");let g=Array.isArray(d)?d:[d];for(let T=0;T<r;T++)yield*u([...g],l,s)},description:"Executes a program a specific number of times.",example:"10 [2 *] 3 times",effect:"[X N [P]] -> [...]"},testCases:[{code:"10 [2 *] 3 times",expected:[80]},{code:"0 [succ] 5 times",expected:[5]}]},sm={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();for(yield*u([...d],l,s);l.pop();)yield*u([...r],l,s),yield*u([...d],l,s)},description:"Executes a body program as long as a test program returns true.",example:"5 [dup 0 >] [1 -] while",effect:"[ [B] [D] ] -> ..."},testCases:[{code:"5 [dup 0 >] [1 -] while",expected:[0]},{code:"0 [false] [pop] while",expected:[0]}]},om={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();l.pop()?yield*u(d,l,s):yield*u(r,l,s)},description:"If the boolean B is true, executes T, otherwise executes F.",example:'10 5 > ["Greater"] ["Not Greater"] branch',effect:"[B [T] [F]] -> ..."},testCases:[{code:'10 5 > ["Greater"] ["Not Greater"] branch',expected:["Greater"]},{code:'5 10 > ["Greater"] ["Not Greater"] branch',expected:["Not Greater"]}]},um={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),T=[g];yield*u(d,T,s);const N=[g];yield*u(r,N,s),l.push(...T,...N)},description:"Applies two programs to the same value, leaving both results on the stack.",example:"10 [dup *] [1 +] cleave",effect:"[X [P1] [P2]] -> [R1 R2]"},testCases:[{code:"10 [dup *] [1 +] cleave",expected:[100,11]},{code:"[1 2] [size] [first] cleave",expected:[2,1]}]},rm={definition:{exec:function*(l,s,u){const r=l.pop();if(!Array.isArray(r)||r.length===0)return;const d=l[l.length-1],g=r.pop();for(const T of r){if(!Array.isArray(T)||T.length!==2)continue;const[N,x]=T,h=[d];if(yield*u(N,h,s),h.pop()){yield*u(x,l,s);return}}Array.isArray(g)&&g.length>0&&(yield*u(g[0],l,s))},description:"Executes the program for the first true condition. The last element is the default case.",example:'2 [[ [1 ==] [pop "one"] ] [ [2 ==] [pop "two"] ] [ [pop "other"] ]] cond',effect:"[V [ [C1 T1] .. [D] ]] -> ..."},testCases:[{code:'2 [[ [1 ==] [pop "one"] ] [ [2 ==] [pop "two"] ] [ [pop "other"] ]] cond',expected:["two"]},{code:'3 [[ [1 ==] [pop "one"] ] [ [2 ==] [pop "two"] ] [ [pop "other"] ]] cond',expected:["other"]}]},fm={definition:{exec:function*(l,s,u,r){const d=l.pop();let g,T;if(typeof d=="symbol"){const x=Symbol.keyFor(d);if(!x)throw new Error("body: cannot get body of a non-global symbol.");g=`:${x}`,T=`:${x}`}else if(typeof d=="string"||typeof d=="number")g=String(d),T=String(d);else throw new Error(`body: expects a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const N=r[g];if(N&&"body"in N)l.push(N.body);else throw new Error(`body: '${T}' is not a user-defined symbol or has no body.`)},description:"Pushes the body (quotation) of a user-defined function onto the stack. Expects the name of the function as a bare word.",example:"[1 +] inc = inc body",effect:"[W] -> [[B]]"},testCases:[{code:"[1 +] inc = inc body",expected:[[1,"+"]]},{code:"[1 2 3] mylist = mylist body",expected:[[1,2,3]]},{code:"[42] 1 = 1 body",expected:[[42]]},{code:'["hi"] :msg = :msg body',expected:[["hi"]]}]},dm={definition:{exec:function*(l,s,u,r){const d=l.pop(),g=l.pop();let T,N;if(typeof d=="symbol"){const w=Symbol.keyFor(d);if(!w)throw new Error("yield: cannot yield to a non-global symbol.");T=`:${w}`,N=`:${w}`}else if(typeof d=="string"||typeof d=="number")T=String(d),N=String(d);else throw new Error(`yield expects a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const x=r[T];if(!x||"exec"in x||!Array.isArray(x.body))throw new Error(`yield can only be applied to a user-defined list variable: '${N}'.`);const h=[...x.body];yield*u(g,h,s),r[T]={...x,body:h},h.length>0&&l.push(h[h.length-1])},description:"A stateful function combinator. Spreads the contents of a named list variable, applies a program to them, updates the variable with the result, and pushes the new top-of-state to the main stack. Syntax: `[program] variable_name yield`.",example:`# Stateful Counter
[0] counter =
[ [succ] counter yield ] next =
next next next`,effect:"[[P] W] -> [T]"},testCases:[{code:["[0] counter_state =","[ [succ] counter_state yield ] next =","next next next"],expected:[1,2,3]},{code:["[0 1] fib_state =","[ [swap dupd +] fib_state yield ] fib =","fib fib fib fib fib"],expected:[1,2,3,5,8]},{code:["10 1 =","[succ] 1 yield"],expected:[11]},{code:["[] :log =","[ stack 1 append unstack ] :log yield","[ stack 2 append unstack ] :log yield"],expected:[1,1]}]},pm={name:"Combinators",description:"Higher-order functions that control execution flow.",definitions:{i:em,dip:tm,map:am,filter:nm,step:lm,ifte:im,times:cm,while:sm,branch:om,cleave:um,cond:rm,body:fm,yield:dm}},hm={definition:{exec:function*(l){l.push(Math.acos(l.pop()))},description:"Arccosine.",example:"0.5 acos",effect:"[F] -> [G]"},testCases:[{code:"0.5 acos",expected:[1.0471975511965979]},{code:"1 acos",expected:[0]}]},mm={definition:{exec:function*(l){l.push(Math.asin(l.pop()))},description:"Arcsine.",example:"0.5 asin",effect:"[F] -> [G]"},testCases:[{code:"0.5 asin",expected:[.5235987755982989]},{code:"0 asin",expected:[0]}]},ym={definition:{exec:function*(l){l.push(Math.atan(l.pop()))},description:"Arctangent.",example:"1 atan",effect:"[F] -> [G]"},testCases:[{code:"1 atan",expected:[.7853981633974483]},{code:"0 atan",expected:[0]}]},gm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Math.atan2(u,s))},description:"Arctangent of a quotient.",example:"1 1 atan2",effect:"[F G] -> [H]"},testCases:[{code:"1 1 atan2",expected:[.7853981633974483]},{code:"10 5 atan2",assert:l=>l.length===1&&typeof l[0]=="number",expectedType:"number"}]},xm={definition:{exec:function*(l){l.push(Math.ceil(l.pop()))},description:"Rounds a number up to the nearest integer.",example:"3.1 ceil",effect:"[F] -> [G]"},testCases:[{code:"3.1 ceil",expected:[4]}]},bm={definition:{exec:function*(l){l.push(Math.cos(l.pop()))},description:"Cosine.",example:"0.5 cos",effect:"[F] -> [G]"},testCases:[{code:"0 cos",expected:[1]}]},vm={definition:{exec:function*(l){l.push(Math.cosh(l.pop()))},description:"Hyperbolic cosine.",example:"0 cosh",effect:"[F] -> [G]"},testCases:[{code:"0 cosh",expected:[1]}]},Sm={definition:{exec:function*(l){l.push(Math.exp(l.pop()))},description:"Exponential function (e^x).",example:"1 exp",effect:"[F] -> [G]"},testCases:[{code:"0 exp",expected:[1]}]},Am={definition:{exec:function*(l){l.push(Math.floor(l.pop()))},description:"Rounds a number down to the nearest integer.",example:"3.7 floor",effect:"[F] -> [G]"},testCases:[{code:"3.7 floor",expected:[3]}]},Tm={definition:{exec:function*(l){l.push(Math.log(l.pop()))},description:"Natural logarithm (base e).",example:"1 ln",effect:"[F] -> [G]"},testCases:[{code:"1 ln",expected:[0]}]},Em={definition:{exec:function*(l){l.push(Math.log10(l.pop()))},description:"Base-10 logarithm.",example:"100 log10",effect:"[F] -> [G]"},testCases:[{code:"100 log10",expected:[2]}]},wm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Math.pow(u,s))},description:"Raises A to the power of B.",example:"2 8 pow",effect:"[F G] -> [H]"},testCases:[{code:"2 8 pow",expected:[256]}]},Cm={definition:{exec:function*(l){l.push(Math.sin(l.pop()))},description:"Sine.",example:"0.5 sin",effect:"[F] -> [G]"},testCases:[{code:"0.5 sin",expected:[.479425538604203]},{code:"0 sin",expected:[0]}]},Nm={definition:{exec:function*(l){l.push(Math.sinh(l.pop()))},description:"Hyperbolic sine.",example:"0 sinh",effect:"[F] -> [G]"},testCases:[{code:"0 sinh",expected:[0]}]},Mm={definition:{exec:function*(l){l.push(Math.sqrt(l.pop()))},description:"Square root.",example:"25 sqrt",effect:"[F] -> [G]"},testCases:[{code:"25 sqrt",expected:[5]}]},Om={definition:{exec:function*(l){l.push(Math.tan(l.pop()))},description:"Tangent.",example:"0 tan",effect:"[F] -> [G]"},testCases:[{code:"0 tan",expected:[0]}]},Rm={definition:{exec:function*(l){l.push(Math.tanh(l.pop()))},description:"Hyperbolic tangent.",example:"1 tanh",effect:"[F] -> [G]"},testCases:[{code:"0 tanh",expected:[0]}]},_m={definition:{exec:function*(l){l.push(Math.trunc(l.pop()))},description:"Truncates the fractional part of a number.",example:"3.7 trunc",effect:"[F] -> [G]"},testCases:[{code:"3.7 trunc",expected:[3]}]},zm={name:"JS Math Bridge",description:"Operators from the JavaScript Math object.",definitions:{acos:hm,asin:mm,atan:ym,atan2:gm,ceil:xm,cos:bm,cosh:vm,exp:Sm,floor:Am,ln:Tm,log10:Em,pow:wm,sin:Cm,sinh:Nm,sqrt:Mm,tan:Om,tanh:Rm,trunc:_m}},Dm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(s))throw new Error("cons expects a list");l.push([u,...s])},description:"Constructs a new list by pushing an element onto the front of an existing list.",example:"1 [2 3 4] cons",effect:"[A X] -> [B]"},testCases:[{code:"1 [2 3 4] cons",expected:[[1,2,3,4]]},{code:"[] [1] cons",expected:[[[],1]]}]},qm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(u))throw new Error("append expects a list");u.push(s),l.push(u)},description:"Appends an element to the end of a list (mutates the list).",example:"[1 2] 3 append",effect:"[L E] -> [L']"},testCases:[{code:"[1 2] 3 append",expected:[[1,2,3]]},{code:'[] "a" append',expected:[["a"]]}]},jm={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("uncons expects a list.");const[u,...r]=s;l.push(r,u)},description:"Deconstructs a list into its first element and the rest of the list.",example:"[10 20 30] uncons",effect:"[A] -> [F R]"},testCases:[{code:"[10 20 30] uncons",expected:[[20,30],10]},{code:'["a"] uncons',expected:[[],"a"]}]},Bm={definition:{exec:function*(l){l.push(l.pop()[0])},description:"Gets the first element of a list.",example:"[10 20 30] first",effect:"[[A B]] -> [A]"},testCases:[{code:"[10 20 30] first",expected:[10]},{code:"[[1 2] 3] first",expected:[[1,2]]}]},Um={definition:{exec:function*(l){const s=l.pop();Array.isArray(s)?l.push(...s):l.push(s)},description:"Spreads the elements of a list onto the stack.",example:"[10 20 30] spread",effect:"[[A B]] -> [A B]"},testCases:[{code:"[10 20 30] spread",expected:[10,20,30]},{code:"[] spread",expected:[]}]},Hm={definition:{exec:function*(l){l.push(l.pop().slice(1))},description:"Gets the rest of a list (all but the first element).",example:"[10 20 30] rest",effect:"[A] -> [R]"},testCases:[{code:"[10 20 30] rest",expected:[[20,30]]},{code:"[10] rest",expected:[[]]}]},Ym={definition:{exec:function*(l){l.push(l.pop().length)},description:"Gets the number of elements in a list or string.",example:'[1 2 3] size "hello" size',effect:"[A] -> [I]"},testCases:[{code:"[1 2 3] size",expected:[3]},{code:'"hello" size',expected:[5]},{code:'[1 2 3] size "hello" size',expected:[3,5]},{code:"[] size",expected:[0]}]},km={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u[s])},description:"Gets the element at a specific index.",example:"[10 20 30] 1 at",effect:"[A I] -> [X]"},testCases:[{code:"[10 20 30] 1 at",expected:[20]},{code:'"hello" 4 at',expected:["o"]}]},Lm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(s[u])},description:"Gets the element at a specific index. Infix form.",example:"1 [10 20 30] of",effect:"[I A] -> [X]"},testCases:[{code:"1 [10 20 30] of",expected:[20]},{code:'0 "world" of',expected:["w"]}]},Xm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.slice(s))},description:"Removes the first N elements from a list.",example:"[1 2 3 4 5] 2 drop",effect:"[A N] -> [B]"},testCases:[{code:"[1 2 3 4 5] 2 drop",expected:[[3,4,5]]},{code:'"hello" 3 drop',expected:["lo"]}]},Gm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.slice(0,s))},description:"Takes the first N elements from a list.",example:"[1 2 3 4 5] 2 take",effect:"[A N] -> [B]"},testCases:[{code:"[1 2 3 4 5] 2 take",expected:[[1,2]]},{code:'"hello" 2 take',expected:["he"]}]},Qm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.concat(s))},description:"Concatenates two lists or strings.",example:"[1 2] [3 4] concat",effect:"[S T] -> [U]"},testCases:[{code:"[1 2] [3 4] concat",expected:[[1,2,3,4]]},{code:'"hello " "world" concat',expected:["hello world"]},{code:"[1] [] concat",expected:[[1]]}]},Zm={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("join expects a list");l.push(s.join(""))},description:"Joins a list of strings into a single string.",example:'["hello" " " "world"] join',effect:"[[S1 S2]] -> [S]"},testCases:[{code:'["hello" " " "world"] join',expected:["hello world"]},{code:'["a" "b" "c"] join',expected:["abc"]},{code:"[] join",expected:[""]}]},Vm={name:"Aggregate (List) Operators",description:"Operators for creating, deconstructing, and manipulating lists.",definitions:{cons:Dm,append:qm,uncons:jm,first:Bm,spread:Um,rest:Hm,size:Ym,at:km,of:Lm,drop:Xm,take:Gm,concat:Qm,join:Zm}},Km={definition:{exec:function*(l){l.push(!0)},description:"Pushes the boolean value `true`.",example:"true",effect:"-> B"},testCases:[{code:"true",expected:[!0]}]},$m={definition:{exec:function*(l){l.push(!1)},description:"Pushes the boolean value `false`.",example:"false",effect:"-> B"},testCases:[{code:"false",expected:[!1]}]},Jm={definition:{exec:function*(l){l.push(Number.MAX_SAFE_INTEGER)},description:"Pushes the largest safe integer available in the JavaScript environment.",example:"maxint",effect:"-> I"},testCases:[{code:"maxint",expected:[Number.MAX_SAFE_INTEGER]}]},Fm={definition:{exec:function*(l){l.push([...l].reverse())},description:"Pushes a list representation of the current stack.",example:"1 2 3 stack",effect:".. X Y Z -> .. X Y Z [Z Y X ..]"},testCases:[{code:"1 2 3 stack",expected:[1,2,3,[3,2,1]]},{code:"stack",expected:[[]]}]},Wm={definition:{exec:function*(l){l.push(performance.now())},description:"Pushes the number of milliseconds since the page loaded.",example:"clock",effect:"-> F"},testCases:[{code:"clock",assert:l=>l.length===1&&typeof l[0]=="number",expectedType:"number"}]},Im={definition:{exec:function*(l){l.push(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))},description:"Pushes a large random integer.",example:"rand",effect:"-> I"},testCases:[{code:"rand",assert:l=>l.length===1&&Number.isInteger(l[0]),expectedType:"integer"}]},Pm={definition:{exec:function*(l,s,u,r){for(const d in r)"exec"in r[d]||delete r[d];l.length=0},description:"Clears the stack and removes all user-defined words from the dictionary.",example:"[1+] inc = 1 2 3 clearall stack",effect:"[...] -> []"},testCases:[{code:"[1+] inc = 1 2 3 clearall stack",expected:[[]]},{code:"1 2 3 clearall",expected:[]}]},e0={name:"System & Environment",description:"Pushing constants and interacting with the environment.",definitions:{true:Km,false:$m,maxint:Jm,stack:Fm,clock:Wm,rand:Im,clearall:Pm}},t0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();u instanceof Set&&s instanceof Set?l.push(new Set([...u].filter(r=>s.has(r)))):l.push(u&&s)},description:"Logical AND. Pops A and B, pushes A && B. If both A and B are sets, it pushes their intersection.",example:`true true and
{1 2} {2 3} and`,effect:"[A B] -> [C]"},testCases:[{code:"true false and",expected:[!1]},{code:"true true and",expected:[!0]},{code:"1 0 and",expected:[0]},{code:"{1 2} {2 3} and",expected:[new Set([2])]}]},a0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();u instanceof Set&&s instanceof Set?l.push(new Set([...u,...s])):l.push(u||s)},description:"Logical OR. Pops A and B, pushes A || B. If both A and B are sets, it pushes their union.",example:`true false or
{1 2} {2 3} or`,effect:"[A B] -> [C]"},testCases:[{code:"true false or",expected:[!0]},{code:"false false or",expected:[!1]},{code:"1 0 or",expected:[1]},{code:"{1 2} {2 3} or",expected:[new Set([1,2,3])]}]},n0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(u instanceof Set&&s instanceof Set){const r=[...u].filter(g=>!s.has(g)),d=[...s].filter(g=>!u.has(g));l.push(new Set([...r,...d]))}else l.push(!!(u^s))},description:"Logical XOR. Pops A and B, pushes A ^ B. If both A and B are sets, it pushes their symmetric difference.",example:`true true xor
{1 2} {2 3} xor`,effect:"[A B] -> [C]"},testCases:[{code:"true false xor",expected:[!0]},{code:"true true xor",expected:[!1]},{code:"1 0 xor",expected:[!0]},{code:"{1 2} {2 3} xor",expected:[new Set([1,3])]}]},l0={definition:{exec:function*(l){l.push(!l.pop())},description:"Logical NOT. Replaces top of stack with its logical negation.",example:"true not",effect:"[A] -> [!A]"},testCases:[{code:"true not",expected:[!1]},{code:"false not",expected:[!0]},{code:"0 not",expected:[!0]}]},i0={name:"Set operations",description:"Operators for performing set operations (intersection, union, difference) and boolean logic.",definitions:{and:t0,or:a0,xor:n0,not:l0}},c0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)+(s??0))},description:"Adds the top two elements.",example:"10 20 +",effect:"[A B] -> [C]"},testCases:[{code:"10 20 +",expected:[30]},{code:"-5 5 +",expected:[0]},{code:"1.5 2.5 +",expected:[4]},{code:"1 +",expected:[1]},{code:"+",expected:[0]}]},s0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)-(s??0))},description:"Subtracts the top element from the second element.",example:"30 10 -",effect:"[A B] -> [C]"},testCases:[{code:"30 10 -",expected:[20]},{code:"5 10 -",expected:[-5]},{code:"10 -",expected:[-10]},{code:"-",expected:[0]}]},o0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)*(s??0))},description:"Multiplies the top two elements.",example:"10 5 *",effect:"[A B] -> [C]"},testCases:[{code:"10 5 *",expected:[50]},{code:"-10 5 *",expected:[-50]},{code:"5 *",expected:[0]},{code:"*",expected:[0]}]},u0={definition:{exec:function*(l){if(l.length<2){l.length===1?l.pop():l.push(null);return}const s=l.pop(),u=l.pop();s===0?l.push(null):l.push(u/s)},description:"Divides the second element by the top element. Returns null if dividing by zero. Pops a single element on stack underflow.",example:"20 4 /",effect:"[A B] -> [C]"},testCases:[{code:"20 4 /",expected:[5]},{code:"21 4 /",expected:[5.25]},{code:"10 0 /",expected:[null]},{code:"5 /",expected:[]},{code:"/",expected:[null]},{code:"0 5 /",expected:[0]}]},r0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)%(s??0))},description:"Modulo operator. Pushes the remainder of A / B.",example:"10 3 %",effect:"[A B] -> [C]"},testCases:[{code:"10 3 %",expected:[1]},{code:"-10 3 %",expected:[-1]},{code:"10 %",expected:[0]}]},f0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Math.floor(u/s),u%s)},description:"Integer division. Pushes quotient and remainder.",example:"21 10 div",effect:"[I J] -> [K L]"},testCases:[{code:"21 10 div",expected:[2,1]},{code:"-21 10 div",expected:[-3,-1]},{code:"10 div",assert:l=>l.length===2&&isNaN(l[0])&&isNaN(l[1]),expectedDescription:"[NaN, NaN]"},{code:"10 0 div",assert:l=>l.length===2&&l[0]===1/0&&isNaN(l[1]),expectedDescription:"[Infinity, NaN]"}]},d0={definition:{exec:function*(l){l.push((l.pop()??0)+1)},description:"Successor. Adds 1 to the top element.",example:"10 succ",effect:"[N] -> [N+1]"},testCases:[{code:"10 succ",expected:[11]},{code:"-1 succ",expected:[0]},{code:"succ",expected:[1]}]},p0={definition:{exec:function*(l){l.push((l.pop()??0)-1)},description:"Predecessor. Subtracts 1 from the top element.",example:"10 pred",effect:"[N] -> [N-1]"},testCases:[{code:"10 pred",expected:[9]},{code:"0 pred",expected:[-1]},{code:"pred",expected:[-1]}]},h0={definition:{exec:function*(l){l.push(Math.max(l.pop()??0,l.pop()??0))},description:"Pushes the maximum of the top two elements.",example:"10 20 max",effect:"[N1 N2] -> [N]"},testCases:[{code:"10 20 max",expected:[20]},{code:"-10 -20 max",expected:[-10]},{code:"10 max",expected:[10]},{code:"max",expected:[0]}]},m0={definition:{exec:function*(l){l.push(Math.min(l.pop()??0,l.pop()??0))},description:"Pushes the minimum of the top two elements.",example:"10 20 min",effect:"[N1 N2] -> [N]"},testCases:[{code:"10 20 min",expected:[10]},{code:"-10 -20 min",expected:[-20]},{code:"10 min",expected:[0]},{code:"min",expected:[0]}]},y0={definition:{exec:function*(l){const s=l.pop()??[];if(!Array.isArray(s))throw new Error("sum expects a list");l.push(s.reduce((u,r)=>u+(typeof r=="number"?r:0),0))},description:"Calculates the sum of a list of numbers.",example:"[1 2 3] sum",effect:"[[N1 N2]] -> [N]"},testCases:[{code:"[1 2 3] sum",expected:[6]},{code:"[10 -2 5] sum",expected:[13]},{code:"[] sum",expected:[0]},{code:"sum",expected:[0]},{code:['"some_value" :sum =',"[1 2 3] sum"],expected:[6]},{code:["[42] sum =","sum"],expected:[42]}]},g0={definition:{exec:function*(l){l.push(-(l.pop()??0))},description:"Negates the top element.",example:"15 neg",effect:"[N] -> [N']"},testCases:[{code:"15 neg",expected:[-15]},{code:"-10 neg",expected:[10]},{code:"neg",expected:[0]}]},x0={definition:{exec:function*(l){l.push(Math.abs(l.pop()??0))},description:"Pushes the absolute value of the top element.",example:"-15 abs",effect:"[N] -> [N']"},testCases:[{code:"-15 abs",expected:[15]},{code:"20 abs",expected:[20]},{code:"abs",expected:[0]}]},b0={definition:{exec:function*(l){l.push(Math.sign(l.pop()??0))},description:"Pushes the sign of a number (-1, 0, or 1).",example:"-15 sign",effect:"[N] -> [N']"},testCases:[{code:"-15 sign",expected:[-1]},{code:"15 sign",expected:[1]},{code:"0 sign",expected:[0]},{code:"sign",expected:[0]}]},v0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)&(s|0))},description:"Bitwise AND. Pops A and B, pushes A & B. Operands are treated as 32-bit integers.",example:"6 3 &",effect:"[A B] -> [C]"},testCases:[{code:"6 3 &",expected:[2]},{code:"5 9 &",expected:[1]},{code:"-1 1 &",expected:[1]}]},S0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u|0|(s|0))},description:"Bitwise OR. Pops A and B, pushes A | B. Operands are treated as 32-bit integers.",example:"5 2 |",effect:"[A B] -> [C]"},testCases:[{code:"5 2 |",expected:[7]},{code:"4 1 |",expected:[5]}]},A0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)^(s|0))},description:"Bitwise XOR. Pops A and B, pushes A ^ B. Operands are treated as 32-bit integers.",example:"5 3 ^",effect:"[A B] -> [C]"},testCases:[{code:"5 3 ^",expected:[6]},{code:"7 2 ^",expected:[5]}]},T0={definition:{exec:function*(l){l.push(~(l.pop()|0))},description:"Bitwise NOT. Inverts the bits of the top element. The operand is treated as a 32-bit integer.",example:"5 ~",effect:"[A] -> [C]"},testCases:[{code:"5 ~",expected:[-6]},{code:"-1 ~",expected:[0]}]},E0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)<<(s|0))},description:"Bitwise left shift. Pops A and B, pushes A << B. Operands are treated as 32-bit integers.",example:"5 2 <<",effect:"[A B] -> [C]"},testCases:[{code:"5 1 <<",expected:[10]},{code:"1 8 <<",expected:[256]}]},w0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)>>(s|0))},description:"Bitwise (sign-propagating) right shift. Pops A and B, pushes A >> B. Operands are treated as 32-bit integers.",example:"10 1 >>",effect:"[A B] -> [C]"},testCases:[{code:"10 1 >>",expected:[5]},{code:"-10 1 >>",expected:[-5]},{code:"255 4 >>",expected:[15]}]},C0={name:"Mathematical & Bitwise Operators",description:"Performing arithmetic and bitwise operations.",definitions:{"+":c0,"-":s0,"*":o0,"/":u0,"%":r0,div:f0,succ:d0,pred:p0,max:h0,min:m0,sum:y0,neg:g0,abs:x0,sign:b0,"&":v0,"|":S0,"^":A0,"~":T0,"<<":E0,">>":w0}},N0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u>=s)},description:"Tests if A is greater than or equal to B.",example:"10 10 >=",effect:"[A B] -> [bool]"},testCases:[{code:"10 10 >=",expected:[!0]},{code:"10 5 >=",expected:[!0]},{code:"5 10 >=",expected:[!1]}]},M0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u>s)},description:"Tests if A is greater than B.",example:"10 5 >",effect:"[A B] -> [bool]"},testCases:[{code:"10 5 >",expected:[!0]},{code:"10 10 >",expected:[!1]},{code:"5 10 >",expected:[!1]}]},O0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u<=s)},description:"Tests if A is less than or equal to B.",example:"5 10 <=",effect:"[A B] -> [bool]"},testCases:[{code:"5 10 <=",expected:[!0]},{code:"10 10 <=",expected:[!0]},{code:"10 5 <=",expected:[!1]}]},R0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u<s)},description:"Tests if A is less than B.",example:"5 10 <",effect:"[A B] -> [bool]"},testCases:[{code:"5 10 <",expected:[!0]},{code:"10 10 <",expected:[!1]},{code:"10 5 <",expected:[!1]}]},_0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u!=s)},description:"Tests for inequality.",example:"5 10 !=",effect:"[A B] -> [bool]"},testCases:[{code:"5 10 !=",expected:[!0]},{code:"10 10 !=",expected:[!1]},{code:'"a" "b" !=',expected:[!0]}]},z0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u===s)},description:"Tests for strict equality.",example:"10 10 ==",effect:"[A B] -> [bool]"},testCases:[{code:"10 10 ==",expected:[!0]},{code:"10 5 ==",expected:[!1]},{code:'"a" "a" ==',expected:[!0]}]},D0={definition:{exec:function*(l){const s=l.pop();l.push(s===0||Array.isArray(s)&&s.length===0)},description:"Tests if a number is 0 or a list is empty.",example:"[] null?",effect:"[A] -> [bool]"},testCases:[{code:"[] null?",expected:[!0]},{code:"0 null?",expected:[!0]},{code:"[1] null?",expected:[!1]},{code:"1 null?",expected:[!1]}]},q0={definition:{exec:function*(l){const s=l.pop();l.push(s===0||s===1||Array.isArray(s)&&s.length<=1)},description:"Tests if an aggregate has 0 or 1 members.",example:"[42] small",effect:"[A] -> [bool]"},testCases:[{code:"[42] small",expected:[!0]},{code:"1 small",expected:[!0]},{code:"0 small",expected:[!0]},{code:"[] small",expected:[!0]},{code:"[1 2] small",expected:[!1]},{code:"2 small",expected:[!1]}]},j0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.includes(s))},description:"Tests if a list contains an element. Postfix form.",example:"[1 2 3] 2 has",effect:"[A X] -> [bool]"},testCases:[{code:"[1 2 3] 2 has",expected:[!0]},{code:"[1 2 3] 4 has",expected:[!1]}]},B0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(s.includes(u))},description:"Tests if a list contains an element. Infix form.",example:"2 [1 2 3] in",effect:"[X A] -> [bool]"},testCases:[{code:"2 [1 2 3] in",expected:[!0]},{code:"4 [1 2 3] in",expected:[!1]}]},U0={definition:{exec:function*(l){l.push(Number.isInteger(l.pop()))},description:"Tests if the top element is an integer.",example:"10 integer?",effect:"[A] -> [bool]"},testCases:[{code:"10 integer?",expected:[!0]},{code:"-5 integer?",expected:[!0]},{code:"10.5 integer?",expected:[!1]},{code:'"10" integer?',expected:[!1]}]},H0={definition:{exec:function*(l){const s=l.pop();l.push(typeof s=="string"&&s.length===1)},description:"Tests if the top element is a character (string of length 1).",example:'"a" char?',effect:"[A] -> [bool]"},testCases:[{code:'"a" char?',expected:[!0]},{code:'"ab" char?',expected:[!1]},{code:"97 chr char?",expected:[!0]}]},Y0={definition:{exec:function*(l){const s=l.pop();l.push(typeof s=="boolean")},description:"Tests if the top element is a boolean.",example:"true logical?",effect:"[A] -> [bool]"},testCases:[{code:"true logical?",expected:[!0]},{code:"false logical?",expected:[!0]},{code:"1 logical?",expected:[!1]}]},k0={definition:{exec:function*(l){const s=l.pop();l.push(typeof s=="string")},description:"Tests if the top element is a string.",example:'"hi" string?',effect:"[A] -> [bool]"},testCases:[{code:'"hi" string?',expected:[!0]},{code:'"" string?',expected:[!0]},{code:"1 string?",expected:[!1]}]},L0={definition:{exec:function*(l){l.push(Array.isArray(l.pop()))},description:"Tests if the top element is a list.",example:"[1 2] list?",effect:"[A] -> [bool]"},testCases:[{code:"[1 2] list?",expected:[!0]},{code:"[] list?",expected:[!0]},{code:"1 list?",expected:[!1]}]},X0={definition:{exec:function*(l){l.push(l.pop()instanceof Set)},description:"Tests if the top element is a set.",example:"{1 2} set?",effect:"[A] -> [bool]"},testCases:[{code:"{1 2} set?",expected:[!0]},{code:"[1 2] set?",expected:[!1]},{code:"{} set?",expected:[!0]}]},G0={name:"Predicates",description:"Operators that test values and return a boolean.",definitions:{">=":N0,">":M0,"<=":O0,"<":R0,"!=":_0,"==":z0,"null?":D0,small:q0,has:j0,in:B0,"integer?":U0,"char?":H0,"logical?":Y0,"string?":k0,"list?":L0,"set?":X0}},Q0={definition:{exec:function*(l,s={},u){const[r,d,g,T]=[l.pop(),l.pop(),l.pop(),l.pop()],N=function*(h,w){const j=[h];if(yield*u([...T],j,w),j.pop()){const D=[h];return yield*u([...g],D,w),D}else{const D=[h];yield*u([...d],D,w);const te=D.pop(),G=[...D],$=yield*N(te,w),X=[...G,...$];return yield*u([...r],X,w),w.isDebug&&w.onStep([...l,...X]),X}},x=yield*N(l.pop(),s);l.push(...x)},description:"Linear recursion combinator.",example:"[[null?] [succ] [dup pred] [*] linrec] fac = 5 fac",effect:"..."},testCases:[{code:"5 [[null?] [succ] [dup pred] [*] linrec] i",expected:[120]},{code:"[[null?] [succ] [dup pred] [*] linrec] fac = 5 fac",expected:[120]}]},Z0={definition:{exec:function*(l,s={},u){const[r,d,g,T]=[l.pop(),l.pop(),l.pop(),l.pop()],N=function*(h,w){const j=[h];if(yield*u([...T],j,w),j.pop()){const D=[h];return yield*u([...g],D,w),D}else{const D=[h];yield*u([...d],D,w);const te=D.pop(),G=D.pop(),$=yield*N(G,w),X=yield*N(te,w),V=[...D,...$,...X];return yield*u([...r],V,w),w.isDebug&&w.onStep([...l,...V]),V}},x=yield*N(l.pop(),s);l.push(...x)},description:"Binary recursion combinator, useful for divide-and-conquer.",example:`# First, define fib using binrec
[ [2 <] [] [dup pred swap pred pred] [+] binrec ] fib =

# Now, call it
8 fib`,effect:"..."},testCases:[{code:"[ [2 <] [] [dup pred swap pred pred] [+] binrec ] fib = 8 fib",expected:[21]}]},V0={definition:{exec:function*(l,s={},u){const[r,d]=[l.pop(),l.pop()],g=l.pop(),T=function*(N,x){if(typeof N=="number"&&N<=0||Array.isArray(N)&&N.length===0)yield*u(d,l,x);else if(typeof N=="number")yield*T(N-1,x),l.push(N),yield*u(r,l,x);else{const[h,...w]=N;yield*T(w,x),l.push(h),yield*u(r,l,x)}};l.length=0,yield*T(g,s)},description:"Primitive recursion. Executes [I] for 0 or empty list. For N > 0, executes N-1 primrec, then combines with N via [C]. For lists, recurses on rest, then combines with first via [C].",example:`5 [1] [*] primrec  # Factorial
[1 2 3] 0 [+] primrec # Sum`,effect:"[X [I] [C]] -> [R]"},testCases:[{code:"5 [1] [*] primrec",expected:[120]},{code:"[1 2 3 4] 0 [+] primrec",expected:[10]}]},K0={definition:{exec:function*(l,s={},u){const[r,d,g]=[l.pop(),l.pop(),l.pop()],T=function*(N){const x=[...l];yield*u(g,x,N),x.pop()?yield*u(d,l,N):(yield*u(r,l,N),yield*T(N))};yield*T(s)},description:"Tail recursion. Executes [T]est. If true, executes [Th]en. Else executes [R]ecurse and loops. `[... [T] [Th] [R]] tailrec`",example:`# Factorial (tail-recursive)
# Stack state is [N Acc]
[ [swap popd dup 1 <=] [popd] [dupd swapd * swap pred swap] tailrec ] fac =

5 1 fac`,effect:"[... [T] [Th] [R]] -> [...]"},testCases:[{code:["# Tail-recursive factorial setup","# Stack state is [N Acc]","[ [swap popd dup 1 <=] [popd] [dupd swapd * swap pred swap] tailrec ] fac =","5 1 fac"],expected:[120]},{code:["# Find the last element of a list","[ [rest null?] [first] [rest] tailrec ] last =","[1 2 3 4 5] last"],expected:[5]}]},$0={definition:{exec:function*(l,s={},u){const[r,d,g,T]=[l.pop(),l.pop(),l.pop(),l.pop()];yield*function*(x){const h=[...l];if(yield*u(T,h,x),h.pop())yield*u(g,l,x);else{yield*u(d,l,x);const w=[T,g,d,r,"genrec"];l.push(w),yield*u(r,l,x)}}(s)},description:"General recursion. `[B] [T] [R1] [R2] genrec`. Executes B. If true, executes T. Else, executes R1, pushes the recursive call, then executes R2.",example:`# Factorial with genrec
[dup 0 ==] [pop 1] [dup pred] [i *] genrec`,effect:"[... [B] [T] [R1] [R2]] -> [...]"},testCases:[{code:"5 [ [dup 0 <=] [pop 1] [dup pred] [i *] genrec ] i",expected:[120]},{code:["[ [dup 0 ==] [pop 1] [dup pred] [i *] genrec ] fac =","5 fac"],expected:[120]}]},J0={definition:{exec:function*(l,s={},u){const r=l.pop(),d=function*(g){for(const T of r){if(!Array.isArray(T)||T.length<2)continue;const N=T[0],x=[...l];if(yield*u(N,x,g),x.pop()){if(T.length===2){const h=T[1];yield*u(h,l,g)}else{const[h,w,j]=T;yield*u(w,l,g),yield*d(g),yield*u(j,l,g)}return}}};yield*d(s)},description:"Conditional linear recursion. Takes a list of cases `[[B T] or [B R1 R2]...]`. Finds the first true B. If a `[T]` branch, executes T. If a `[R1 R2]` branch, executes R1, recurses, then executes R2.",example:`# Factorial with condlinrec
5 [ 
    [ [dup 0 ==] [pop 1] ]
    [ [true] [dup pred] [*] ]
] condlinrec`,effect:"[... [Cases]] -> [...]"},testCases:[{code:`5 [ 
                [ [dup 0 ==] [pop 1] ]
                [ [true] [dup pred] [*] ]
            ] condlinrec`,expected:[120]},{code:`1 [ 
                [ [dup 0 ==] [pop 1] ]
                [ [true] [dup pred] [*] ]
            ] condlinrec`,expected:[1]}]},F0={name:"Recursive Combinators",description:"Specialized combinators for performing various forms of recursion, from simple linear patterns to the most general cases.",definitions:{linrec:Q0,binrec:Z0,primrec:V0,tailrec:K0,genrec:$0,condlinrec:J0}},W0={definition:{exec:function*(l){l.pop()},description:"Removes the top element from the stack.",example:"1 2 3 pop",effect:"[X] -> []"},testCases:[{code:"1 2 3 pop",expected:[1,2]},{code:"[] 1 pop",expected:[[]]}]},I0={definition:{exec:function*(l){},description:"No-op. Sometimes used for clarity to indicate a value is intentionally left on the stack.",example:"42 put",effect:"[A] -> [A]"},testCases:[{code:"1 2 3 put",expected:[1,2,3]}]},P0={definition:{exec:function*(l){l.push(l[l.length-1])},description:"Duplicates the top element of the stack.",example:"10 dup",effect:"[X] -> [X X]"},testCases:[{code:"10 dup",expected:[10,10]},{code:"[1 2] dup",expected:[[1,2],[1,2]]}]},ey={definition:{exec:function*(l){l.push(l.pop(),l.pop())},description:"Swaps the top two elements of the stack.",example:"10 20 swap",effect:"[X Y] -> [Y X]"},testCases:[{code:"10 20 swap",expected:[20,10]},{code:"true [1] swap",expected:[[1],!0]}]},ty={definition:{exec:function*(l){},description:"Identity function. Does nothing.",example:"42 id",effect:"[X] -> [X]"},testCases:[{code:"42 id",expected:[42]},{code:"[1 2 3] id",expected:[[1,2,3]]}]},ay={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(s,r,u)},description:"Rolls the top three stack items up.",example:"1 2 3 rollup",effect:"[X Y Z] -> [Z X Y]"},testCases:[{code:"10 20 30 rollup",expected:[30,10,20]}]},ny={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(u,s,r)},description:"Rolls the top three stack items down.",example:"1 2 3 rolldown",effect:"[X Y Z] -> [Y Z X]"},testCases:[{code:"1 2 3 rolldown",expected:[2,3,1]},{code:'"c" "b" "a" rolldown',expected:["b","a","c"]}]},ly={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(s,u,r)},description:"Rotates the top three stack items.",example:"1 2 3 rotate",effect:"[X Y Z] -> [Z Y X]"},testCases:[{code:"1 2 3 rotate",expected:[3,2,1]},{code:'"a" "b" "c" rotate',expected:["c","b","a"]}]},iy={definition:{exec:function*(l){const s=l.pop();l.pop(),l.push(s)},description:"Like pop, but removes the second element from the stack.",example:"1 2 3 popd",effect:"[X Y] -> [Y]"},testCases:[{code:"1 2 3 popd",expected:[1,3]},{code:'"a" "b" "c" popd',expected:["a","c"]}]},cy={definition:{exec:function*(l){const s=l.pop();l.push(l[l.length-1],s)},description:"Like dup, but duplicates the second element on the stack.",example:"1 2 3 dupd",effect:"[X Y] -> [X X Y]"},testCases:[{code:"1 2 3 dupd",expected:[1,2,2,3]},{code:'"a" "b" dupd',expected:["a","a","b"]}]},sy={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(u,r,s)},description:"Like swap, but swaps the second and third elements.",example:"10 20 30 swapd",effect:"[X Y Z] -> [Y X Z]"},testCases:[{code:"10 20 30 swapd",expected:[20,10,30]},{code:"1 [2] 3 swapd",expected:[[2],1,3]}]},oy={definition:{exec:function*(l){l.length=0},description:"Removes all items from the stack, leaving it empty.",example:"1 2 3 clearstack",effect:"[...] -> []"},testCases:[{code:"1 2 3 clearstack",expected:[]},{code:"[] clearstack",expected:[]}]},uy={name:"Stack Primitives",description:"Operators for directly manipulating the stack.",definitions:{pop:W0,put:I0,dup:P0,swap:ey,id:ty,rollup:ay,rolldown:ny,rotate:ly,popd:iy,dupd:cy,swapd:sy,clearstack:oy}},ry={definition:{exec:function*(l){l.push(l.pop().charCodeAt(0))},description:"Pushes the character code of the first character of a string.",example:'"A" ord',effect:"[S] -> [I]"},testCases:[{code:'"A" ord',expected:[65]},{code:'"a" ord',expected:[97]}]},fy={definition:{exec:function*(l){l.push(String.fromCharCode(l.pop()))},description:"Pushes the string representation of a character code.",example:"65 chr",effect:"[I] -> [S]"},testCases:[{code:"65 chr",expected:["A"]},{code:"97 chr",expected:["a"]}]},dy={name:"Type & Conversion",description:"Operators for converting between data types.",definitions:{ord:ry,chr:fy}},py={definition:{exec:function*(l){l.push([l.pop()])},description:"Wraps the top element in a new list.",example:"10 unitlist",effect:"[X] -> [[X]]"},testCases:[{code:"10 unitlist",expected:[[10]]},{code:"[1] unitlist",expected:[[[1]]]}]},hy={definition:{exec:function*(l){const s=l.pop();l.push(s.slice(1)[0]),l.push(s)},description:"Pushes the second element of a list without consuming the list.",example:"[10 20 30] second",effect:"[L] -> [E L]"},testCases:[{code:"[10 20 30] second",expected:[20,[10,20,30]]},{code:'"abc" second',expected:["b","abc"]}]},my={definition:{exec:function*(l){const s=l.pop();l.push(s.slice(2)[0]),l.push(s)},description:"Pushes the third element of a list without consuming the list.",example:"[10 20 30] third",effect:"[L] -> [E L]"},testCases:[{code:"[10 20 30] third",expected:[30,[10,20,30]]},{code:'"abc" third',expected:["c","abc"]}]},yy={definition:{exec:function*(l){let s=l.pop(),u=l.pop();for(const r of s.reverse())u.unshift(r);l.push(u)},description:"Moves all elements from list L2 to the front of list L1.",example:"[1 2] [3 4] shunt",effect:"[L1 L2] -> [L3]"},testCases:[{code:"[1 2] [3 4] shunt",expected:[[3,4,1,2]]},{code:"[] [1 2] shunt",expected:[[1,2]]}]},gy={definition:{exec:function*(l){l.push(l.pop().reverse())},description:"Reverses a list or string.",example:"[1 2 3 4] reverse",effect:"[S] -> [S']"},testCases:[{code:"[1 2 3 4] reverse",expected:[[4,3,2,1]]},{code:'["h" "e" "l" "l" "o"] reverse',expected:[["o","l","l","e","h"]]}]},xy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop();yield*u(r,l,s),l.push(g,d)},description:"Saves two stack items, executes a program, then restores them.",example:"1 2 [10 20 +] dip2",effect:"[X Y [P]] -> [... X Y]"},testCases:[{code:"1 2 [10 20 +] dip2",expected:[30,1,2]},{code:"1 2 [] dip2",expected:[1,2]}]},by={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),T=l.pop();yield*u(r,l,s),l.push(T,g,d)},description:"Saves three stack items, executes a program, then restores them.",example:"1 2 3 [10 20 +] dip3",effect:"[X Y Z [P]] -> [... X Y Z]"},testCases:[{code:"1 2 3 [10 20 +] dip3",expected:[30,1,2,3]},{code:"10 20 1 2 3 [+] dip3",expected:[30,1,2,3]}]},vy={definition:{exec:function*(l){if(l.length<1){l.push("");return}const s=String(l.pop()),u=l.join(s);l.length=0,l.push(u)},description:"Joins all elements on the stack (except the separator at the top) into a single string, separated by the given separator.",example:'1 2 3 "-" enjoin',effect:"[A B C ... S] -> [S']"},testCases:[{code:'1 2 3 "-" enjoin',expected:["1-2-3"]},{code:'"hello" "world" " " enjoin',expected:["hello world"]},{code:'1 2 3 "" enjoin',expected:["123"]},{code:'"," enjoin',expected:[""]},{code:"enjoin",assert:l=>l.length===1&&l[0]==="",expectedDescription:"Empty string for empty stack"}]},Sy={name:"Utility Operators",description:"General-purpose helper operators.",definitions:{unitlist:py,second:hy,third:my,shunt:yy,reverse:gy,dip2:xy,dip3:by,enjoin:vy}},Ay={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("unstack expects a list.");l.length=0,l.push(...[...s].reverse())},description:"The list becomes the new stack. The first element of the list is the top of the new stack.",example:"1 2 [10 20 30] unstack",effect:"[... [L]] -> [..]"},testCases:[{code:"1 2 [10 20 30] unstack",expected:[30,20,10]}]},Ty={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("infra expects a list to be used as the stack.");const g=[...d].reverse();yield*u(r,g,s),l.push([...g].reverse())},description:"Using list L1 as a temporary stack, executes program P and returns a new list L2. The first element of L1 is the top of the stack.",example:"[10 20] [dup *] infra",effect:"[L1 [P]] -> [L2]"},testCases:[{code:"[10 20] [dup *] infra",expected:[[100,20]]}]},Ey={definition:{exec:function*(l,s,u){if(l.length<1)throw new Error("x expects a quotation on the stack.");const r=l[l.length-1];if(!Array.isArray(r))throw new Error("x expects a quotation on top of the stack.");const d=[...l];l.pop(),yield*u(r,l,s);const g=[...l];l.length=0,l.push(...d),l.push(...g)},description:"Executes the quotation on top of the stack without popping it. The quotation is applied to the stack below it, and the results are pushed on top.",example:"10 [1 +] x",effect:"[X [P]] -> [X [P] R]"},testCases:[{code:"10 [1 +] x",expected:[10,[1,"+"],11]}]},wy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(r)||!Array.isArray(d))throw new Error("construct expects two lists on top of the stack.");const g=[...l],T=[...l];yield*u(d,T,s);const N=[];for(const x of r){const h=[...g];yield*u(x,h,s),h.length>0&&N.push(h[h.length-1])}l.push(...N)},description:"Saves the stack, executes a setup program [P], then executes each program in a list of constructor programs [[P1] [P2]..] on the saved stack, collecting the single result from each.",example:"10 20 [pop] [[dup] [succ]] construct",effect:"[S [P] [[P1]..]] -> [S R1 R2 ..]"},testCases:[{code:"10 20 [pop] [[dup] [succ]] construct",expected:[10,20,20,21]}]},Cy={definition:{exec:function*(l,s,u){const r=l.pop(),d=[];yield*u(r,d,s),l.push(...d)},description:"Executes a program P, which leaves a result R on the stack. No matter how many parameters P consumes, none are removed from the original stack.",example:"10 20 [1 1 +] nullary",effect:"[... [P]] -> [... R]"},testCases:[{code:"10 20 [1 1 +] nullary",expected:[10,20,2]}]},Ny={definition:{exec:function*(l,s,u){const r=l.pop(),g=[l.pop()];yield*u(r,g,s),l.push(...g)},description:"Executes P with one value X, leaving result R. Exactly one value is removed from the stack.",example:"10 20 [1 +] unary",effect:"[... X [P]] -> [... R]"},testCases:[{code:"10 20 [1 +] unary",expected:[10,21]}]},My={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),T=[l.pop(),d];yield*u(r,T,s),l.push(...T)},description:"Executes P with two values X and Y, leaving result R. Exactly two values are removed from the stack.",example:"10 20 30 [+] binary",effect:"[... X Y [P]] -> [... R]"},testCases:[{code:"10 20 30 [+] binary",expected:[10,50]}]},Oy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),N=[l.pop(),g,d];yield*u(r,N,s),l.push(...N)},description:"Executes P with three values X, Y, and Z, leaving result R. Exactly three values are removed from the stack.",example:"10 20 30 40 [+ *] ternary",effect:"[... X Y Z [P]] -> [... R]"},testCases:[{code:"10 20 30 40 [+ *] ternary",expected:[10,1400]}]},Ry={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),T=[l.pop()];yield*u(r,T,s);const N=[d];yield*u(r,N,s),l.push(...T,...N)},description:"Executes the same program P on two separate values X1 and X2, returning two results R1 and R2.",example:"10 20 [succ] unary2",effect:"[X1 X2 [P]] -> [R1 R2]"},testCases:[{code:"10 20 [succ] unary2",expected:[11,21]}]},_y={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),N=[l.pop()];yield*u(r,N,s);const x=[g];yield*u(r,x,s);const h=[d];yield*u(r,h,s),l.push(...N,...x,...h)},description:"Executes the same program P on three separate values, returning three results.",example:"10 20 30 [succ] unary3",effect:"[X1 X2 X3 [P]] -> [R1 R2 R3]"},testCases:[{code:"10 20 30 [succ] unary3",expected:[11,21,31]}]},zy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),T=l.pop(),x=[l.pop()];yield*u(r,x,s);const h=[T];yield*u(r,h,s);const w=[g];yield*u(r,w,s);const j=[d];yield*u(r,j,s),l.push(...x,...h,...w,...j)},description:"Executes the same program P on four separate values, returning four results.",example:"10 20 30 40 [succ] unary4",effect:"[X1 X2 X3 X4 [P]] -> [R1 R2 R3 R4]"},testCases:[{code:"10 20 30 40 [succ] unary4",expected:[11,21,31,41]}]},Dy={definition:{exec:function*(l){const s=[...l];l.length=0,l.push(s)},description:"Consumes the entire stack and replaces it with a list containing all the stack's previous elements in their original order.",example:"1 2 3 popstack",effect:"[A B C ...] -> [[A B C ...]]"},testCases:[{code:"1 2 3 popstack",expected:[[1,2,3]]},{code:"popstack",expected:[[]]},{code:'1 "a" [2] popstack',expected:[[1,"a",[2]]]}]},qy={definition:{exec:function*(l,s,u,r){const d=l.pop();let g,T;if(typeof d=="symbol"){const x=Symbol.keyFor(d);if(!x)throw new Error("popto: assignment to a non-global symbol is not supported.");g=`:${x}`,T=`:${x}`}else if(typeof d=="string"||typeof d=="number")g=String(d),T=String(d);else throw new Error(`Assignment target must be a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const N=l.pop();r[g]={body:Array.isArray(N)?N:[N],description:"User-defined function/variable.",example:`... ${T} popto`}},description:"Pops a value and a name, then assigns the value to the name. Alias: `=`. `... V N popto`",example:`[1 2 3 4] mylist =
"hello" mygreeting popto`,effect:"[... V N] -> [...]"},testCases:[{code:['1 2 3 4 "mylollipop" popto',"mylollipop"],expected:[1,2,3,4]},{code:["[10 20] :mylist popto",":mylist"],expected:[[10,20]]},{code:["true 1 popto","1"],expected:[!0]},{code:["42 myvar =","myvar"],expected:[42]}]},jy={definition:{exec:function*(l,s,u,r){const d=l.pop();let g,T;if(typeof d=="symbol"){const h=Symbol.keyFor(d);if(!h)throw new Error("appendTo: assignment to a non-global symbol is not supported.");g=`:${h}`,T=`:${h}`}else if(typeof d=="string"||typeof d=="number")g=String(d),T=String(d);else throw new Error(`appendTo: target must be a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const N=l.pop(),x=r[g];if(!x)r[g]={body:[N],description:"User-defined variable.",example:`... ${T} appendTo`};else if("body"in x){if(!Array.isArray(x.body))throw new Error(`Cannot append to non-list definition: '${T}'. Use 'popto' or '=' to overwrite.`);x.body.push(N)}else throw new Error(`Cannot append to built-in function: '${T}'.`)},description:"Pops a value and a name, then appends the value to the list variable associated with the name. Creates the variable if it does not exist. Alias: `<-`.",example:`[] mylist = 
10 mylist appendTo
20 mylist <-`,effect:"[... V N] -> [...]"},testCases:[{code:["[] mylog =","10 mylog appendTo","20 mylog <-","mylog"],expected:[[10,20]]},{code:["10 newlog <-","20 newlog <-","newlog"],expected:[[10,20]]},{code:["42 :mynum <-",":mynum"],expected:[42]}]},By={definition:{exec:function*(l,s,u,r){const d=l.pop();let g,T;if(typeof d=="symbol"){const x=Symbol.keyFor(d);if(!x)throw new Error("popstackto: assignment to a non-global symbol is not supported.");g=`:${x}`,T=`:${x}`}else if(typeof d=="string"||typeof d=="number")g=String(d),T=String(d);else throw new Error(`Assignment target must be a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const N=[...l];l.length=0,r[g]={body:N,description:"User-defined function/variable.",example:`... ${T} popstackto`}},description:"Pops a name, assigns the entire rest of the stack as a list to that name, and then clears the stack. `... N popstackto`",example:"1 2 3 4 allmine popstackto",effect:"[... N] -> []"},testCases:[{code:['1 2 3 4 "allmine" popstackto',"allmine"],expected:[[1,2,3,4]]},{code:["1 2 :allmine popstackto",":allmine"],expected:[[1,2]]},{code:["1 2 3 1 popstackto","1"],expected:[[1,2,3]]}]},Uy={name:"Advanced Stack Operations",description:"Powerful operators for metaprogramming and advanced stack manipulation.",definitions:{unstack:Ay,infra:Ty,x:Ey,construct:wy,popstack:Dy,popto:qy,appendTo:jy,popstackto:By,nullary:Cy,unary:Ny,binary:My,ternary:Oy,unary2:Ry,unary3:_y,unary4:zy}},Hy={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(u))throw new Error("swons expects a list");l.push([s,...u])},description:"The reverse of `cons`. Constructs a new list by pushing an element onto the front of an existing list. `A X -> B`",example:"[2 3 4] 1 swons",effect:"[L E] -> [L']"},testCases:[{code:"[2 3 4] 1 swons",expected:[[1,2,3,4]]},{code:"[] 1 swons",expected:[[1]]}]},Yy={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();if(!Array.isArray(r)||!Array.isArray(u))throw new Error("enconcat expects two lists");l.push([...r,s,...u])},description:"Concatenates two sequences with an element inserted between them. `S T X -> U`",example:"[1 2] [3 4] 0 enconcat",effect:"[L1 L2 E] -> [L3]"},testCases:[{code:"[1 2] [3 4] 0 enconcat",expected:[[1,2,0,3,4]]},{code:'["a"] ["b"] "-" enconcat',expected:[["a","-","b"]]}]},ky={definition:{exec:function*(l){const[s,...u]=l.pop();l.push(s,u)},description:"The reverse of `uncons`. Deconstructs a list into its first element and the rest of the list. `A -> R F`",example:"[10 20 30] unswons",effect:"[L] -> [E L']"},testCases:[{code:"[10 20 30] unswons",expected:[10,[20,30]]},{code:"[1] unswons",expected:[1,[]]}]},Li=(l,s)=>JSON.stringify(l)===JSON.stringify(s),Dt=l=>{try{return structuredClone(l)}catch{if(l===null||typeof l!="object")return l;if(l instanceof Set)return new Set(Array.from(l,Dt));if(l instanceof Array)return l.map(Dt);if(l.constructor===Object){const u={};for(const r in l)l.hasOwnProperty(r)&&(u[r]=Dt(l[r]));return u}return l}},Ie=l=>{if(typeof l=="string")return/^\w+\(.*\)$/.test(l)||/^\w+\..+$/.test(l)?l:`"${l}"`;if(Array.isArray(l))return`[${l.map(Ie).join(" ")}]`;if(l instanceof Set)return`{${Array.from(l).sort((u,r)=>u-r).map(Ie).join(" ")}}`;if(l===!0)return"true";if(l===!1)return"false";if(typeof l=="object"&&l!==null&&typeof l.next=="function")return"<generator>";if(typeof l=="symbol"){const s=Symbol.keyFor(l);return s!==void 0?`:${s}`:l.toString()}return l},Ly={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Li(u,s))},description:"Recursively tests whether two values (including lists) are identical.",example:"[1 [2 3]] [1 [2 3]] equal",effect:"[A B] -> [bool]"},testCases:[{code:"[1 [2 3]] [1 [2 3]] equal",expected:[!0]},{code:"[1 [2 3]] [1 [2 4]] equal",expected:[!1]},{code:"1 1 equal",expected:[!0]},{code:"{} {} equal",expected:[!0]}]},Xy={definition:{exec:function*(l){const s=l.pop();l.push(!Array.isArray(s))},description:"Tests whether a value is a leaf (i.e., not a list).",example:"42 leaf",effect:"[A] -> [bool]"},testCases:[{code:"42 leaf",expected:[!0]},{code:'"hello" leaf',expected:[!0]},{code:"[] leaf",expected:[!1]},{code:"[1 2] leaf",expected:[!1]}]},Gy={definition:{exec:function*(l,s,u){const r=l.pop();let d=l.pop();const g=l.pop();if(!Array.isArray(g))throw new Error("fold expects a list.");for(const T of g){const N=[d,T];yield*u(r,N,s),d=N.pop()}l.push(d)},description:"Starting with an initial value, sequentially applies a program to each member of a list to produce a final value. `A V0 [P] -> V`",example:"[1 2 3 4] 0 [+] fold",effect:"[L V [P]] -> [R]"},testCases:[{code:"[1 2 3 4] 0 [+] fold",expected:[10]},{code:"[2 3 4] 1 [*] fold",expected:[24]},{code:"[] 100 [+] fold",expected:[100]}]},Qy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("split expects a list.");const g=[],T=[];for(const N of d){const x=[N];yield*u(r,x,s),x.pop()?g.push(N):T.push(N)}l.push(g,T)},description:"Uses a predicate program to split a list into two lists: one for which the predicate was true, and one for which it was false. `A [B] -> A1 A2`",example:"[1 2 3 4 5] [2 % 0 ==] split",effect:"[L [P]] -> [L_true L_false]"},testCases:[{code:"[1 2 3 4 5] [2 % 0 ==] split",expected:[[2,4],[1,3,5]]},{code:"[1 2 3] [10 >] split",expected:[[],[1,2,3]]}]},Zy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("some expects a list.");for(const g of d){const T=[g];if(yield*u(r,T,s),T.pop()){l.push(!0);return}}l.push(!1)},description:"Applies a predicate to each member of a list, returning true if the predicate returns true for any member.",example:"[1 2 3 4] [3 >] some",effect:"[L [P]] -> [bool]"},testCases:[{code:"[1 2 3 4] [3 >] some",expected:[!0]},{code:"[1 2 3 4] [5 >] some",expected:[!1]},{code:"[] [true] some",expected:[!1]}]},Vy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("all expects a list.");for(const g of d){const T=[g];if(yield*u(r,T,s),!T.pop()){l.push(!1);return}}l.push(!0)},description:"Applies a predicate to each member of a list, returning true only if the predicate returns true for all members.",example:"[2 4 6] [2 % 0 ==] all",effect:"[L [P]] -> [bool]"},testCases:[{code:"[2 4 6] [2 % 0 ==] all",expected:[!0]},{code:"[2 4 7] [2 % 0 ==] all",expected:[!1]},{code:"[] [false] all",expected:[!0]}]},Ky={name:"Functional & Aggregate Operations",description:"Higher-order functions for list processing and advanced aggregate manipulation.",definitions:{swons:Hy,enconcat:Yy,unswons:ky,equal:Ly,leaf:Xy,fold:Gy,split:Qy,some:Zy,all:Vy}},$y={definition:{exec:function*(l){l.push(String(l.pop()).toUpperCase())},description:"Converts a string to uppercase.",example:'"hello" ucase',effect:"[S] -> [S']"},testCases:[{code:'"hello" ucase',expected:["HELLO"]},{code:'"Hello World" ucase',expected:["HELLO WORLD"]},{code:'"" ucase',expected:[""]}]},Jy={definition:{exec:function*(l){l.push(String(l.pop()).toLowerCase())},description:"Converts a string to lowercase.",example:'"HELLO" locase',effect:"[S] -> [S']"},testCases:[{code:'"HELLO" locase',expected:["hello"]},{code:'"Hello World" locase',expected:["hello world"]},{code:'"" locase',expected:[""]}]},Fy={definition:{exec:function*(l){l.push(String(l.pop()).trim())},description:"Removes whitespace from both ends of a string.",example:'"  hello  " trim',effect:"[S] -> [S']"},testCases:[{code:'"  hello  " trim',expected:["hello"]},{code:'"  hello world  " trim',expected:["hello world"]},{code:`" 
	  " trim`,expected:[""]}]},Wy={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(r.slice(u,s))},description:"Extracts a section of a string and returns it as a new string. `S Start End -> S`",example:'"hello world" 0 5 slice',effect:"[S I_start I_end] -> [S']"},testCases:[{code:'"hello world" 0 5 slice',expected:["hello"]},{code:'"hello world" 6 11 slice',expected:["world"]},{code:'"abc" 1 1 slice',expected:[""]}]},Iy={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.split(s))},description:"Splits a string into a list of substrings. `S Separator -> [S1 S2 ...]`",example:'"a,b,c" "," splitstr',effect:"[S Separator] -> [L]"},testCases:[{code:'"a,b,c" "," splitstr',expected:[["a","b","c"]]},{code:'"hello" "" splitstr',expected:[["h","e","l","l","o"]]},{code:'"a b" " " splitstr',expected:[["a","b"]]}]},Py={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.startsWith(s))},description:"Checks if a string starts with the characters of a specified string. `S Prefix -> B`",example:'"hello" "he" starts',effect:"[S Prefix] -> [bool]"},testCases:[{code:'"hello" "he" starts',expected:[!0]},{code:'"hello world" "hello" starts',expected:[!0]},{code:'"hello world" "world" starts',expected:[!1]}]},e1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.endsWith(s))},description:"Checks if a string ends with the characters of a specified string. `S Suffix -> B`",example:'"hello" "lo" ends',effect:"[S Suffix] -> [bool]"},testCases:[{code:'"hello" "lo" ends',expected:[!0]},{code:'"hello world" "world" ends',expected:[!0]},{code:'"hello world" "hello" ends',expected:[!1]}]},t1={definition:{exec:function*(l){const s=String(l.pop()),u=String(l.pop()),r=String(l.pop()),d=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");l.push(r.replace(new RegExp(d,"g"),s))},description:"Replaces all occurrences of a search string with a replacement string. `S Search Replace -> S`",example:'"ha ha ha" "a" "o" replace',effect:"[S Search Replace] -> [S']"},testCases:[{code:'"ha ha ha" "a" "o" replace',expected:["ho ho ho"]},{code:'"banana" "na" "no" replace',expected:["banono"]},{code:'"test" "x" "y" replace',expected:["test"]}]},a1={name:"JavaScript String Operations",description:"A bridge to common JavaScript string manipulation methods.",definitions:{ucase:$y,locase:Jy,trim:Fy,slice:Wy,splitstr:Iy,starts:Py,ends:e1,replace:t1}},n1={definition:{exec:function*(l){const s=l.pop();typeof s=="string"?l.push(s):l.push(String(Ie(s)).replace(/^"(.*)"$/,"$1"))},description:"Converts the top value on the stack to its string representation.",example:"123 string",effect:"[A] -> [S]"},testCases:[{code:"123 string",expected:["123"]},{code:"true string",expected:["true"]},{code:"[1 2 3] string",expected:["[1 2 3]"]},{code:"{1 2} string",expected:["{1 2}"]},{code:'"abc" string',expected:["abc"]}]},l1={definition:{exec:function*(l){const s=l.pop(),u=parseFloat(s);l.push(isNaN(u)?0:u)},description:"Parses a string into a number. Returns 0 if the string cannot be parsed.",example:'"123.45" toNumber',effect:"[S] -> [N]"},testCases:[{code:'"123.45" toNumber',expected:[123.45]},{code:'"-10" toNumber',expected:[-10]},{code:'"hello" toNumber',expected:[0]},{code:"true toNumber",expected:[0]},{code:"123 toNumber",expected:[123]}]},i1={definition:{exec:function*(l){l.push(!!l.pop())},description:"Converts the top value on the stack to its boolean equivalent (using standard JavaScript truthiness).",example:"1 toBool",effect:"[A] -> [B]"},testCases:[{code:"1 toBool",expected:[!0]},{code:"0 toBool",expected:[!1]},{code:'"" toBool',expected:[!1]},{code:'"hello" toBool',expected:[!0]},{code:"[] toBool",expected:[!0]},{code:"{} toBool",expected:[!0]}]},c1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();try{const r=new RegExp(s);l.push(r.test(u))}catch{throw new Error(`Invalid RegExp pattern: ${s}`)}},description:"Tests if a string matches a regular expression. `S Pattern -> B`",example:'"banana" "^b" regtest',effect:"[S Pattern] -> [bool]"},testCases:[{code:'"banana" "an" regtest',expected:[!0]},{code:'"banana" "^b" regtest',expected:[!0]},{code:'"banana" "a$" regtest',expected:[!0]},{code:'"banana" "c" regtest',expected:[!1]}]},s1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();try{l.push(r.replace(new RegExp(u),s))}catch{throw new Error(`Invalid RegExp pattern: ${u}`)}},description:"Replaces the first occurrence of a regex pattern in a string. `S Pattern Replacement -> S`",example:'"banana" "a" "o" regsub',effect:"[S Pattern Replace] -> [S']"},testCases:[{code:'"banana" "a" "o" regsub',expected:["bonana"]},{code:'"banana" "an" "o" regsub',expected:["boana"]},{code:'"hello world" "l" "X" regsub',expected:["heXlo world"]}]},o1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();try{l.push(r.replace(new RegExp(u,"g"),s))}catch{throw new Error(`Invalid RegExp pattern: ${u}`)}},description:"Replaces all occurrences of a regex pattern in a string (global substitute). `S Pattern Replacement -> S`",example:'"banana" "a" "o" regsubg',effect:"[S Pattern Replace] -> [S']"},testCases:[{code:'"banana" "a" "o" regsubg',expected:["bonono"]},{code:'"banana" "an" "o" regsubg',expected:["booa"]},{code:'"hello world" "l" "X" regsubg',expected:["heXXo worXd"]}]},u1={name:"Advanced Types & Regex",description:"Operators for type casting, regular expression validation, and string replacement.",definitions:{string:n1,toNumber:l1,toBool:i1,regtest:c1,regsub:s1,regsubg:o1}},r1={definition:{exec:function*(l,s){s.onOutput?s.onOutput(`
`):console.log(`
`)},description:"Outputs a newline to the REPL.",example:"cr",effect:"[] -> []"},testCases:[{code:"cr",expected:[]}]},f1={definition:{exec:function*(l,s){const u=String(l.pop());s.onOutput?s.onOutput(u):console.log(u)},description:"Outputs the top of the stack to the REPL.",example:"hello emit",effect:"[S] -> []"},testCases:[{code:'"Hello" emit',expected:[]}]},d1={name:"REPL I/O",description:"Operators for interacting with the REPL environment.",definitions:{cr:r1,emit:f1}},p1={definition:{exec:function*(l,s,u,r){if(!s.historyManager)return;const d=s.historyManager.undo();if(d){l.length=0,l.push(...d.stack);for(const g in r)"exec"in r[g]||delete r[g];Object.assign(r,d.userDictionary)}},description:"Reverts the stack and all user-defined words to their state before the last operation. Can be called multiple times.",example:"1 2 + dup undo",effect:"[...] -> [...]"},testCases:[{code:["1 2 +","dup","undo"],assert:l=>l.length===1&&l[0]===3,expectedDescription:"[3]"},{code:["100","1 2 +","undo"],expected:[100]}]},h1={definition:{exec:function*(l,s,u,r){if(!s.historyManager)return;const d=s.historyManager.redo();if(d){l.length=0,l.push(...d.stack);for(const g in r)"exec"in r[g]||delete r[g];Object.assign(r,d.userDictionary)}},description:"Re-applies an operation that was undone. Can only be used after `undo`.",example:"1 2 + undo redo",effect:"[...] -> [...]"},testCases:[{code:["1 2 +","undo","redo"],expected:[3]},{code:["1 2 +","undo","3 4 +","redo"],expected:[7]}]},m1={definition:{exec:function*(l,s,u,r){if(s.historyManager){const d=s.historyManager.createSnapshot(l,r);s.historyManager.clear(),s.historyManager.add(d)}},description:"Clears the undo/redo history. The current state becomes the new initial state.",example:"1 2 + clearhistory",effect:"[] -> []"},testCases:[{code:"1 2 + clearhistory",expected:[3]},{code:"1 2 clearhistory",expected:[1,2]}]},y1={definition:{exec:function*(l,s,u){const{commandHistory:r,parse:d}=s;if(!r||r.length<2||!d)return;let g=null;for(let T=r.length-2;T>=0;T--)if(r[T].trim().toLowerCase()!=="again"){g=r[T];break}if(g){const T=d(g);yield*u(T,l,s)}},description:'Re-executes the last command from the history that was not "again".',example:`1 2 + # pushes 3
again # re-runs "1 2 +". stack becomes [3 3]`,effect:"[...] -> [...]"},testCases:[{code:["1 2 +","again"],expected:[3,3]},{code:["5 dup *","again"],expected:[25,25]},{code:["1","again","again"],expected:[1,1,1]},{code:["1 1 + again"],expected:[2]},{code:["10 20 +","1 again"],expected:[30,1,30]},{code:["1 again"],expected:[1]},{code:["[1] mylist =","1 mylist <-","again","mylist"],expected:[[1,1,1]]}]},g1={name:"History Management",description:"Operators for managing the REPL session history (undo/redo).",definitions:{undo:p1,redo:h1,clearhistory:m1,again:y1}},x1=`
const { PI, sin, cos, random, abs, min, max, pow, sign, floor } = Math;

// --- DSP Library Functions ---
// Each function takes its own state object 's' and its arguments.

const dsp = {
    sine: (s, freq) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        return sin(s.phase * 2 * PI);
    },
    saw: (s, freq) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        s.phase %= 1;
        return s.phase * 2 - 1;
    },
    triangle: (s, freq) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        s.phase %= 1;
        return 4 * abs(s.phase - 0.5) - 1;
    },
    pulse: (s, freq, duty = 0.5) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        s.phase %= 1;
        return s.phase < duty ? 1 : -1;
    },
    noise: () => random() * 2 - 1,
    impulse: (s, freq) => {
        s.phase = (s.phase || 1) + freq / sampleRate;
        let v = s.phase >= 1 ? 1 : 0;
        s.phase %= 1;
        return v;
    },
    oneshot: (s) => {
        if (s.triggered) return 0;
        s.triggered = true;
        return 1;
    },
    lpf: (s, input, cutoff, res) => {
        s.c = pow(0.5, (1 - min(max(cutoff, 0), 1)) / 0.125);
        s.r = pow(0.5, (min(max(res, 0), 1) + 0.125) / 0.125);
        s.mrc = 1 - s.r * s.c;
        s.s0 = (s.s0 || 0) * s.mrc - (s.s1 || 0) * s.c + input * s.c;
        s.s1 = (s.s1 || 0) * s.mrc + s.s0 * s.c;
        return s.s1;
    },
    hpf: (s, input, cutoff, res) => {
        s.lpf_state = s.lpf_state || {};
        return input - dsp.lpf(s.lpf_state, input, cutoff, res);
    },
    adsr: (s, gate, a, d, sus, r) => {
        const aSamples = Math.max(1, a * sampleRate);
        const dSamples = Math.max(1, d * sampleRate);
        const rSamples = Math.max(1, r * sampleRate);

        s.val = s.val || 0;
        
        if (gate > 0 && (s.gate === undefined || s.gate <= 0)) {
            s.mode = 1; // attack
        } else if (gate <= 0 && s.gate > 0) {
            s.mode = 4; // release
            s.releaseStartVal = s.val;
        }
        s.gate = gate;

        switch (s.mode) {
            case 1: // Attack
                s.val += 1.0 / aSamples;
                if (s.val >= 1.0) { s.val = 1.0; s.mode = 2; }
                break;
            case 2: // Decay
                if (s.val > sus) { s.val -= (1.0 - sus) / dSamples; }
                if (s.val <= sus) { s.val = sus; s.mode = 3; }
                break;
            case 3: // Sustain
                s.val = sus;
                break;
            case 4: // Release
                s.val -= (s.releaseStartVal || 0) / rSamples;
                if (s.val <= 0) { s.val = 0; s.mode = 0; }
                break;
            default: // Off
                s.val = 0;
        }
        return Math.max(0, s.val);
    },
    ad: (s, gate, a, d) => {
        const aSamples = Math.max(1, a * sampleRate);
        const dSamples = Math.max(1, d * sampleRate);

        s.val = s.val || 0;
        s.mode = s.mode || 0; // 0: off, 1: attack, 2: decay

        // A rising edge on the gate triggers the envelope
        if (gate > 0 && (s.lastGate === undefined || s.lastGate <= 0)) {
            s.mode = 1; // Go to attack phase
            s.val = 0;  // Reset from the bottom
        }
        s.lastGate = gate;

        if (s.mode === 1) { // In attack phase
            s.val += 1.0 / aSamples;
            if (s.val >= 1.0) {
                s.val = 1.0;
                s.mode = 2; // Switch to decay
            }
        } else if (s.mode === 2) { // In decay phase
            s.val -= 1.0 / dSamples;
            if (s.val <= 0) {
                s.val = 0;
                s.mode = 0; // Switch to off
            }
        }
        
        // If mode is 0 (off), s.val will be 0 from the previous decay step.
        return s.val;
    },
    bytebeat: (s, code) => {
        s.t = (s.t || 0) + 1;
        const t = s.t - 1;

        if (s.code !== code) {
            try {
                s.fn = new Function('t', 'return ' + code);
                s.code = code;
                s.errorLogged = false;
            } catch (e) {
                console.error('Bytebeat compile error:', e);
                s.fn = null;
            }
        }
        if (!s.fn) return 0;
        try {
            const result = s.fn(t);
            return ((result | 0) & 255) / 127.5 - 1;
        } catch(e) {
            if (!s.errorLogged) {
                console.error('Bytebeat runtime error in code "' + s.code + '":', e.message);
                s.errorLogged = true;
            }
            return 0;
        }
    },
    floatbeat: (s, code) => {
        s.t = (s.t || 0) + 1;
        const t = s.t - 1;

        if (s.code !== code) {
            try {
                s.fn = new Function('t', 'return ' + code);
                s.code = code;
                s.errorLogged = false;
            } catch (e) {
                console.error('Floatbeat compile error:', e);
                s.fn = null;
            }
        }
        if (!s.fn) return 0;
        try {
            const result = s.fn(t);
            return result;
        } catch(e) {
            if (!s.errorLogged) {
                console.error('Floatbeat runtime error in code "' + s.code + '":', e.message);
                s.errorLogged = true;
            }
            return 0;
        }
    },
    delay: (s, input, time, feedback) => {
        if (!s.buffer) s.buffer = new Float32Array(sampleRate * 5); // 5 sec max
        s.writeIdx = (s.writeIdx || 0);
        let readIdx = s.writeIdx - Math.floor(time * sampleRate);
        if (readIdx < 0) readIdx += s.buffer.length;
        const out = s.buffer[readIdx];
        s.buffer[s.writeIdx] = input + out * feedback;
        s.writeIdx = (s.writeIdx + 1) % s.buffer.length;
        return out;
    },
    distort: (s, input, amount) => {
        // A tanh-based soft-clipper.
        // amount controls the drive.
        const gain = 1 + amount * 4;
        return Math.tanh(input * gain);
    },
    pan: (s, input, pos) => {
        const angle = (pos * 0.5 + 0.5) * (PI / 2);
        return [input * cos(angle), input * sin(angle)];
    },
    note: (s, note) => (2 ** ((note - 69) / 12) * 440),
    seq: (s, clock, ...values) => {
        if (!s.lastClock && clock > 0) {
            s.step = (s.step || 0) + 1;
        }
        s.lastClock = clock;
        return values[s.step % values.length];
    },
    'mix': (s, a, b) => {
        if (Array.isArray(a) && Array.isArray(b)) return [a[0]+b[0], a[1]+b[1]];
        if (Array.isArray(a)) return [a[0]+b, a[1]+b];
        if (Array.isArray(b)) return [a+b[0], a+b[1]];
        return a + b;
    },
    'mul': (s, a, b) => {
        if (Array.isArray(a) && Array.isArray(b)) return [a[0]*b[0], a[1]*b[1]];
        if (Array.isArray(a)) return [a[0]*b, a[1]*b];
        if (Array.isArray(b)) return [a*b[0], a*b[1]];
        return a * b;
    },
};

class DspProcessor extends AudioWorkletProcessor {
    constructor() {
        super();
        this.voices = new Map(); // { id: { graph, params, state } }
        this.port.onmessage = (e) => this.handleMessage(e.data);
    }

    handleMessage(msg) {
        switch (msg.command) {
            case 'play':
                this.voices.set(msg.id, {
                    graph: msg.graph,
                    params: msg.params || {},
                    state: {} // For stateful nodes
                });
                break;
            case 'update':
                if (this.voices.has(msg.id)) {
                    const voice = this.voices.get(msg.id);
                    voice.graph = msg.graph;
                    voice.params = msg.params || {};
                }
                break;
            case 'ctrl':
                if (this.voices.has(msg.id)) {
                    this.voices.get(msg.id).params[msg.param] = msg.value;
                }
                break;
            case 'stop':
                this.voices.delete(msg.id);
                break;
            case 'stopAll':
                this.voices.clear();
                break;
        }
    }

    // Recursively evaluates an audio graph node for the current sample
    evaluate(node, params, state, counters) {
        if (typeof node !== 'object' || node === null) return node;
        if (node.param) return params[node.param];
        if (!Array.isArray(node)) return 0;

        const op = node[0];
        const dspFn = dsp[op];
        if (!dspFn) return 0;

        const evalArgs = node.slice(1).map(arg => this.evaluate(arg, params, state, counters));

        // Create a unique key for this node instance's state
        const opCount = counters[op] = (counters[op] || 0) + 1;
        const stateKey = op + '_' + (opCount - 1);
        state[stateKey] = state[stateKey] || {}; // Ensure state sub-object exists

        return dspFn(state[stateKey], ...evalArgs);
    }

    process(inputs, outputs) {
        const outL = outputs[0][0];
        const outR = outputs[0][1];

        for (let i = 0; i < outL.length; i++) {
            let totalL = 0;
            let totalR = 0;

            for (const voice of this.voices.values()) {
                try {
                    // Reset counters for each sample, for each voice
                    const counters = {};
                    const result = this.evaluate(voice.graph, voice.params, voice.state, counters);
                    
                    if (Array.isArray(result)) { // Stereo
                        totalL += result[0] || 0;
                        totalR += result[1] || 0;
                    } else { // Mono
                        totalL += result || 0;
                        totalR += result || 0;
                    }
                } catch (e) {
                    console.error('DSP Error:', e);
                }
            }
            
            outL[i] = totalL;
            outR[i] = totalR;
        }
        return true;
    }
}

registerProcessor('dsp-processor', DspProcessor);
`,b1={sine:["freq"],saw:["freq"],pulse:["freq","duty"],lpf:["cutoff","resonance"],hpf:["cutoff","resonance"],ad:["gate","attack","decay"],adsr:["gate","attack","decay","sustain","release"],delay:["time","feedback"],distort:["amount"],pan:["pos"],mul:["gain"],note:["note"],seq:["clock"],impulse:["freq"]};function uo(l,s,u){if(!Array.isArray(l))return;const r=l[0],d=l.slice(1),g=["seq"].includes(r),T=b1[r]||[];for(let N=0;N<d.length;N++){const x=d[N];if(typeof x=="number"&&!g&&T[N]){const h=T[N],w=u[h]=(u[h]||0)+1,j=w===1?h:`${h}_${w-1}`;s.params[j]=x,l[N+1]={param:j}}else Array.isArray(x)&&uo(x,s,u)}}class Cn{constructor(){this.context=null,this.workletNode=null,this.isInitialized=!1,this.voiceIdCounter=0,this.patchTemplates=new Map,this.sourceVoices=new Map,this.tempo=80}static getInstance(){return Cn.instance||(Cn.instance=new Cn),Cn.instance}async init(){if(!this.isInitialized&&!(typeof window>"u"))try{this.context=new AudioContext,this.context.state==="suspended"&&await this.context.resume();const s=new Blob([x1],{type:"application/javascript"}),u=URL.createObjectURL(s);await this.context.audioWorklet.addModule(u),this.workletNode=new AudioWorkletNode(this.context,"dsp-processor",{outputChannelCount:[2]}),this.workletNode.connect(this.context.destination),this.isInitialized=!0}catch(s){console.error("Error initializing AudioEngine:",s),this.isInitialized=!1}}definePatch(s,u){if(!this.isInitialized)return;const d={graph:Dt(u),params:{}},g={};uo(d.graph,d,g),this.patchTemplates.set(s,d)}play(s,u){if(!this.isInitialized||!this.workletNode)return"";let r,d,g=!1,T=null;if(typeof s=="string"){const h=this.patchTemplates.get(s);if(!h)return console.warn(`Patch "${s}" not found.`),"";T=s,g=!0,r=Dt(h.graph),d={...h.params}}else{r=Dt(s);const h={graph:r,params:{}},w={};uo(h.graph,h,w),d=h.params}const N=g?T:u;if(N&&this.sourceVoices.has(N)){const h=this.sourceVoices.get(N);return this.workletNode.port.postMessage({command:"update",id:h,graph:r,params:d}),h}const x=`voice_${this.voiceIdCounter++}`;return N&&this.sourceVoices.set(N,x),this.workletNode.port.postMessage({command:"play",id:x,graph:r,params:d}),x}ctrl(s,u,r){if(!this.isInitialized||!this.workletNode)return;const d=this.sourceVoices.get(s);d?this.workletNode.port.postMessage({command:"ctrl",id:d,param:u,value:r}):console.warn(`No active voice found for patch named "${s}".`)}stop(s){if(!this.isInitialized||!this.workletNode)return[];const u=this.sourceVoices.get(s);return u?(this.workletNode.port.postMessage({command:"stop",id:u}),this.sourceVoices.delete(s),[u]):[]}stopAll(){if(this.workletNode){this.workletNode.port.postMessage({command:"stopAll"});const s=Array.from(this.sourceVoices.values());return this.sourceVoices.clear(),s}return[]}setTempo(s){typeof s=="number"&&s>0&&(this.tempo=s)}}const Jt=Cn.getInstance(),v1={definition:{exec:function*(l,s){if(l.length<1)return;const u=l.pop();let r;if(Array.isArray(u))r=u;else if(typeof u=="symbol"){const g=Symbol.keyFor(u);if(!g)throw new Error("play: Invalid symbol for patch name.");r=g}else throw l.push(u),new Error("play expects an audio graph (list) or a patch name (symbol).");const d=Jt.play(r,s.sourceId);s.onVoiceCreated&&s.onVoiceCreated(d),l.push(u)},description:"Plays an audio graph from the stack, then pushes it back onto the stack. If given a graph (list), it plays it anonymously. If given a name (symbol), it plays the corresponding named patch.",example:":my-synth play",effect:"[A] -> [A]"},testCases:[{code:["[60 note saw] :test-patch patch","play"],assert:l=>l.length===1&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="test-patch",expectedDescription:"[:test-patch]"},{code:"[440 sine] play",expected:[[440,"sine"]]}]},S1={definition:{exec:function*(l,s){let u=[];if(l.length===0)u=Jt.stopAll();else{const r=l.pop();if(typeof r=="symbol"){const d=Symbol.keyFor(r);if(!d)throw new Error("stop: Invalid symbol for patch name.");u=Jt.stop(d)}else throw l.push(r),new Error("stop expects a patch name (symbol) on the stack, or an empty stack to stop all sounds.");l.push(r)}s.onVoiceDestroyed&&u.forEach(r=>s.onVoiceDestroyed(r))},description:"Stops a playing audio patch by its name (symbol), then pushes the name back onto the stack. If the stack is empty, it stops all audio (like `hush`).",example:":my-synth stop",effect:"[A]? -> [A]?"},testCases:[{code:":some-patch stop",assert:l=>l.length===1&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="some-patch",expectedDescription:"[:some-patch]"},{code:"stop",expected:[]}]},A1={definition:{exec:function*(l){if(l.length<1)return;const s=l.pop();Jt.setTempo(s),l.push(s)},description:"Sets the global tempo in Beats Per Minute (BPM), then pushes the tempo value back onto the stack.",example:"120 tempo",effect:"[N_bpm] -> [N_bpm]"},testCases:[{code:"120 tempo",expected:[120]}]},T1={definition:{exec:function*(l){const s=l.pop();l.push(["sine",s])},description:"Creates a sine wave oscillator node.",example:"440 sine 0.5 mul play",effect:"[F_freq] -> [L_graph]"},testCases:[{code:"440 sine",expected:[["sine",440]]},{code:"440 sine 0.5 mul",expected:[["mul",["sine",440],.5]]}]},E1={definition:{exec:function*(l){const s=l.pop();l.push(["saw",s])},description:"Creates a sawtooth wave oscillator node.",example:"440 saw 0.5 mul play",effect:"[F_freq] -> [L_graph]"},testCases:[{code:"440 saw",expected:[["saw",440]]},{code:"440 saw 0.5 mul",expected:[["mul",["saw",440],.5]]}]},w1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["pulse",u,s])},description:"Creates a pulse wave oscillator node.",example:"440 0.25 pulse 0.5 mul play",effect:"[F_freq F_duty] -> [L_graph]"},testCases:[{code:"440 0.25 pulse",expected:[["pulse",440,.25]]},{code:"440 0.25 pulse 0.5 mul",expected:[["mul",["pulse",440,.25],.5]]}]},C1={definition:{exec:function*(l){l.push(["noise"])},description:"Creates a white noise generator node.",example:"noise 0.2 mul play",effect:"[] -> [L_graph]"},testCases:[{code:"noise",expected:[["noise"]]},{code:"noise 0.2 mul",expected:[["mul",["noise"],.2]]}]},N1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["lpf",r,u,s])},description:"Applies a low-pass filter to an audio signal node.",example:"220 saw 800 0.5 lpf play",effect:"[L_graph F_cutoff F_resonance] -> [L_graph]"},testCases:[{code:"220 saw 800 0.5 lpf",expected:[["lpf",["saw",220],800,.5]]}]},M1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["hpf",r,u,s])},description:"Applies a high-pass filter to an audio signal node.",example:"noise 2000 0.2 hpf play",effect:"[L_graph F_cutoff F_resonance] -> [L_graph]"},testCases:[{code:"noise 2000 0.2 hpf",expected:[["hpf",["noise"],2e3,.2]]}]},O1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["ad",r,u,s])},description:"Creates an Attack-Decay envelope generator node.",example:"440 sine 1 0.01 0.4 ad mul play",effect:"[S_gate F_attack F_decay] -> [L_graph]"},testCases:[{code:"1 0.1 0.2 ad",expected:[["ad",1,.1,.2]]},{code:"440 sine 1 0.01 0.4 ad mul",expected:[["mul",["sine",440],["ad",1,.01,.4]]]}]},R1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop(),d=l.pop(),g=l.pop();l.push(["adsr",g,d,r,u,s])},description:"Creates an Attack-Decay-Sustain-Release (ADSR) envelope node.",example:"440 sine 1 0.1 0.2 0.5 0.3 adsr mul play",effect:"[S_gate F_a F_d F_s F_r] -> [L_graph]"},testCases:[{code:"1 0.1 0.2 0.5 0.3 adsr",expected:[["adsr",1,.1,.2,.5,.3]]},{code:"440 sine 1 0.1 0.2 0.5 0.3 adsr mul",expected:[["mul",["sine",440],["adsr",1,.1,.2,.5,.3]]]}]},_1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["delay",r,u,s])},description:"Applies a delay effect with feedback to an audio signal node.",example:"220 sine dup 0.25 0.5 delay mix 0.5 mul play",effect:"[L_graph F_time F_feedback] -> [L_graph]"},testCases:[{code:"220 sine 0.25 0.5 delay",expected:[["delay",["sine",220],.25,.5]]}]},z1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["distort",u,s])},description:"Applies distortion to an audio signal node.",example:"220 saw 0.8 distort 0.5 mul play",effect:"[L_graph F_amount] -> [L_graph]"},testCases:[{code:"220 saw 0.8 distort",expected:[["distort",["saw",220],.8]]}]},D1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["pan",u,s])},description:"Pans a mono signal node in the stereo field. -1 is hard left, 1 is hard right.",example:"220 sine -0.7 pan play",effect:"[L_graph F_pos] -> [L_graph]"},testCases:[{code:"220 sine -0.7 pan",expected:[["pan",["sine",220],-.7]]}]},q1={definition:{exec:function*(l){const s=l.pop();l.push(["note",s])},description:"Creates a node that converts a MIDI note number to a frequency in Hz.",example:"69 note sine play",effect:"[N_midi] -> [L_graph]"},testCases:[{code:"69 note",expected:[["note",69]]},{code:"69 note sine",expected:[["sine",["note",69]]]}]},j1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(s))throw new Error("seq expects a list of values.");l.push(["seq",u,...s])},description:"Creates a step sequencer node. Steps through the list of values on each tick of the clock signal.",example:"4 impulse [60 64 67 72] seq note sine play",effect:"[L_clock L_values] -> [L_graph]"},testCases:[{code:"4 impulse [60 64 67] seq",expected:[["seq",["impulse",4],60,64,67]]},{code:"4 impulse [60 64 67 72] seq note sine",expected:[["sine",["note",["seq",["impulse",4],60,64,67,72]]]]}]},B1={definition:{exec:function*(l){const s=l.pop();l.push(["impulse",s])},description:"Creates a trigger impulse oscillator node at a given frequency (Hz).",example:"8 impulse 0.5 mul play",effect:"[F_freq] -> [L_graph]"},testCases:[{code:"8 impulse",expected:[["impulse",8]]},{code:"8 impulse 0.5 mul",expected:[["mul",["impulse",8],.5]]}]},U1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["mix",u,s])},description:"Mixes two audio signal nodes together by adding them.",example:"220 sine 330 sine mix 0.5 mul play",effect:"[L_graphA L_graphB] -> [L_graph]"},testCases:[{code:"220 sine 330 sine mix",expected:[["mix",["sine",220],["sine",330]]]}]},H1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["mul",u,s])},description:"Multiplies two audio signals (or a signal and a number for gain).",example:"440 sine 0.5 mul play",effect:"[L_graphA L_graphB_or_F] -> [L_graph]"},testCases:[{code:"440 sine 0.5 mul",expected:[["mul",["sine",440],.5]]}]},Y1={definition:{exec:function*(l){if(l.length<3)throw new Error("ctrl expects 3 arguments on the stack.");const s=l.pop(),u=l.pop(),r=l.pop();if(typeof r!="symbol"||typeof u!="symbol"||typeof s!="number")throw l.push(r,u,s),new Error("ctrl expects: symbol (patch name), symbol (param name), number (value)");const d=Symbol.keyFor(r);if(!d)throw new Error("ctrl: Invalid symbol for patch name.");const g=Symbol.keyFor(u);if(!g)throw new Error("ctrl: Invalid symbol for parameter name.");Jt.ctrl(d,g,s),l.push(r,u,s)},description:"Controls a parameter of a running audio patch. Consumes the patch name, parameter name, and value, then pushes them back onto the stack.",example:":my-synth :freq 440 ctrl",effect:"[A B C] -> [A B C]"},testCases:[{code:":my-synth :freq 440 ctrl",assert:l=>l.length===3&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="my-synth"&&typeof l[1]=="symbol"&&Symbol.keyFor(l[1])==="freq"&&l[2]===440,expectedDescription:"[:my-synth :freq 440]"}]},k1={definition:{exec:function*(l){Jt.stopAll()},description:"Stops all currently playing audio voices immediately.",example:"hush",effect:"[] -> []"},testCases:[{code:"hush",expected:[]}]},L1={definition:{exec:function*(l){if(l.length<2)throw new Error("patch expects 2 arguments on the stack.");const s=l.pop(),u=l.pop();if(typeof s!="symbol"||!Array.isArray(u))throw l.push(u,s),new Error("patch operator expects a quotation and a name (symbol).");const r=Symbol.keyFor(s);if(!r)throw new Error("patch: Invalid symbol for patch name.");Jt.definePatch(r,u),l.push(s)},description:"Defines a named audio patch from a quotation. The patch can then be played, stopped, and controlled by its name. Pushes the patch name back onto the stack as a result.",example:"[ 60 note saw ] :bass patch",effect:"[[Graph]] [Sym_name] -> [Sym_name]"},testCases:[{code:"[440 sine] :my-sine patch",assert:l=>l.length===1&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="my-sine",expectedDescription:"[:my-sine]"},{code:"[ 60 note saw ] :bass patch",assert:l=>l.length===1&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="bass",expectedDescription:"[:bass]"}]},X1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const T=["mul",["mul",["sine",["mix",60,["mul",["ad",[...s],.001,.1],200]]],["ad",s,.001,.4]],1];l.push(T)},description:"Creates a bass drum synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",example:`bd play   # Single hit
2 impulse bd play # Repeating hit`,effect:"[L_gate]? -> [L_graph]"},testCases:[{code:"bd",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"1 impulse bd",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},G1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const d=["mul",["mix",["triangle",220],["triangle",180]],.5],g=["ad",[...s],.001,.1],h=["mul",["mul",["mix",d,["mul",["mul",["hpf",["noise"],1e3,.5],g],.8]],["ad",s,.001,.2]],.9];l.push(h)},description:"Creates a snare drum synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",example:`sd play   # Single hit
2 impulse sd play # Repeating hit`,effect:"[L_gate]? -> [L_graph]"},testCases:[{code:"sd",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"1 impulse sd",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},Q1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const u=120,r=["ad",[...s],.001,.08],N=["mul",["mul",["sine",["mix",u,["mul",r,u*1.5]]],["ad",s,.001,.3]],.9];l.push(N)},description:"Creates a low tom synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",example:`lt play   # Single hit
2 impulse lt play # Repeating hit`,effect:"[L_gate]? -> [L_graph]"},testCases:[{code:"lt",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"1 impulse lt",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},Z1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const u=180,r=["ad",[...s],.001,.08],N=["mul",["mul",["sine",["mix",u,["mul",r,u*1.5]]],["ad",s,.001,.3]],.9];l.push(N)},description:"Creates a mid tom synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",example:`mt play   # Single hit
2 impulse mt play # Repeating hit`,effect:"[L_gate]? -> [L_graph]"},testCases:[{code:"mt",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"1 impulse mt",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},V1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const u=250,r=["ad",[...s],.001,.08],N=["mul",["mul",["sine",["mix",u,["mul",r,u*1.5]]],["ad",s,.001,.3]],.9];l.push(N)},description:"Creates a high tom synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",example:`ht play   # Single hit
2 impulse ht play # Repeating hit`,effect:"[L_gate]? -> [L_graph]"},testCases:[{code:"ht",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"1 impulse ht",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},K1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const N=["mul",["mul",["hpf",["noise"],8e3,.1],["ad",s,.001,.05]],.5];l.push(N)},description:"Creates a closed hi-hat synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",example:`hh play   # Single hit
8 impulse hh play # Repeating hit`,effect:"[L_gate]? -> [L_graph]"},testCases:[{code:"hh",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"1 impulse hh",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},yd={"+":(l,s)=>`(${s} + ${l})`,"-":(l,s)=>`(${s} - ${l})`,"*":(l,s)=>`(${s} * ${l})`,"/":(l,s)=>`(${s} / ${l})`,"%":(l,s)=>`(${s} % ${l})`,">>":(l,s)=>`(${s} >> ${l})`,"<<":(l,s)=>`(${s} << ${l})`,"&":(l,s)=>`(${s} & ${l})`,"|":(l,s)=>`(${s} | ${l})`,"^":(l,s)=>`(${s} ^ ${l})`,"~":l=>`(~${l})`,sin:l=>`Math.sin(${l})`,cos:l=>`Math.cos(${l})`,tan:l=>`Math.tan(${l})`,pow:(l,s)=>`Math.pow(${s}, ${l})`,sqrt:l=>`Math.sqrt(${l})`,abs:l=>`Math.abs(${l})`,floor:l=>`Math.floor(${l})`,ceil:l=>`Math.ceil(${l})`,round:l=>`Math.round(${l})`,">":(l,s)=>`((${s} > ${l}) ? 1 : 0)`,"<":(l,s)=>`((${s} < ${l}) ? 1 : 0)`,">=":(l,s)=>`((${s} >= ${l}) ? 1 : 0)`,"<=":(l,s)=>`((${s} <= ${l}) ? 1 : 0)`,"==":(l,s)=>`((${s} === ${l}) ? 1 : 0)`,"!=":(l,s)=>`((${s} !== ${l}) ? 1 : 0)`},$1={"+":2,"-":2,"*":2,"/":2,"%":2,">>":2,"<<":2,"&":2,"|":2,"^":2,"~":1,sin:1,cos:1,tan:1,pow:2,sqrt:1,abs:1,floor:1,ceil:1,round:1,">":2,"<":2,">=":2,"<=":2,"==":2,"!=":2};function J1(l){const s=[];for(const u of l)if(typeof u=="number")s.push(String(u));else if(typeof u=="string")if(u==="t")s.push("t");else if(yd[u]){const r=$1[u];if(s.length<r)throw new Error(`Stack underflow during bytebeat transpilation for operator '${u}'.`);const d=s.splice(s.length-r,r),g=yd[u](...d.reverse());s.push(g)}else throw new Error(`Unsupported operator in bytebeat quotation: '${u}'. Only basic math, bitwise, and some JS Math operators are supported.`);else throw new Error(`Unsupported token type in bytebeat quotation: ${typeof u}`);if(s.length===0)throw new Error("Bytebeat quotation must result in a value on the stack.");return s[s.length-1]}const F1={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("bytebeat expects a quotation (list).");const u=J1(s);l.push(["bytebeat",u])},description:"Bytebeat node. Consumes a quotation which is a stack-based formula that is transpiled into a high-performance JavaScript expression. This expression is evaluated for every audio sample. The special operator `t` is implicitly available in the quotation and represents the current time in samples. The integer result of the formula is wrapped to 8 bits (0-255) and converted to an audio signal (-1 to 1). Supported operators: `+ - * / % >> << & | ^ ~ sin cos tan pow sqrt abs floor ceil round > < >= <= == !=`. Relational operators return 1 for true and 0 for false.",example:"[ t 10000 % 256 < t * ] bytebeat 0.3 mul play",effect:"[[Quotation]] -> [L_graph]"},testCases:[{code:"[t 255 &] bytebeat",expected:[["bytebeat","(t & 255)"]]},{code:"[t 1000 % 25 * sin] bytebeat",expected:[["bytebeat","Math.sin(((t % 1000) * 25))"]]}]},gd={"+":(l,s)=>`(${s} + ${l})`,"-":(l,s)=>`(${s} - ${l})`,"*":(l,s)=>`(${s} * ${l})`,"/":(l,s)=>`(${s} / ${l})`,"%":(l,s)=>`(${s} % ${l})`,">>":(l,s)=>`(${s} >> ${l})`,"<<":(l,s)=>`(${s} << ${l})`,"&":(l,s)=>`(${s} & ${l})`,"|":(l,s)=>`(${s} | ${l})`,"^":(l,s)=>`(${s} ^ ${l})`,"~":l=>`(~${l})`,sin:l=>`Math.sin(${l})`,cos:l=>`Math.cos(${l})`,tan:l=>`Math.tan(${l})`,pow:(l,s)=>`Math.pow(${s}, ${l})`,sqrt:l=>`Math.sqrt(${l})`,abs:l=>`Math.abs(${l})`,floor:l=>`Math.floor(${l})`,ceil:l=>`Math.ceil(${l})`,round:l=>`Math.round(${l})`,">":(l,s)=>`((${s} > ${l}) ? 1 : 0)`,"<":(l,s)=>`((${s} < ${l}) ? 1 : 0)`,">=":(l,s)=>`((${s} >= ${l}) ? 1 : 0)`,"<=":(l,s)=>`((${s} <= ${l}) ? 1 : 0)`,"==":(l,s)=>`((${s} === ${l}) ? 1 : 0)`,"!=":(l,s)=>`((${s} !== ${l}) ? 1 : 0)`},W1={"+":2,"-":2,"*":2,"/":2,"%":2,">>":2,"<<":2,"&":2,"|":2,"^":2,"~":1,sin:1,cos:1,tan:1,pow:2,sqrt:1,abs:1,floor:1,ceil:1,round:1,">":2,"<":2,">=":2,"<=":2,"==":2,"!=":2};function I1(l){const s=[];for(const u of l)if(typeof u=="number")s.push(String(u));else if(typeof u=="string")if(u==="t")s.push("t");else if(gd[u]){const r=W1[u];if(s.length<r)throw new Error(`Stack underflow during floatbeat transpilation for operator '${u}'.`);const d=s.splice(s.length-r,r),g=gd[u](...d.reverse());s.push(g)}else throw new Error(`Unsupported operator in floatbeat quotation: '${u}'. Only basic math, bitwise, and some JS Math operators are supported.`);else throw new Error(`Unsupported token type in floatbeat quotation: ${typeof u}`);if(s.length===0)throw new Error("Floatbeat quotation must result in a value on the stack.");return s[s.length-1]}const P1={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("floatbeat expects a quotation (list).");const u=I1(s);l.push(["floatbeat",u])},description:"Floatbeat node. Consumes a quotation which is a stack-based formula that is transpiled into a high-performance JavaScript expression. This expression is evaluated for every audio sample. The special operator `t` is implicitly available in the quotation and represents the current time in samples. The float result is used directly as an audio sample and should be in the -1 to 1 range. Supported operators: `+ - * / % >> << & | ^ ~ sin cos tan pow sqrt abs floor ceil round > < >= <= == !=`. Relational operators return 1 for true and 0 for false.",example:"[ t 44100 / 440 * 2 * 3.14159 * sin ] floatbeat",effect:"[[Quotation]] -> [L_graph]"},testCases:[{code:"[t 44100 / 440 * 2 * 3.14159 * sin] floatbeat",expected:[["floatbeat","Math.sin(((((t / 44100) * 440) * 2) * 3.14159))"]]}]},eg={definition:{exec:function*(l){l.push("t")},description:"Represents the time variable (sample count) inside a `bytebeat` or `floatbeat` quotation. This operator is only meaningful when used inside a quotation passed to those operators.",example:"time [t 255 &] bytebeat",effect:"-> t"},testCases:[{code:"t",expected:["t"]}]},tg={name:"Audio",description:"Operators for audio synthesis and processing using the Web Audio API.",definitions:{ad:O1,adsr:R1,bd:X1,bytebeat:F1,ctrl:Y1,delay:_1,distort:z1,floatbeat:P1,hh:K1,hpf:M1,ht:V1,hush:k1,impulse:B1,lpf:N1,lt:Q1,mix:U1,mt:Z1,mul:H1,noise:C1,note:q1,pan:D1,patch:L1,play:v1,pulse:w1,saw:E1,sd:G1,seq:j1,sine:T1,stop:S1,t:eg,tempo:A1}},Ya={literals:e0,stack:uy,advancedStack:Uy,logic:i0,math:C0,jsmath:zm,jsString:a1,types:dy,advancedTypes:u1,lists:Vm,functional:Ky,utils:Sy,predicates:G0,combinators:pm,recursion:F0,repl:d1,history:g1,audio:tg},vd={};for(const l of Object.values(Ya))for(const s in l.definitions)vd[s]=l.definitions[s];const xd=l=>{const s=vd[l];if(!s)throw new Error(`Operator '${l}' not found for documentation.`);return{name:l,...s.definition}},ag=[{name:"Getting Started: Comments & Primitives",description:"The basics of the Yield language, including syntax and fundamental data types.",operators:["true","false"]},{name:"Variables & Stateful Functions",description:"In Yield, there is no distinction between 'global state' and 'functions'. Everything is a word in the dictionary pointing to a list. If the list contains operators, it's a function; if it contains data, it's a variable. The `popto` (`=`) and `appendTo` (`<-`) operators modify these dictionary definitions.",operators:["popto","appendTo","body","yield"]},{name:"Stack Primitives",category:"stack"},{name:"Advanced Stack Operations",category:"advancedStack"},{name:"Aggregate (List) Operators",category:"lists"},{name:"Functional & Aggregate Operations",category:"functional"},{name:"Utility Operators",category:"utils"},{name:"Set operations",category:"logic"},{name:"Mathematical & Bitwise Operators",category:"math"},{name:"Predicates",category:"predicates"},{name:"JavaScript String Operations",category:"jsString"},{name:"Advanced Types & Regex",category:"advancedTypes"},{name:"Combinators",category:"combinators"},{name:"System & Environment",category:"literals"},{name:"History Management",category:"history"},{name:"Audio Synthesis",category:"audio"},{name:"Bytebeat & Floatbeat"},{name:"Type & Conversion",category:"types"},{name:"Recursive Combinators",category:"recursion"},{name:"JS Math Bridge",category:"jsmath"}],ng=ag.map(l=>{const s=Ya[l.category],u={name:l.name,description:l.description||(s==null?void 0:s.description)||"",cells:[]};l.name==="Getting Started: Comments & Primitives"&&u.cells.push({name:"Comments",description:"Yield supports two styles of comments. `(* ... *)` for block comments, and `#` for comments that go to the end of the line. The interpreter ignores all comments.",effect:"N/A",example:"1 2 + (* This is a comment *)"},{name:"Integers & Floats",description:"Numbers (both integers and decimals) are pushed directly onto the stack.",effect:"-> N",example:"42 -10 3.14159"},{name:"Strings (Bare Words & Quoted)",description:'Any word that is not a defined operator or number is treated as a string. Use double quotes `"..."` for strings containing spaces or to use a reserved word as a string literal.',effect:"-> S",example:`hello # is the string "hello"
"hello world" # is a multi-word string`},{name:"Symbols",description:"Words prefixed with a colon, like `:freq`, are symbols. They are used as lightweight, unique identifiers, particularly for naming parameters in audio patches.",effect:"-> Sym",example:":my-symbol"});let r=l.operators||(s?Object.keys(s.definitions):[]);l.category==="audio"&&(r=r.filter(d=>!["bytebeat","floatbeat","t"].includes(d)));for(const d of r)u.cells.push(xd(d));if(l.name==="Audio Synthesis"){u.cells.push({name:"How Audio Works: Custom Synths (Advanced)",description:"Yield's audio system is based on building a graph of signal processors. You use audio operators like `sine`, `lpf`, and `mul` to construct this graph on the stack. The final graph is a nested list that represents the complete synthesizer.\n\n1.  **Build the Graph**: Execute a sequence of audio operators. They consume parameters and other graph nodes from the stack and push a new, combined graph node back onto the stack.\n2.  **Name the Patch**: Use `patch` with a symbol to take the final graph from the stack and store it as a named, reusable template.\n3.  **Play & Control**: Use `play` to start the sound, and `ctrl` to change parameters of a running patch. Parameter names (e.g., `:freq`) are symbols inferred from the operators used when building the graph.",effect:"N/A",example:`# 1. Build the graph for a synth and name it in one go.
# The operators execute from left to right, building up the graph on the stack.
# 'patch' consumes the final graph and the symbol name.
60 note saw 1000 0.7 lpf 0.5 mul :my-synth patch

# 2. Play it.
:my-synth play

# 3. Control its parameters in real-time.
:my-synth :freq 440 ctrl
:my-synth :cutoff 400 ctrl

# 4. Stop it.
:my-synth stop`}),u.cells.push({name:"Putting It All Together: A Full Song",description:"This example combines everything we've learned: setting a tempo, sequencing drums, creating a bassline, adding a lead synth with effects, and mixing it all together into a complete musical loop. Press play to hear the final result.",effect:"N/A",example:`# 1. Set the project tempo to 135 BPM
135 tempo

# 2. Create the main 8th note clock
# (135 BPM / 60s) * 2 beats-per-8th = 4.5 Hz
[4.5 impulse] clk =

# 3. Sequence the Drums
# Kick drum on a classic "four-on-the-floor" pattern
clk [1 0 1 0 1 0 1 0] seq bd

# Snare drum on beats 2 and 4
clk [0 0 1 0 0 0 1 0] seq sd

# Mix kick and snare
mix

# Hi-hats on every 8th note
clk [1 1 1 1 1 1 1 1] seq hh

# Mix in the hi-hats
mix

# --- Store the final drum mix on the stack for later ---
# (The drum graph is now the only thing on the stack)

# 4. Create the Bassline
# First, create the frequency sequence from the clock and note data
clk [40 40 43 38] seq note
# Then, feed that frequency sequence into a saw wave oscillator
saw

# Give it a punchy envelope
clk [1 1 1 1 1 1 1 1] seq 0.001 0.3 ad

# Multiply oscillator by envelope
mul

# Low-pass filter to shape the sound
400 0.5 lpf

# 5. Mix the bassline with the drums
# (Stack: [Drums] [Bass]) -> [Mixed]
mix

# 6. Create the Lead Synth (Arpeggio)
# 16th note clock (double the main clock's frequency)
[9 impulse] arp_clk =

# Create the frequency sequence for the arpeggio
arp_clk [60 63 67 72 63 67 72 75 67 72 75 79 72 75 79 84] seq note
# Feed it into a pulse wave oscillator with a 50% duty cycle
0.5 pulse

# A sharp, plucky envelope
arp_clk [1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0] seq 0.01 0.2 ad

# Multiply oscillator by envelope
mul

# Add a touch of stereo delay for space
0.375 0.6 delay

# Pan it slightly to the right
0.2 pan

# 7. Mix the lead synth with everything else
# (Stack: [Drums+Bass] [Lead]) -> [Mixed]
mix

# 8. Final touches
# Attenuate the final mix to prevent clipping
0.6 mul

# 9. Play the final song!
play`});const d=[{name:"Getting Started: Drum Machines",description:"Yield includes several pre-built drum synthesizers for making sounds quickly. To play a single drum hit, just use the machine's name followed by the `play` operator.",effect:"N/A",example:`# Play a single kick drum hit.
bd play

# Play a single snare drum hit.
# (You may want to press the cell's stop button before playing a new sound)
sd play`},{name:"Sequencing Drums",description:"To create rhythms, you need a repeating trigger signal. The `impulse` operator does this. It creates a steady beat at a given frequency in Hertz (beats per second). This trigger signal is then passed to the drum machine.",effect:"N/A",example:`# A steady kick drum at 2Hz (120 BPM).
# The 'impulse' creates the trigger, which 'bd' then uses.
2 impulse bd play

# A faster snare pattern at 4Hz.
# Note: Stop the previous sound before starting a new one.
4 impulse sd play`},{name:"Creating a Full Drum Beat",description:"By mixing the output of several sequenced drum machines, you can create complex rhythms. Here, we'll define a clock, create separate sequences for the kick, snare, and hi-hat, and then mix them all together to play as a single sound.",effect:"N/A",example:`# Set tempo to 120 BPM
120 tempo

# 8th note clock (at 120bpm, 8ths are 4Hz)
[4 impulse] clk =

# Kick on beats 1 and 3
clk [1 0 0 0 1 0 0 0] seq bd

# Snare on beats 2 and 4
clk [0 0 1 0 0 0 1 0] seq sd

# Mix kick and snare together
mix

# Closed hi-hats on every 8th note
clk [1 1 1 1 1 1 1 1] seq hh

# Mix in the hi-hats
mix

# Attenuate the final mix to prevent clipping
0.7 mul

# Play the final beat!
play`}];u.cells.unshift(...d.reverse())}if(l.name==="Bytebeat & Floatbeat"){u.description="Create music with mathematical formulas. This dedicated section provides a focused tutorial on this unique and powerful synthesis technique, from basic sawtooth waves to complex, evolving textures.";const d=[{name:"Bytebeat: The Sawtooth Wave",description:"Bytebeat is music from a single mathematical formula. The key to understanding how it works in Yield is to know that your program runs **once** to set up the audio graph, but the audio itself runs **continuously** in a high-speed loop (e.g., 44,100 times per second).\n\nBecause of this, we can't write the formula directly on the stack. That would calculate a result only once. Instead, we wrap the formula in a quotation `[...]`. This captures the formula as a piece of data. The `bytebeat` operator takes this formula and sends it to the audio engine.\n\nThe audio engine then evaluates your formula for every single audio sample, creating the sound wave. The special operator `t` is a placeholder inside your formula that the audio engine replaces with the current sample number (0, 1, 2, 3...).\n\nWhen `t` is used by itself, it creates a rising sawtooth wave as its value counts up from 0 to 255 and then wraps around.",effect:"N/A",example:`# The simplest bytebeat is just t.
# We multiply by 0.5 to lower the volume.
[ t ] bytebeat 0.5 mul play`},{name:"Bytebeat: Pitch Control",description:"You can change the pitch using basic arithmetic. Multiplying `t` makes it count faster, raising the pitch. Dividing `t` makes it count slower, lowering the pitch. The formulas use postfix notation, where operators follow the values they act on.",effect:"N/A",example:`# To make the pitch higher, we multiply t by 4.
# In postfix, "t * 4" is written as "t 4 *".
# This means: 1. Push t, 2. Push 4, 3. Call multiply.
[ t 4 * ] bytebeat 0.5 mul play

# To lower the pitch, we can use division.
# The postfix for "t / 16" is "t 16 /".
[ t 16 / ] bytebeat 0.5 mul play`},{name:"Bytebeat: Amplitude & Modulo",description:"The modulo operator (`%`) confines the `t` counter to a specific range. `t 128 %` creates a sawtooth wave that only counts from 0 to 127. This reduces the amplitude (volume) by half and also doubles the frequency, as the wave now wraps around twice as fast.",effect:"N/A",example:`# This wave is quieter and an octave higher.
# The postfix for "t % 128" is "t 128 %".
[ t 128 % ] bytebeat play`},{name:"Bytebeat: Square Waves",description:"Bitwise operators are the heart of classic bytebeat sounds. The bitwise AND (`&`) operator can be used to isolate specific bits of the `t` counter. When you AND `t` with a power of two (like 128), the result flips between 0 and that number, creating a square wave.",effect:"N/A",example:`# This creates a square wave that jumps between 0 and 128.
[ t 128 & ] bytebeat 0.5 mul play`},{name:"Bytebeat: Octave Shifting",description:"The bitshift operators `>>` (right shift) and `<<` (left shift) are a fast way to divide or multiply a number by powers of two. In bytebeat, shifting `t` by 1 effectively halves or doubles its frequency, changing its pitch by one octave.",effect:"N/A",example:`# One octave down from the base sawtooth.
[ t 1 >> ] bytebeat 0.5 mul play

# One octave up.
[ t 1 << ] bytebeat 0.5 mul play`},{name:"Bytebeat: Mixing & Textures",description:"You can combine multiple expressions to create more complex sounds. The bitwise OR (`|`) operator acts like a lo-fi mixer, adding waveforms together. The bitwise XOR (`^`) operator creates complex, often glitchy and metallic sounds by flipping bits where the two inputs differ.",effect:"N/A",example:`# We can "mix" waves with bitwise OR (|).
# The formula (t >> 4) | (t << 2) becomes:
# 1. Calculate (t >> 4) -> t 4 >>
# 2. Calculate (t << 2) -> t 2 <<
# 3. OR the results together with |
[ t 4 >> t 2 << | ] bytebeat 0.2 mul play

# A classic formula using XOR for a noisy texture.
[ t 5 * t 7 >> ^ ] bytebeat 0.2 mul play`},{name:"Bytebeat: Translating Advanced Formulas",description:"Many bytebeat formulas are found online in a C-style infix notation. Yield's `bytebeat` uses a postfix (stack-based) notation inside its quotation. Translating between them involves identifying the order of operations and converting them to a stack-based sequence. This example breaks down a complex formula from the demoscene.",effect:"N/A",example:`# Original C-style formula from viznut:
# 128
# + 24*sin( ((t/24)*(t>>10))&42 + sin(((t/64)*(t>>15))&21) )
# + sin(t/12 + 4*sin(t/24)) * ((t>>11)&1) * 16
# + sin(t/24 + 4*sin(t/48)) * ((t>>10)&1) * 16
# + 56*( (3e3/((t*4)&16383))&1 )
# + 56*( (300/((t*32)&28600))&1 )
# + 12*sin( ((t/16)*(t>>10))&42 + sin(((t/64)*(t>>7))&8) )

# Yield (postfix) equivalent. The formula is a sum of 7 terms.
# Each term is calculated, leaving its result on the stack.
# The '+' operators then sum them up at the end.
[
  128
  # Term 2: 24 * sin(...)
  t 24 / t 10 >> * 42 & t 64 / t 15 >> * 21 & sin + sin 24 *
  +
  # Term 3: sin(...) * ... * 16
  t 12 / t 24 / sin 4 * + sin t 11 >> 1 & * 16 *
  +
  # Term 4: sin(...) * ... * 16
  t 24 / t 48 / sin 4 * + sin t 10 >> 1 & * 16 *
  +
  # Term 5: 56 * (...)
  3000 t 4 * 16383 & / 1 & 56 *
  +
  # Term 6: 56 * (...)
  300 t 32 * 28600 & / 1 & 56 *
  +
  # Term 7: 12 * sin(...)
  t 16 / t 10 >> * 42 & t 64 / t 7 >> * 8 & sin + sin 12 *
  +
]
bytebeat 0.3 mul play`},{name:"Introduction to Floatbeat",description:"Floatbeat is similar to bytebeat but uses floating-point numbers instead of 8-bit integers. Your formula should produce values in the -1.0 to 1.0 range, which are used directly as audio samples. This allows for higher fidelity sounds without the characteristic wrapping and bitwise artifacts of bytebeat.",effect:"N/A",example:`# A simple 440Hz sine wave.
# t is divided by the sample rate (e.g., 44100) to get time in seconds.
[ t 44100 / 440 * 2 * 3.14159 * sin ] floatbeat 0.5 mul play`},{name:"Floatbeat: Shepard Tone",description:"A classic audio illusion of a continuously rising or falling pitch. This formula achieves it by modulating a sine wave's frequency. Importantly, stack operators like 'dup' are not supported inside the quotation because the formula is transpiled to a single line of JavaScript, not executed on the Yield stack. The workaround is to simply recalculate the required value.",effect:"N/A",example:"[ t 22050 / t 22050 / floor 2 % 2 * 1 - * 200 * sin ] floatbeat 0.3 mul play"}];u.cells.push(...d)}if(l.name==="Set operations"&&u.cells.unshift({name:"Set Literals",description:"Sets of small non-negative integers are written inside curly braces. Logical operators are overloaded to perform set operations.",effect:"-> {I}",example:"{1 2 3} {2 3 4} and # -> {2 3}"}),l.category==="jsString"){const d=["ucase","locase","trim","slice","splitstr","starts","ends","replace"];u.cells=d.map(g=>xd(g))}if(l.category==="literals"){const d=["true","false","maxint","stack","clock","rand","clearall"],g=new Set(u.cells.map(x=>x.name)),T=d.map(x=>g.has(x)?u.cells.find(h=>h.name===x):null).filter(Boolean),N=u.cells.filter(x=>!d.includes(x.name));u.cells=[...T,...N]}return u}),ve=(()=>{const l={},s={},u=new Set,r={},d={"=":"popto","<-":"appendTo"};for(const h in Ya){const w=Ya[h],j={};for(const D in w.definitions)j[D]=w.definitions[D].definition;Object.assign(l,j),Object.assign(r,j),s[h]={name:w.name,description:w.description,definitions:j}}Object.keys(l).forEach(h=>u.add(h));const g=h=>{const w=h.replace(/\(\*.*?\*\)/gs,"").replace(/#.*/g,""),j=/\[|\]|\{|\}|"[^"]*"|:[^\s\[\]{}"]+|[^\[\]{}\s]+/g,D=w.match(j)||[],te=()=>{const G=[];for(;D.length>0;){const $=D.shift();if($==="]"||$==="}")return G;if($==="[")G.push(te());else if($==="{"){const V=te().map(K=>typeof K=="number"?K:0);G.push(new Set(V))}else if($.startsWith('"')&&$.endsWith('"'))G.push(`\0${$.slice(1,-1)}`);else if($.startsWith(":"))G.push(Symbol.for($.slice(1)));else{const X=parseFloat($);G.push(!isNaN(X)&&isFinite($)?X:$)}}return G};return te()},T=function*(h,w,j={}){for(h=Array.isArray(h)?[...h]:[h];h.length;){let D=h.shift();if(typeof D=="string"&&d[D]&&(D=d[D]),j.isDebug&&j.onToken&&j.onToken(D,w),typeof D=="string"&&D.startsWith("\0")){w.push(D.slice(1)),yield;continue}let te;if(typeof D=="string"||typeof D=="number")te=String(D);else if(typeof D=="symbol"){const G=Symbol.keyFor(D);G&&(te=`:${G}`)}if(te!==void 0&&l[te]){const G=new Set(["popto","appendTo","yield","body","popstackto"]),$=h.length>0?h[0]:null,X=typeof $=="string"&&d[$]?d[$]:$;if(G.has(X))w.push(D);else{const K=l[te];if("body"in K)if(Array.isArray(K.body)&&K.body.flat(1/0).some(H=>{if(typeof H!="string")return!1;const k=l[H];return!!(k&&"exec"in k)}))h.unshift(...K.body);else{const H=re=>Array.isArray(re)?re.map(H):typeof re=="string"&&re.startsWith("\0")?re.slice(1):re,k=JSON.parse(JSON.stringify(K.body)),I=H(k);Array.isArray(I)&&I.length===1&&!Array.isArray(I[0])?w.push(I[0]):w.push(I)}else yield*K.exec(w,j,T,l)}}else if(Array.isArray(D)){const G=$=>Array.isArray($)?$.map(G):typeof $=="string"&&$.startsWith("\0")?$.slice(1):$;w.push(G(D))}else w.push(D);yield}};return{parse:g,run:(h,w,j={})=>{const D={...j,parse:g},{stopSignal:te={stopped:!1},pauseSignal:G={paused:!1},onStep:$=()=>{},getDelay:X=()=>D.delay||0,isDebug:V=!1}=D;return new Promise((K,q)=>{const H=T(h,w,D),k=()=>{try{if(te.stopped)return K();if(G.paused){D.setResume&&D.setResume(k);return}const I=V?1:1e3;for(let re=0;re<I;re++)if(H.next().done)return V&&$(w),K();V&&$(w),setTimeout(k,X())}catch(I){q(I)}};D.setResume&&D.setResume(k),k()})},reset:()=>{Object.keys(l).forEach(h=>{u.has(h)||delete l[h]}),Object.assign(l,r)},dictionary:l,dictionaryCategories:s,builtInKeys:u}})();class Sd{constructor(s){this.history=[],this.currentIndex=-1,this.builtInKeys=s}getUserDictionary(s){const u={};for(const r in s)this.builtInKeys.has(r)||(u[r]=s[r]);return u}createSnapshot(s,u){return{stack:Dt(s),userDictionary:Dt(this.getUserDictionary(u))}}add(s){this.currentIndex>-1&&Li(this.history[this.currentIndex],s)||(this.currentIndex<this.history.length-1&&this.history.splice(this.currentIndex+1),this.history.push(s),this.currentIndex=this.history.length-1)}undo(){return this.currentIndex>0?(this.currentIndex--,Dt(this.history[this.currentIndex])):null}redo(){return this.currentIndex<this.history.length-1?(this.currentIndex++,Dt(this.history[this.currentIndex])):null}clear(){this.history=[],this.currentIndex=-1}}let Tt=[];const lg=()=>{const[l,s]=ee.useState([]),[u,r]=ee.useState(""),[d,g]=ee.useState(!1),[T,N]=ee.useState(!0),x=ee.useRef(null),h=ee.useRef(null),[w,j]=ee.useState([]),[D,te]=ee.useState(-1),G=ee.useRef(null);ee.useEffect(()=>{var H;ve.reset(),Tt=[],G.current=new Sd(ve.builtInKeys);const q=G.current.createSnapshot(Tt,ve.dictionary);G.current.add(q),s([]),(H=h.current)==null||H.focus()},[]),ee.useEffect(()=>{var q;(q=x.current)==null||q.scrollIntoView({behavior:"smooth"})},[l,T]),ee.useEffect(()=>{if(h.current){h.current.style.height="auto";const q=h.current.scrollHeight;h.current.style.height=`${q}px`}},[u]);const $=()=>{if(ve.reset(),Tt=[],G.current){G.current.clear();const q=G.current.createSnapshot(Tt,ve.dictionary);G.current.add(q)}s([]),r(""),N(!0)},X=async q=>{if(T&&N(!1),!q.trim()){const ne=`[ ${Tt.map(Ie).join(" ")} ]`,Ne={command:q,output:ne,isError:!1};s(Ue=>[...Ue,Ne]);return}const H=q.trim().toLowerCase();if(H==="clear"){s([]);return}const k=[...w];k[k.length-1]!==q&&k.push(q),j(k),te(-1),g(!0);let I="";const re=ne=>{I+=ne};try{if(H==="reset"){ve.reset(),Tt=[],G.current.clear();const ue=G.current.createSnapshot(Tt,ve.dictionary);G.current.add(ue)}if(H==="help"){const ue=[];for(const B in ve.dictionaryCategories){const Z=ve.dictionaryCategories[B];ue.push(`${B}: ${Z.name}`)}let fe=ue.join(`
`);fe+="\n\nUse `<category> help` to see commands in a category.";const M={command:q,output:fe,isError:!1};s(B=>[...B,M]);return}if(H.endsWith(" help")){const ue=H.slice(0,-5).trim();let fe="",M=!1;const B=ve.dictionary[ue],Z=ve.dictionaryCategories[ue];if(B&&"description"in B)fe=`${B.description}

Example:
  ${B.example}`;else if(Z){const m=Object.keys(Z.definitions);fe=`--- ${Z.name} ---
`,fe+=`${Z.description}

`,fe+=`Commands: ${m.join(", ")}`}else fe=`Error: Unknown command or category '${ue}'.`,M=!0;const ge={command:q,output:fe,isError:M};s(m=>[...m,ge]);return}const ne=["undo","redo"].includes(H),Ne=ne?G.current.createSnapshot(Tt,ve.dictionary):null,Ue=ve.parse(q);if(await ve.run(Ue,Tt,{onOutput:re,historyManager:G.current,commandHistory:k}),ne){const ue=G.current.createSnapshot(Tt,ve.dictionary);if(Li(Ne,ue))return}if(H!=="undo"&&H!=="redo"&&H!=="again"){const ue=G.current.createSnapshot(Tt,ve.dictionary);G.current.add(ue)}let Ee=`[ ${Tt.map(Ie).join(" ")} ]`;I&&(Ee+=`
`+I);const pe={command:q,output:Ee,isError:!1};s(ue=>[...ue,pe])}catch(ne){const Ne={command:q,output:ne.message,isError:!0};s(Ue=>[...Ue,Ne])}finally{if(H==="reset"){const ne={command:q,output:"Interpreter state, stack, and history cleared.",isError:!1};s(Ne=>[...Ne,ne])}g(!1),setTimeout(()=>{var ne;return(ne=h.current)==null?void 0:ne.focus()},0)}},V=q=>{const H=q.target.value;if(H.length<u.length){r(H);return}const k=H.slice(-1);if(["+","-","*","/","%"].includes(k)&&H.length>1)if(H.slice(-2,-1).trim()!==""){const ne=`${H.slice(0,-1)} ${k} `;r(ne)}else{const ne=`${H} `;r(ne)}else r(H)},K=q=>{if(!d){if(q.key==="Escape"){q.preventDefault(),$();return}if(q.key==="Enter"&&!q.shiftKey){q.preventDefault();const H=u;r(""),X(H);return}q.key==="ArrowUp"&&(q.preventDefault(),te(H=>{const k=H===-1?w.length-1:Math.max(0,H-1);return r(w[k]||""),k})),q.key==="ArrowDown"&&(q.preventDefault(),te(H=>{const k=H===-1?-1:Math.min(w.length,H+1);return r(w[k]||""),k})),q.key==="ArrowLeft"&&u===""&&(q.preventDefault(),X("undo")),q.key==="ArrowRight"&&u===""&&(q.preventDefault(),X("redo"))}};return S.jsxs("div",{className:"repl-terminal fira-code bg-gray-900 text-white rounded-lg shadow-xl overflow-hidden h-[70vh] flex flex-col",onClick:()=>{var q;return(q=h.current)==null?void 0:q.focus()},children:[S.jsxs("div",{className:"repl-history p-4 overflow-y-auto flex-grow",children:[T&&S.jsx("div",{className:"mb-2 whitespace-pre-wrap",children:S.jsxs("div",{className:"output-area text-gray-100",children:["World Hello!",S.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Try typing `help` to see available commands."})]})}),l.map((q,H)=>S.jsxs("div",{className:"mb-2 whitespace-pre-wrap",children:[S.jsxs("div",{className:"flex items-start",children:[S.jsx("span",{className:"text-green-400 mr-2 flex-shrink-0",children:">"}),S.jsx("span",{className:"text-gray-300",children:q.command})]}),S.jsx("div",{className:`output-area ${q.isError?"text-red-400":"text-gray-100"}`,children:q.output})]},H)),S.jsx("div",{ref:x})]}),S.jsx("div",{className:"repl-input-area p-4 border-t border-gray-700 bg-gray-800",children:S.jsxs("div",{className:"flex items-start",children:[S.jsx("span",{className:"text-green-400 mr-2 flex-shrink-0",children:">"}),S.jsx("textarea",{ref:h,className:"repl-input",value:u,onChange:V,onKeyDown:K,placeholder:"Type command or help",disabled:d,autoFocus:!0,rows:1})]})})]})},ig=()=>S.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 ml-0.5",children:S.jsx("path",{d:"M8 5v14l11-7z"})}),cg=()=>S.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),sg=()=>S.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{d:"M6 6h12v12H6z"})}),og=({cellData:l})=>{const[s,u]=ee.useState(l.example),[r,d]=ee.useState(""),[g,T]=ee.useState("idle"),[N,x]=ee.useState(!1),[h,w]=ee.useState(1e3),j=ee.useRef(null),D=ee.useRef(""),[te,G]=ee.useState(new Set),$=ee.useMemo(()=>`cell_${Math.random().toString(36).substr(2,9)}`,[]),X=()=>{j.current&&j.current.stopSignal&&(j.current.stopSignal.stopped=!0),Jt.stopAll(),G(new Set)},V=ee.useCallback(async()=>{if(g==="running"){j.current&&(j.current.pauseSignal.paused=!0,T("paused"));return}if(g==="paused"){j.current&&(j.current.pauseSignal.paused=!1,T("running"),j.current.resume&&j.current.resume());return}T("running"),d(""),D.current="",G(new Set);const I=[],re={stopped:!1},ne={paused:!1};let Ne=null,Ue=null,He=[];j.current={stopSignal:re,pauseSignal:ne,resume:()=>Ne&&Ne()};const Ee={stopSignal:re,pauseSignal:ne,isDebug:N,getDelay:()=>N?h:0,onToken:(pe,ue)=>{Ue=pe,He=JSON.parse(JSON.stringify(ue))},onStep:pe=>{const ue=Ie(Ue),fe=`[ ${pe.map(Ie).join(" ")} ]  <- [ ${He.map(Ie).join(" ")} ] ${ue}`;d(fe)},onOutput:pe=>{D.current+=pe},setResume:pe=>{Ne=pe},onVoiceCreated:pe=>{pe&&G(ue=>new Set(ue).add(pe))},onVoiceDestroyed:pe=>{pe&&G(ue=>{const fe=new Set(ue);return fe.delete(pe),fe})},sourceId:$};try{ve.reset();const pe=ve.parse(s);await ve.run(pe,I,Ee);const ue=`[ ${I.map(Ie).join(" ")} ]`;if(re.stopped)d(`${ue}
(Execution stopped by user)`),T("stopped");else{let fe=ue;D.current&&(fe+=`
`+D.current),d(fe),T("success")}}catch(pe){console.error(pe),d(`Error: ${pe.message}`),T("error")}finally{ne.paused||(j.current=null)}},[s,g,N,h,$]),K={idle:{color:"bg-gray-300",title:"Idle"},running:{color:"bg-blue-500 animate-pulse",title:"Running"},paused:{color:"bg-blue-500",title:"Paused"},success:{color:"bg-green-500",title:"Success"},error:{color:"bg-red-500",title:"Error"},stopped:{color:"bg-yellow-500",title:"Stopped"}},q=g==="running"||g==="paused",H=q||te.size>0,k="control-btn w-9 h-9 flex items-center justify-center rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2";return S.jsx("div",{className:"cell bg-white p-4 rounded-lg shadow mb-6",children:S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsxs("div",{className:"cell-controls flex-shrink-0 flex flex-col items-center pt-3 space-y-2",children:[S.jsx("button",{onClick:V,className:`${k} bg-gray-200 text-gray-700 hover:bg-indigo-100 hover:text-indigo-600 focus:ring-indigo-500`,"aria-label":g==="running"?"Pause":"Play",children:g==="running"?S.jsx(cg,{}):S.jsx(ig,{})}),S.jsx("button",{onClick:X,className:`${k} bg-gray-200 text-gray-700 hover:bg-red-100 hover:text-red-600 focus:ring-red-500 disabled:bg-gray-100 disabled:text-gray-400`,disabled:!H,"aria-label":"Stop",children:S.jsx(sg,{})}),S.jsx("div",{className:`status-indicator mt-2 w-2 h-2 rounded-full ${K[g].color}`,title:K[g].title})]}),S.jsxs("div",{className:"flex-grow min-w-0",children:[S.jsx("h3",{className:"text-xl font-bold font-mono text-indigo-600",children:l.name}),S.jsxs("p",{className:"mt-2 mb-3 text-gray-700",children:[l.description,S.jsx("br",{}),S.jsxs("span",{className:"font-mono text-sm bg-gray-100 p-1 rounded",children:["Stack effect: ",l.effect]})]}),S.jsx("div",{className:"code-block bg-gray-50 p-3 rounded-md border",children:S.jsx("pre",{children:S.jsx("code",{contentEditable:!q,onBlur:I=>u(I.currentTarget.innerText),suppressContentEditableWarning:!0,className:"fira-code block outline-none whitespace-pre-wrap",children:s})})}),S.jsxs("div",{className:"mt-4",children:[S.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[S.jsx("input",{type:"checkbox",checked:N,onChange:I=>x(I.target.checked),disabled:q,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),S.jsx("span",{children:"Debug Mode"})]}),N&&S.jsxs("div",{className:"debug-controls mt-2",children:[S.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Step Delay: ",S.jsx("span",{className:"delay-value font-mono",children:h}),"ms"]}),S.jsx("input",{type:"range",min:"0",max:"2000",value:h,onChange:I=>w(Number(I.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),r&&S.jsx("div",{className:`output mt-3 p-3 rounded-md fira-code min-h-[40px] whitespace-pre-wrap ${g==="error"?"text-red-400 bg-red-100":"bg-gray-800 text-white"}`,children:r})]})]})})},ro=l=>l===void 0?"":l.map(Ie).join(" ").replace(/^"(.*)"$/,"$1").replace(/^\[(.*)\]$/,"$1"),ug=l=>{if(l.trim()==="")return[];try{return ve.parse(l)}catch(s){return console.error("Error parsing expected output string:",s),[l]}},rg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),fg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),dg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),pg=()=>S.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),hg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),bd=({item:l,onRun:s,onToggleExpand:u})=>{const[r,d]=ee.useState(Array.isArray(l.currentTest.code)?l.currentTest.code.join(`
`):l.currentTest.code),[g,T]=ee.useState(ro(l.currentTest.expected)),[N,x]=ee.useState(""),[h,w]=ee.useState("Copy Issue"),j=!!l.originalTest.assert,D=()=>{s(l.id,{...l.currentTest,code:r,expected:ug(g)})},te=V=>{V.stopPropagation();const K=Array.isArray(l.currentTest.code)?l.currentTest.code.join(`
`):l.currentTest.code;let q="";l.currentTest.expected!==void 0?q=`[ ${l.currentTest.expected.map(Ie).join(" ")} ]`:l.currentTest.expectedDescription?q=l.currentTest.expectedDescription:l.currentTest.expectedType?q=`A value of type: ${l.currentTest.expectedType}`:l.currentTest.assert&&(q="Custom assertion logic");const H=`Implement this test for ${l.description}

Code:
${K}

Expected:
${q}`;navigator.clipboard.writeText(H).then(()=>{x("Copied!"),setTimeout(()=>x(""),2e3)})},G=V=>{V.stopPropagation();const K=Array.isArray(l.currentTest.code)?l.currentTest.code.join(`
`):l.currentTest.code;let q="";l.currentTest.expected!==void 0?q=`[ ${ro(l.currentTest.expected)} ]`:l.currentTest.expectedDescription?q=l.currentTest.expectedDescription:l.currentTest.expectedType?q=`A value of type: ${l.currentTest.expectedType}`:l.currentTest.assert&&(q="Custom assertion logic");const H=`--- Yield Test Failure ---

Operator: ${l.description}

Code:
${K}

Expected:
${q}

Failure Reason:
${l.result.errorMessage||"N/A"}

Actual Output:
${l.result.actualOutput||"N/A"}`;navigator.clipboard.writeText(H).then(()=>{w("Copied!"),setTimeout(()=>w("Copy Issue"),2e3)})},X={passed:{border:"border-green-200",bg:"bg-green-50/50",headerBg:"hover:bg-green-100",text:"text-green-500",title:"text-gray-700"},failed:{border:"border-red-200",bg:"bg-red-50",headerBg:"hover:bg-red-100",text:"text-red-500",title:"text-gray-800"},error:{border:"border-yellow-300",bg:"bg-yellow-50",headerBg:"hover:bg-yellow-100",text:"text-yellow-600",title:"text-gray-800"}}[l.result.status];return S.jsxs("div",{className:`test-case-runner p-3 rounded-md border ${X.border} ${X.bg}`,children:[S.jsxs("div",{className:`flex items-center cursor-pointer p-1 -m-1 rounded ${X.headerBg}`,onClick:u,children:[S.jsx("div",{className:"flex-shrink-0 w-6",children:l.isExpanded?S.jsx(rg,{}):S.jsx(fg,{})}),S.jsxs("span",{className:`${X.text} font-bold mr-3 uppercase text-sm`,children:["[",l.result.status,"]"]}),S.jsx("p",{className:`${X.title} flex-grow`,children:l.description}),S.jsx("button",{onClick:te,className:"repl-btn text-sm bg-gray-200 text-gray-700 hover:bg-gray-300 p-1.5 h-auto rounded-md",title:"Copy Code",children:N||S.jsx(dg,{})})]}),l.isExpanded&&S.jsxs("div",{className:"mt-3 pt-3 border-t pl-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Code:"}),S.jsx("textarea",{value:r,onChange:V=>d(V.target.value),className:"w-full p-2 rounded text-sm fira-code border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",rows:Math.max(3,r.split(`
`).length)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Expected Stack:"}),S.jsx("input",{type:"text",value:j?"":g,onChange:V=>T(V.target.value),disabled:j,placeholder:j?"Custom assertion in code":'e.g., 10 "hello"',className:"w-full p-2 rounded text-sm fira-code border border-gray-300 disabled:bg-gray-100 focus:ring-indigo-500 focus:border-indigo-500"}),l.result.status!=="passed"&&S.jsxs("div",{className:"mt-2 text-sm",children:[S.jsxs("p",{className:"fira-code text-gray-700",children:[S.jsx("span",{className:"font-semibold",children:"Reason:"})," ",l.result.errorMessage]}),S.jsxs("p",{className:`fira-code ${X.text}`,children:[S.jsx("span",{className:"font-semibold",children:"Actual:"})," ",l.result.actualOutput||"N/A"]})]})]})]}),S.jsxs("div",{className:"mt-4 flex justify-end items-center space-x-2",children:[l.result.status!=="passed"&&S.jsxs("button",{onClick:G,className:"repl-btn bg-amber-500 hover:bg-amber-600 text-white text-sm flex items-center space-x-2",children:[S.jsx(hg,{}),S.jsx("span",{children:h})]}),S.jsxs("button",{onClick:D,className:"repl-btn repl-btn-primary text-sm flex items-center space-x-2",children:[S.jsx(pg,{}),S.jsx("span",{children:"Re-run This Test"})]})]})]})]})},mg=()=>{const[l,s]=ee.useState([]),[u,r]=ee.useState(!1),[d,g]=ee.useState("idle"),[T,N]=ee.useState("Copy Failed Tests"),x=ee.useCallback(async X=>{const{code:V,assert:K,expected:q,expectedType:H,expectedDescription:k}=X;try{ve.reset();const I=[],re=Array.isArray(V)?V:[V],ne=new Sd(ve.builtInKeys);ne.add(ne.createSnapshot(I,ve.dictionary));const Ne=[];for(const He of re){Ne.push(He);const Ee=ve.parse(He);await ve.run(Ee,I,{historyManager:ne,commandHistory:Ne});const pe=He.trim().toLowerCase();if(pe!=="undo"&&pe!=="redo"&&pe!=="again"){const ue=ne.createSnapshot(I,ve.dictionary);ne.add(ue)}}let Ue=!0;if(q!==void 0?Ue=Li(I,q):K&&(Ue=K(I)),Ue)return{status:"passed"};{const He=`[ ${I.map(Ie).join(" ")} ]`;let Ee;return q!==void 0?Ee=`[ ${q.map(Ie).join(" ")} ]`:k?Ee=k:H&&(Ee=`A value of type: ${H}`),{status:"failed",actualOutput:He,errorMessage:K?"Assertion failed.":"Output does not match expected value."}}}catch(I){return{status:"error",errorMessage:I.message}}},[]),h=ee.useCallback(async()=>{r(!0),s([]),g("running");const X=Object.values(Ya).flatMap((K,q)=>Object.entries(K.definitions).flatMap(([H,k])=>k.testCases.map((I,re)=>({id:`${K.name}-${H}-${re}`,description:`${K.name}: ${H}`,originalTest:I,currentTest:{...I}})))),V=[];for(const K of X){const q=await x(K.currentTest);V.push({...K,result:q,isExpanded:q.status!=="passed"})}s(V),r(!1),g(V.some(K=>K.result.status!=="passed")?"failure":"success")},[x]);ee.useEffect(()=>{h()},[h]);const w=async(X,V)=>{const K=await x(V);s(q=>q.map(H=>H.id===X?{...H,currentTest:V,result:K,isExpanded:!0}:H))},j=X=>{s(V=>V.map(K=>K.id===X?{...K,isExpanded:!K.isExpanded}:K))},D=l.filter(X=>X.result.status==="passed"),te=l.filter(X=>X.result.status!=="passed"),G={idle:"bg-gray-50",running:"bg-blue-50",success:"bg-green-50",failure:"bg-red-50"}[d],$=()=>{const X=te.map(V=>{const K=Array.isArray(V.currentTest.code)?V.currentTest.code.join(`
`):V.currentTest.code,q=`[ ${ro(V.currentTest.expected)} ]`;return`# --- TEST FAILED: ${V.description} ---
# Reason: ${V.result.errorMessage}
# Expected: ${q||"N/A"}
# Got:   ${V.result.actualOutput||"N/A"}
${K}`}).join(`

`);navigator.clipboard.writeText(X).then(()=>{N("Copied!"),setTimeout(()=>N("Copy Failed Tests"),2e3)}).catch(V=>console.error("Failed to copy tests:",V))};return S.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[S.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Test Suite"}),S.jsx("button",{onClick:h,disabled:u,className:"repl-btn repl-btn-primary",children:u?"Running...":"Re-run All Tests"})]}),(l.length>0||u)&&S.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${G}`,children:[S.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Summary"}),S.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-3xl font-bold text-green-600",children:D.length}),S.jsx("p",{className:"text-sm text-gray-600",children:"Passed"})]}),S.jsxs("div",{children:[S.jsx("p",{className:`text-3xl font-bold ${te.length>0?"text-red-600":"text-gray-700"}`,children:te.length}),S.jsx("p",{className:"text-sm text-gray-600",children:"Failed"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-3xl font-bold text-gray-700",children:l.length}),S.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})]})]}),te.length>0&&S.jsxs("div",{className:"mb-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[S.jsxs("h3",{className:"text-2xl font-semibold text-red-700",children:["Failed Tests (",te.length,")"]}),S.jsx("button",{onClick:$,className:"repl-btn text-sm bg-gray-200 text-gray-700 hover:bg-gray-300",children:T})]}),S.jsx("div",{className:"space-y-4",children:te.map(X=>S.jsx(bd,{item:X,onRun:w,onToggleExpand:()=>j(X.id)},X.id))})]}),D.length>0&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-2xl font-semibold mb-4 text-green-700 border-b pb-2",children:["Passed Tests (",D.length,")"]}),S.jsx("div",{className:"space-y-2",children:D.map(X=>S.jsx(bd,{item:X,onRun:w,onToggleExpand:()=>j(X.id)},X.id))})]})]})},yg=()=>S.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),gg=({operator:l})=>{const[s,u]=ee.useState(l.example),[r,d]=ee.useState(null),[g,T]=ee.useState(!1),[N,x]=ee.useState(null);ee.useEffect(()=>{var D;const w=(D=l.testCases)==null?void 0:D[0];let j=null;w&&(w.expected!==void 0?j=`[ ${w.expected.map(Ie).join(" ")} ]`:w.expectedDescription?j=w.expectedDescription:w.expectedType?j=`A value of type: ${w.expectedType}`:w.assert&&(j="(Custom assertion logic)")),d(j),x(null),u(l.example)},[l]);const h=async()=>{T(!0),x(null);try{ve.reset();const w=[],j=ve.parse(s);await ve.run(j,w);const D=`[ ${w.map(Ie).join(" ")} ]`;d(D)}catch(w){x(w.message),d(null)}finally{T(!1)}};return S.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4 border border-gray-200",children:[S.jsxs("div",{className:"flex justify-between items-baseline flex-wrap gap-2",children:[S.jsx("h3",{className:"text-xl font-bold font-mono text-indigo-600",children:l.name}),S.jsx("span",{className:"font-mono text-sm bg-gray-100 p-1 rounded whitespace-nowrap",children:l.effect})]}),S.jsx("p",{className:"mt-2 text-gray-700",children:l.description}),S.jsxs("div",{className:"mt-3 bg-gray-50 p-2 rounded-md border",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("p",{className:"text-sm text-gray-500",children:"Example:"}),S.jsx("button",{onClick:h,disabled:g,className:"control-btn p-1 rounded-full hover:bg-gray-200 text-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed","aria-label":"Run example",title:"Run example",children:g?S.jsx("span",{className:"text-xs px-1",children:"..."}):S.jsx(yg,{})})]}),S.jsx("pre",{className:"fira-code whitespace-pre-wrap text-sm",children:S.jsx("code",{contentEditable:!g,onBlur:w=>u(w.currentTarget.innerText),suppressContentEditableWarning:!0,className:"block",children:s})})]}),(r||N)&&S.jsxs("div",{className:`output mt-2 p-2 rounded-md fira-code whitespace-pre-wrap text-sm ${N?"text-red-600 bg-red-100":"bg-gray-800 text-white"}`,children:[S.jsx("p",{className:`text-sm mb-1 font-semibold ${N?"text-red-700":"text-gray-400"}`,children:N?"Error:":"Result:"}),S.jsx("pre",{children:N||r})]})]})},xg=()=>{const[l,s]=ee.useState(""),[u,r]=ee.useState(new Set(["all"])),d=ee.useMemo(()=>{const x=[];for(const[h,w]of Object.entries(Ya))for(const[j,D]of Object.entries(w.definitions))x.push({name:j,category:h,...D.definition,testCases:D.testCases});return x.sort((h,w)=>h.name.localeCompare(w.name))},[]),g=ee.useMemo(()=>d.filter(x=>{const h=u.has("all")||u.has(x.category),w=x.name.toLowerCase().includes(l.toLowerCase());return h&&w}),[d,l,u]),T=ee.useMemo(()=>["all",...Object.keys(Ya)],[]),N=x=>{r(h=>{const w=new Set(h);return x==="all"?new Set(["all"]):(w.delete("all"),w.has(x)?w.delete(x):w.add(x),w.size===0?new Set(["all"]):w)})};return S.jsxs("div",{id:"reference-container",children:[S.jsxs("div",{className:"sticky top-0 bg-gray-100/80 backdrop-blur-sm z-10 py-4 mb-6",children:[S.jsx("input",{type:"text",placeholder:"Search for an operator...",value:l,onChange:x=>s(x.target.value),className:"w-full p-3 mb-4 rounded-md border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm","aria-label":"Search operators"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(x=>S.jsx("button",{onClick:()=>N(x),className:`repl-btn text-sm capitalize ${u.has(x)?"repl-btn-primary":"bg-white text-gray-700 hover:bg-gray-200 border-gray-300 border"}`,children:x.replace(/([A-Z])/g," $1")},x))})]}),S.jsx("div",{className:"operator-list",children:g.length>0?g.map(x=>S.jsx(gg,{operator:x},x.name)):S.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No operators found matching your criteria."})})]})},bg=({isExpanded:l})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform duration-200 text-gray-500 ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),vg=({section:l})=>{const[s,u]=ee.useState(!1),r=`section-content-${l.name.replace(/\s+/g,"-")}`;return S.jsxs("div",{className:"mb-4 border rounded-lg overflow-hidden shadow-sm bg-white",children:[S.jsxs("button",{className:"w-full text-left p-4 flex justify-between items-center bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:()=>u(!s),"aria-expanded":s,"aria-controls":r,children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l.name}),S.jsx(bg,{isExpanded:s})]}),s&&S.jsxs("div",{id:r,className:"p-4 border-t border-gray-200",children:[l.description&&S.jsx("p",{className:"mb-4 text-gray-600",children:l.description}),l.cells.map(d=>S.jsx(og,{cellData:d},d.name))]})]})},Sg=()=>S.jsx("div",{id:"notebook-container",children:ng.map(l=>S.jsx(vg,{section:l},l.name))}),Ag=()=>{const[l,s]=ee.useState(window.location.hash);ee.useEffect(()=>{const x=()=>{s(window.location.hash)};return window.addEventListener("hashchange",x),()=>{window.removeEventListener("hashchange",x)}},[]),ee.useEffect(()=>{const x=()=>{Jt.init()};window.addEventListener("click",x,{once:!0}),window.addEventListener("keydown",x,{once:!0})},[]);const u=(x,h)=>{x.preventDefault(),window.location.hash=h,s(h)},r=()=>{switch(l){case"#/reference":return S.jsx(xg,{});case"#/tutorial":return S.jsx(Sg,{});case"#/tests":return S.jsx(mg,{});case"#/repl":case"#":case"#/":case"":default:return S.jsx(lg,{})}},d=["#/repl","#","#/",""].includes(l),g=l==="#/reference",T=l==="#/tests",N=l==="#/tutorial";return S.jsxs("div",{className:`mx-auto ${d?"max-w-full":"max-w-4xl"}`,children:[S.jsxs("header",{className:"mb-8 text-center",children:[S.jsx("h1",{className:"text-5xl font-bold text-gray-900",children:"Yield"}),S.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Concatenative live coding language that yields"}),S.jsxs("nav",{className:"mt-4 space-x-4",children:[S.jsx("a",{href:"#/repl",onClick:x=>u(x,"#/repl"),className:`text-indigo-600 hover:underline ${d?"font-bold":""}`,children:"REPL"}),S.jsx("a",{href:"#/reference",onClick:x=>u(x,"#/reference"),className:`text-indigo-600 hover:underline ${g?"font-bold":""}`,children:"Reference"}),S.jsx("a",{href:"#/tutorial",onClick:x=>u(x,"#/tutorial"),className:`text-indigo-600 hover:underline ${N?"font-bold":""}`,children:"Tutorial"}),S.jsx("a",{href:"#/tests",onClick:x=>u(x,"#/tests"),className:`text-indigo-600 hover:underline ${T?"font-bold":""}`,children:"Test Suite"})]})]}),S.jsx("main",{children:r()})]})},Tg=document.getElementById("root"),Eg=Ph.createRoot(Tg);Eg.render(S.jsx(Ag,{}));
