(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const N of g.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&r(N)}).observe(document,{childList:!0,subtree:!0});function u(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function r(d){if(d.ep)return;d.ep=!0;const g=u(d);fetch(d.href,g)}})();var lo={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function Kh(){if(sd)return wl;sd=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function u(r,d,g){var N=null;if(g!==void 0&&(N=""+g),d.key!==void 0&&(N=""+d.key),"key"in d){g={};for(var T in d)T!=="key"&&(g[T]=d[T])}else g=d;return d=g.ref,{$$typeof:l,type:r,key:N,ref:d!==void 0?d:null,props:g}}return wl.Fragment=s,wl.jsx=u,wl.jsxs=u,wl}var od;function $h(){return od||(od=1,lo.exports=Kh()),lo.exports}var S=$h(),io={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function Jh(){if(ud)return ne;ud=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),H=Symbol.iterator;function C(m){return m===null||typeof m!="object"?null:(m=H&&m[H]||m["@@iterator"],typeof m=="function"?m:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,le={};function B(m,q,Y){this.props=m,this.context=q,this.refs=le,this.updater=Y||k}B.prototype.isReactComponent={},B.prototype.setState=function(m,q){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,q,"setState")},B.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function U(){}U.prototype=B.prototype;function V(m,q,Y){this.props=m,this.context=q,this.refs=le,this.updater=Y||k}var D=V.prototype=new U;D.constructor=V,$(D,B.prototype),D.isPureReactComponent=!0;var X=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function ye(m,q,Y,L,J,pe){return Y=pe.ref,{$$typeof:l,type:m,key:q,ref:Y!==void 0?Y:null,props:pe}}function oe(m,q){return ye(m.type,q,void 0,void 0,void 0,m.props)}function Ce(m){return typeof m=="object"&&m!==null&&m.$$typeof===l}function be(m){var q={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(Y){return q[Y]})}var ce=/\/+/g;function ue(m,q){return typeof m=="object"&&m!==null&&m.key!=null?be(""+m.key):q.toString(36)}function Ue(){}function We(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(Ue,Ue):(m.status="pending",m.then(function(q){m.status==="pending"&&(m.status="fulfilled",m.value=q)},function(q){m.status==="pending"&&(m.status="rejected",m.reason=q)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function qe(m,q,Y,L,J){var pe=typeof m;(pe==="undefined"||pe==="boolean")&&(m=null);var te=!1;if(m===null)te=!0;else switch(pe){case"bigint":case"string":case"number":te=!0;break;case"object":switch(m.$$typeof){case l:case s:te=!0;break;case v:return te=m._init,qe(te(m._payload),q,Y,L,J)}}if(te)return J=J(m),te=L===""?"."+ue(m,0):L,X(J)?(Y="",te!=null&&(Y=te.replace(ce,"$&/")+"/"),qe(J,q,Y,"",function(Ft){return Ft})):J!=null&&(Ce(J)&&(J=oe(J,Y+(J.key==null||m&&m.key===J.key?"":(""+J.key).replace(ce,"$&/")+"/")+te)),q.push(J)),1;te=0;var lt=L===""?".":L+":";if(X(m))for(var Me=0;Me<m.length;Me++)L=m[Me],pe=lt+ue(L,Me),te+=qe(L,q,Y,pe,J);else if(Me=C(m),typeof Me=="function")for(m=Me.call(m),Me=0;!(L=m.next()).done;)L=L.value,pe=lt+ue(L,Me++),te+=qe(L,q,Y,pe,J);else if(pe==="object"){if(typeof m.then=="function")return qe(We(m),q,Y,L,J);throw q=String(m),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return te}function w(m,q,Y){if(m==null)return m;var L=[],J=0;return qe(m,L,"","",function(pe){return q.call(Y,pe,J++)}),L}function j(m){if(m._status===-1){var q=m._result;q=q(),q.then(function(Y){(m._status===0||m._status===-1)&&(m._status=1,m._result=Y)},function(Y){(m._status===0||m._status===-1)&&(m._status=2,m._result=Y)}),m._status===-1&&(m._status=0,m._result=q)}if(m._status===1)return m._result.default;throw m._result}var Z=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function ae(){}return ne.Children={map:w,forEach:function(m,q,Y){w(m,function(){q.apply(this,arguments)},Y)},count:function(m){var q=0;return w(m,function(){q++}),q},toArray:function(m){return w(m,function(q){return q})||[]},only:function(m){if(!Ce(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},ne.Component=B,ne.Fragment=u,ne.Profiler=d,ne.PureComponent=V,ne.StrictMode=r,ne.Suspense=x,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ne.__COMPILER_RUNTIME={__proto__:null,c:function(m){return Q.H.useMemoCache(m)}},ne.cache=function(m){return function(){return m.apply(null,arguments)}},ne.cloneElement=function(m,q,Y){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var L=$({},m.props),J=m.key,pe=void 0;if(q!=null)for(te in q.ref!==void 0&&(pe=void 0),q.key!==void 0&&(J=""+q.key),q)!I.call(q,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&q.ref===void 0||(L[te]=q[te]);var te=arguments.length-2;if(te===1)L.children=Y;else if(1<te){for(var lt=Array(te),Me=0;Me<te;Me++)lt[Me]=arguments[Me+2];L.children=lt}return ye(m.type,J,void 0,void 0,pe,L)},ne.createContext=function(m){return m={$$typeof:N,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:g,_context:m},m},ne.createElement=function(m,q,Y){var L,J={},pe=null;if(q!=null)for(L in q.key!==void 0&&(pe=""+q.key),q)I.call(q,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(J[L]=q[L]);var te=arguments.length-2;if(te===1)J.children=Y;else if(1<te){for(var lt=Array(te),Me=0;Me<te;Me++)lt[Me]=arguments[Me+2];J.children=lt}if(m&&m.defaultProps)for(L in te=m.defaultProps,te)J[L]===void 0&&(J[L]=te[L]);return ye(m,pe,void 0,void 0,null,J)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(m){return{$$typeof:T,render:m}},ne.isValidElement=Ce,ne.lazy=function(m){return{$$typeof:v,_payload:{_status:-1,_result:m},_init:j}},ne.memo=function(m,q){return{$$typeof:h,type:m,compare:q===void 0?null:q}},ne.startTransition=function(m){var q=Q.T,Y={};Q.T=Y;try{var L=m(),J=Q.S;J!==null&&J(Y,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(ae,Z)}catch(pe){Z(pe)}finally{Q.T=q}},ne.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ne.use=function(m){return Q.H.use(m)},ne.useActionState=function(m,q,Y){return Q.H.useActionState(m,q,Y)},ne.useCallback=function(m,q){return Q.H.useCallback(m,q)},ne.useContext=function(m){return Q.H.useContext(m)},ne.useDebugValue=function(){},ne.useDeferredValue=function(m,q){return Q.H.useDeferredValue(m,q)},ne.useEffect=function(m,q,Y){var L=Q.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(m,q)},ne.useId=function(){return Q.H.useId()},ne.useImperativeHandle=function(m,q,Y){return Q.H.useImperativeHandle(m,q,Y)},ne.useInsertionEffect=function(m,q){return Q.H.useInsertionEffect(m,q)},ne.useLayoutEffect=function(m,q){return Q.H.useLayoutEffect(m,q)},ne.useMemo=function(m,q){return Q.H.useMemo(m,q)},ne.useOptimistic=function(m,q){return Q.H.useOptimistic(m,q)},ne.useReducer=function(m,q,Y){return Q.H.useReducer(m,q,Y)},ne.useRef=function(m){return Q.H.useRef(m)},ne.useState=function(m){return Q.H.useState(m)},ne.useSyncExternalStore=function(m,q,Y){return Q.H.useSyncExternalStore(m,q,Y)},ne.useTransition=function(){return Q.H.useTransition()},ne.version="19.1.1",ne}var rd;function po(){return rd||(rd=1,io.exports=Jh()),io.exports}var P=po(),co={exports:{}},Ml={},so={exports:{}},oo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function Wh(){return fd||(fd=1,(function(l){function s(w,j){var Z=w.length;w.push(j);e:for(;0<Z;){var ae=Z-1>>>1,m=w[ae];if(0<d(m,j))w[ae]=j,w[Z]=m,Z=ae;else break e}}function u(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var j=w[0],Z=w.pop();if(Z!==j){w[0]=Z;e:for(var ae=0,m=w.length,q=m>>>1;ae<q;){var Y=2*(ae+1)-1,L=w[Y],J=Y+1,pe=w[J];if(0>d(L,Z))J<m&&0>d(pe,L)?(w[ae]=pe,w[J]=Z,ae=J):(w[ae]=L,w[Y]=Z,ae=Y);else if(J<m&&0>d(pe,Z))w[ae]=pe,w[J]=Z,ae=J;else break e}}return j}function d(w,j){var Z=w.sortIndex-j.sortIndex;return Z!==0?Z:w.id-j.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;l.unstable_now=function(){return g.now()}}else{var N=Date,T=N.now();l.unstable_now=function(){return N.now()-T}}var x=[],h=[],v=1,H=null,C=3,k=!1,$=!1,le=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function X(w){for(var j=u(h);j!==null;){if(j.callback===null)r(h);else if(j.startTime<=w)r(h),j.sortIndex=j.expirationTime,s(x,j);else break;j=u(h)}}function Q(w){if(le=!1,X(w),!$)if(u(x)!==null)$=!0,I||(I=!0,ue());else{var j=u(h);j!==null&&qe(Q,j.startTime-w)}}var I=!1,ye=-1,oe=5,Ce=-1;function be(){return B?!0:!(l.unstable_now()-Ce<oe)}function ce(){if(B=!1,I){var w=l.unstable_now();Ce=w;var j=!0;try{e:{$=!1,le&&(le=!1,V(ye),ye=-1),k=!0;var Z=C;try{t:{for(X(w),H=u(x);H!==null&&!(H.expirationTime>w&&be());){var ae=H.callback;if(typeof ae=="function"){H.callback=null,C=H.priorityLevel;var m=ae(H.expirationTime<=w);if(w=l.unstable_now(),typeof m=="function"){H.callback=m,X(w),j=!0;break t}H===u(x)&&r(x),X(w)}else r(x);H=u(x)}if(H!==null)j=!0;else{var q=u(h);q!==null&&qe(Q,q.startTime-w),j=!1}}break e}finally{H=null,C=Z,k=!1}j=void 0}}finally{j?ue():I=!1}}}var ue;if(typeof D=="function")ue=function(){D(ce)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,We=Ue.port2;Ue.port1.onmessage=ce,ue=function(){We.postMessage(null)}}else ue=function(){U(ce,0)};function qe(w,j){ye=U(function(){w(l.unstable_now())},j)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(w){w.callback=null},l.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<w?Math.floor(1e3/w):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(w){switch(C){case 1:case 2:case 3:var j=3;break;default:j=C}var Z=C;C=j;try{return w()}finally{C=Z}},l.unstable_requestPaint=function(){B=!0},l.unstable_runWithPriority=function(w,j){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var Z=C;C=w;try{return j()}finally{C=Z}},l.unstable_scheduleCallback=function(w,j,Z){var ae=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,w){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=Z+m,w={id:v++,callback:j,priorityLevel:w,startTime:Z,expirationTime:m,sortIndex:-1},Z>ae?(w.sortIndex=Z,s(h,w),u(x)===null&&w===u(h)&&(le?(V(ye),ye=-1):le=!0,qe(Q,Z-ae))):(w.sortIndex=m,s(x,w),$||k||($=!0,I||(I=!0,ue()))),w},l.unstable_shouldYield=be,l.unstable_wrapCallback=function(w){var j=C;return function(){var Z=C;C=j;try{return w.apply(this,arguments)}finally{C=Z}}}})(oo)),oo}var dd;function Fh(){return dd||(dd=1,so.exports=Wh()),so.exports}var uo={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function Ih(){if(pd)return Je;pd=1;var l=po();function s(x){var h="https://react.dev/errors/"+x;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var r={d:{f:u,r:function(){throw Error(s(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},d=Symbol.for("react.portal");function g(x,h,v){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:H==null?null:""+H,children:x,containerInfo:h,implementation:v}}var N=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(x,h){if(x==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(x,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return g(x,h,null,v)},Je.flushSync=function(x){var h=N.T,v=r.p;try{if(N.T=null,r.p=2,x)return x()}finally{N.T=h,r.p=v,r.d.f()}},Je.preconnect=function(x,h){typeof x=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(x,h))},Je.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},Je.preinit=function(x,h){if(typeof x=="string"&&h&&typeof h.as=="string"){var v=h.as,H=T(v,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,k=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?r.d.S(x,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:H,integrity:C,fetchPriority:k}):v==="script"&&r.d.X(x,{crossOrigin:H,integrity:C,fetchPriority:k,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Je.preinitModule=function(x,h){if(typeof x=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=T(h.as,h.crossOrigin);r.d.M(x,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(x)},Je.preload=function(x,h){if(typeof x=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,H=T(v,h.crossOrigin);r.d.L(x,v,{crossOrigin:H,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Je.preloadModule=function(x,h){if(typeof x=="string")if(h){var v=T(h.as,h.crossOrigin);r.d.m(x,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(x)},Je.requestFormReset=function(x){r.d.r(x)},Je.unstable_batchedUpdates=function(x,h){return x(h)},Je.useFormState=function(x,h,v){return N.H.useFormState(x,h,v)},Je.useFormStatus=function(){return N.H.useHostTransitionStatus()},Je.version="19.1.1",Je}var hd;function Ph(){if(hd)return uo.exports;hd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),uo.exports=Ih(),uo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function em(){if(md)return Ml;md=1;var l=Fh(),s=po(),u=Ph();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function N(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T(e){if(g(e)!==e)throw Error(r(188))}function x(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return T(i),e;if(c===a)return T(i),t;c=c.sibling}throw Error(r(188))}if(n.return!==a.return)n=i,a=c;else{for(var o=!1,f=i.child;f;){if(f===n){o=!0,n=i,a=c;break}if(f===a){o=!0,a=i,n=c;break}f=f.sibling}if(!o){for(f=c.child;f;){if(f===n){o=!0,n=c,a=i;break}if(f===a){o=!0,a=c,n=i;break}f=f.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,H=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),D=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function We(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case B:return"Profiler";case le:return"StrictMode";case Q:return"Suspense";case I:return"SuspenseList";case Ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case D:return(e.displayName||"Context")+".Provider";case V:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:We(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return We(e(t))}catch{}}return null}var qe=Array.isArray,w=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ae=[],m=-1;function q(e){return{current:e}}function Y(e){0>m||(e.current=ae[m],ae[m]=null,m--)}function L(e,t){m++,ae[m]=e.current,e.current=t}var J=q(null),pe=q(null),te=q(null),lt=q(null);function Me(e,t){switch(L(te,t),L(pe,e),L(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bf(t),e=Cf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(J),L(J,e)}function Ft(){Y(J),Y(pe),Y(te)}function Gi(e){e.memoizedState!==null&&L(lt,e);var t=J.current,n=Cf(t,e.type);t!==n&&(L(pe,e),L(J,n))}function Nl(e){pe.current===e&&(Y(J),Y(pe)),lt.current===e&&(Y(lt),vl._currentValue=Z)}var Qi=Object.prototype.hasOwnProperty,Zi=l.unstable_scheduleCallback,Vi=l.unstable_cancelCallback,wd=l.unstable_shouldYield,Md=l.unstable_requestPaint,_t=l.unstable_now,Nd=l.unstable_getCurrentPriorityLevel,ho=l.unstable_ImmediatePriority,mo=l.unstable_UserBlockingPriority,Ol=l.unstable_NormalPriority,Od=l.unstable_LowPriority,yo=l.unstable_IdlePriority,_d=l.log,Rd=l.unstable_setDisableYieldValue,Oa=null,it=null;function It(e){if(typeof _d=="function"&&Rd(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Oa,e)}catch{}}var ct=Math.clz32?Math.clz32:qd,zd=Math.log,Dd=Math.LN2;function qd(e){return e>>>=0,e===0?32:31-(zd(e)/Dd|0)|0}var _l=256,Rl=4194304;function En(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,c=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=a&134217727;return f!==0?(a=f&~c,a!==0?i=En(a):(o&=f,o!==0?i=En(o):n||(n=f&~e,n!==0&&(i=En(n))))):(f=a&~c,f!==0?i=En(f):o!==0?i=En(o):n||(n=a&~e,n!==0&&(i=En(n)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:i}function _a(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jd(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var e=_l;return _l<<=1,(_l&4194048)===0&&(_l=256),e}function xo(){var e=Rl;return Rl<<=1,(Rl&62914560)===0&&(Rl=4194304),e}function Ki(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ra(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bd(e,t,n,a,i,c){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var f=e.entanglements,p=e.expirationTimes,E=e.hiddenUpdates;for(n=o&~n;0<n;){var _=31-ct(n),z=1<<_;f[_]=0,p[_]=-1;var M=E[_];if(M!==null)for(E[_]=null,_=0;_<M.length;_++){var O=M[_];O!==null&&(O.lane&=-536870913)}n&=~z}a!==0&&bo(e,a,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(o&~t))}function bo(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ct(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function vo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ct(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function So(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:td(e.type))}function Cd(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}var Pt=Math.random().toString(36).slice(2),Ke="__reactFiber$"+Pt,Ie="__reactProps$"+Pt,Xn="__reactContainer$"+Pt,Wi="__reactEvents$"+Pt,Ud="__reactListeners$"+Pt,Hd="__reactHandles$"+Pt,Ao="__reactResources$"+Pt,za="__reactMarker$"+Pt;function Fi(e){delete e[Ke],delete e[Ie],delete e[Wi],delete e[Ud],delete e[Hd]}function Gn(e){var t=e[Ke];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[Ke]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kf(e);e!==null;){if(n=e[Ke])return n;e=kf(e)}return t}e=n,n=e.parentNode}return null}function Qn(e){if(e=e[Ke]||e[Xn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Da(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Zn(e){var t=e[Ao];return t||(t=e[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ke(e){e[za]=!0}var To=new Set,Eo={};function wn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(Eo[e]=t,e=0;e<t.length;e++)To.add(t[e])}var Yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Mo={};function kd(e){return Qi.call(Mo,e)?!0:Qi.call(wo,e)?!1:Yd.test(e)?Mo[e]=!0:(wo[e]=!0,!1)}function Dl(e,t,n){if(kd(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ql(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Bt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Ii,No;function Kn(e){if(Ii===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ii=t&&t[1]||"",No=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ii+e+No}var Pi=!1;function ec(e,t){if(!e||Pi)return"";Pi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(O){var M=O}Reflect.construct(e,[],z)}else{try{z.call()}catch(O){M=O}e.call(z.prototype)}}else{try{throw Error()}catch(O){M=O}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(O){if(O&&M&&typeof O.stack=="string")return[O.stack,M.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),o=c[0],f=c[1];if(o&&f){var p=o.split(`
`),E=f.split(`
`);for(i=a=0;a<p.length&&!p[a].includes("DetermineComponentFrameRoot");)a++;for(;i<E.length&&!E[i].includes("DetermineComponentFrameRoot");)i++;if(a===p.length||i===E.length)for(a=p.length-1,i=E.length-1;1<=a&&0<=i&&p[a]!==E[i];)i--;for(;1<=a&&0<=i;a--,i--)if(p[a]!==E[i]){if(a!==1||i!==1)do if(a--,i--,0>i||p[a]!==E[i]){var _=`
`+p[a].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=a&&0<=i);break}}}finally{Pi=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Kn(n):""}function Ld(e){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return ec(e.type,!1);case 11:return ec(e.type.render,!1);case 1:return ec(e.type,!0);case 31:return Kn("Activity");default:return""}}function Oo(e){try{var t="";do t+=Ld(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _o(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xd(e){var t=_o(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,c.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=Xd(e))}function Ro(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=_o(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gd=/[\n"\\]/g;function mt(e){return e.replace(Gd,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tc(e,t,n,a,i,c,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?nc(e,o,ht(t)):n!=null?nc(e,o,ht(n)):a!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+ht(f):e.removeAttribute("name")}function zo(e,t,n,a,i,c,o,f){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;n=n!=null?""+ht(n):"",t=t!=null?""+ht(t):n,f||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=f?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function nc(e,t,n){t==="number"&&Bl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function $n(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Do(e,t,n){if(t!=null&&(t=""+ht(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ht(n):""}function qo(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(r(92));if(qe(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=ht(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Jn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Qd.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Bo(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&jo(e,i,a)}else for(var c in t)t.hasOwnProperty(c)&&jo(e,c,t[c])}function ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(e){return Vd.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var lc=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wn=null,Fn=null;function Co(e){var t=Qn(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(tc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Ie]||null;if(!i)throw Error(r(90));tc(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Ro(a)}break e;case"textarea":Do(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&$n(e,!!n.multiple,t,!1)}}}var cc=!1;function Uo(e,t,n){if(cc)return e(t,n);cc=!0;try{var a=e(t);return a}finally{if(cc=!1,(Wn!==null||Fn!==null)&&(Si(),Wn&&(t=Wn,e=Fn,Fn=Wn=null,Co(t),e)))for(t=0;t<e.length;t++)Co(e[t])}}function qa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Ie]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=!1;if(Ct)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){sc=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{sc=!1}var en=null,oc=null,Ul=null;function Ho(){if(Ul)return Ul;var e,t=oc,n=t.length,a,i="value"in en?en.value:en.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(a=1;a<=o&&t[n-a]===i[c-a];a++);return Ul=i.slice(e,1<a?1-a:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Yo(){return!1}function Pe(e){function t(n,a,i,c,o){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=c,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(c):c[f]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Yl:Yo,this.isPropagationStopped=Yo,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Pe(Mn),Ba=v({},Mn,{view:0,detail:0}),Kd=Pe(Ba),uc,rc,Ca,Ll=v({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ca&&(Ca&&e.type==="mousemove"?(uc=e.screenX-Ca.screenX,rc=e.screenY-Ca.screenY):rc=uc=0,Ca=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),ko=Pe(Ll),$d=v({},Ll,{dataTransfer:0}),Jd=Pe($d),Wd=v({},Ba,{relatedTarget:0}),fc=Pe(Wd),Fd=v({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Id=Pe(Fd),Pd=v({},Mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ep=Pe(Pd),tp=v({},Mn,{data:0}),Lo=Pe(tp),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ip(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lp[e])?!!t[e]:!1}function dc(){return ip}var cp=v({},Ba,{key:function(e){if(e.key){var t=np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ap[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sp=Pe(cp),op=v({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Pe(op),up=v({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),rp=Pe(up),fp=v({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=Pe(fp),pp=v({},Ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hp=Pe(pp),mp=v({},Mn,{newState:0,oldState:0}),yp=Pe(mp),gp=[9,13,27,32],pc=Ct&&"CompositionEvent"in window,Ua=null;Ct&&"documentMode"in document&&(Ua=document.documentMode);var xp=Ct&&"TextEvent"in window&&!Ua,Go=Ct&&(!pc||Ua&&8<Ua&&11>=Ua),Qo=" ",Zo=!1;function Vo(e,t){switch(e){case"keyup":return gp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function bp(e,t){switch(e){case"compositionend":return Ko(t);case"keypress":return t.which!==32?null:(Zo=!0,Qo);case"textInput":return e=t.data,e===Qo&&Zo?null:e;default:return null}}function vp(e,t){if(In)return e==="compositionend"||!pc&&Vo(e,t)?(e=Ho(),Ul=oc=en=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Go&&t.locale!=="ko"?null:t.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sp[e.type]:t==="textarea"}function Jo(e,t,n,a){Wn?Fn?Fn.push(a):Fn=[a]:Wn=a,t=Ni(t,"onChange"),0<t.length&&(n=new kl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ha=null,Ya=null;function Ap(e){Rf(e,0)}function Xl(e){var t=Da(e);if(Ro(t))return e}function Wo(e,t){if(e==="change")return t}var Fo=!1;if(Ct){var hc;if(Ct){var mc="oninput"in document;if(!mc){var Io=document.createElement("div");Io.setAttribute("oninput","return;"),mc=typeof Io.oninput=="function"}hc=mc}else hc=!1;Fo=hc&&(!document.documentMode||9<document.documentMode)}function Po(){Ha&&(Ha.detachEvent("onpropertychange",eu),Ya=Ha=null)}function eu(e){if(e.propertyName==="value"&&Xl(Ya)){var t=[];Jo(t,Ya,e,ic(e)),Uo(Ap,t)}}function Tp(e,t,n){e==="focusin"?(Po(),Ha=t,Ya=n,Ha.attachEvent("onpropertychange",eu)):e==="focusout"&&Po()}function Ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(Ya)}function wp(e,t){if(e==="click")return Xl(t)}function Mp(e,t){if(e==="input"||e==="change")return Xl(t)}function Np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Np;function ka(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Qi.call(t,i)||!st(e[i],t[i]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var n=tu(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tu(n)}}function au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bl(e.document)}return t}function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Op=Ct&&"documentMode"in document&&11>=document.documentMode,Pn=null,gc=null,La=null,xc=!1;function iu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xc||Pn==null||Pn!==Bl(a)||(a=Pn,"selectionStart"in a&&yc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),La&&ka(La,a)||(La=a,a=Ni(gc,"onSelect"),0<a.length&&(t=new kl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Pn)))}function Nn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ea={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},bc={},cu={};Ct&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function On(e){if(bc[e])return bc[e];if(!ea[e])return e;var t=ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cu)return bc[e]=t[n];return e}var su=On("animationend"),ou=On("animationiteration"),uu=On("animationstart"),_p=On("transitionrun"),Rp=On("transitionstart"),zp=On("transitioncancel"),ru=On("transitionend"),fu=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function Et(e,t){fu.set(e,t),wn(t,[e])}var du=new WeakMap;function yt(e,t){if(typeof e=="object"&&e!==null){var n=du.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Oo(t)},du.set(e,t),t)}return{value:e,source:t,stack:Oo(t)}}var gt=[],ta=0,Sc=0;function Gl(){for(var e=ta,t=Sc=ta=0;t<e;){var n=gt[t];gt[t++]=null;var a=gt[t];gt[t++]=null;var i=gt[t];gt[t++]=null;var c=gt[t];if(gt[t++]=null,a!==null&&i!==null){var o=a.pending;o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i}c!==0&&pu(n,i,c)}}function Ql(e,t,n,a){gt[ta++]=e,gt[ta++]=t,gt[ta++]=n,gt[ta++]=a,Sc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ac(e,t,n,a){return Ql(e,t,n,a),Zl(e)}function na(e,t){return Ql(e,null,null,t),Zl(e)}function pu(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-ct(n),e=c.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),c):null}function Zl(e){if(50<dl)throw dl=0,Os=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var aa={};function Dp(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,a){return new Dp(e,t,n,a)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ut(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function hu(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,n,a,i,c){var o=0;if(a=e,typeof e=="function")Tc(e)&&(o=1);else if(typeof e=="string")o=jh(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ce:return e=ot(31,n,t,i),e.elementType=Ce,e.lanes=c,e;case $:return _n(n.children,i,c,t);case le:o=8,i|=24;break;case B:return e=ot(12,n,t,i|2),e.elementType=B,e.lanes=c,e;case Q:return e=ot(13,n,t,i),e.elementType=Q,e.lanes=c,e;case I:return e=ot(19,n,t,i),e.elementType=I,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case D:o=10;break e;case V:o=9;break e;case X:o=11;break e;case ye:o=14;break e;case oe:o=16,a=null;break e}o=29,n=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=ot(o,n,t,i),t.elementType=e,t.type=a,t.lanes=c,t}function _n(e,t,n,a){return e=ot(7,e,a,t),e.lanes=n,e}function Ec(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function wc(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var la=[],ia=0,Kl=null,$l=0,xt=[],bt=0,Rn=null,Ht=1,Yt="";function zn(e,t){la[ia++]=$l,la[ia++]=Kl,Kl=e,$l=t}function mu(e,t,n){xt[bt++]=Ht,xt[bt++]=Yt,xt[bt++]=Rn,Rn=e;var a=Ht;e=Yt;var i=32-ct(a)-1;a&=~(1<<i),n+=1;var c=32-ct(t)+i;if(30<c){var o=i-i%5;c=(a&(1<<o)-1).toString(32),a>>=o,i-=o,Ht=1<<32-ct(t)+i|n<<i|a,Yt=c+e}else Ht=1<<c|n<<i|a,Yt=e}function Mc(e){e.return!==null&&(zn(e,1),mu(e,1,0))}function Nc(e){for(;e===Kl;)Kl=la[--ia],la[ia]=null,$l=la[--ia],la[ia]=null;for(;e===Rn;)Rn=xt[--bt],xt[bt]=null,Yt=xt[--bt],xt[bt]=null,Ht=xt[--bt],xt[bt]=null}var Fe=null,_e=null,me=!1,Dn=null,Rt=!1,Oc=Error(r(519));function qn(e){var t=Error(r(418,""));throw Qa(yt(t,e)),Oc}function yu(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ke]=e,t[Ie]=a,n){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(n=0;n<hl.length;n++)fe(hl[n],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),zo(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),jl(t);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),qo(t,a.value,a.defaultValue,a.children),jl(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||jf(t.textContent,n)?(a.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),a.onScroll!=null&&fe("scroll",t),a.onScrollEnd!=null&&fe("scrollend",t),a.onClick!=null&&(t.onclick=Oi),t=!0):t=!1,t||qn(e)}function gu(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:Fe=Fe.return}}function Xa(e){if(e!==Fe)return!1;if(!me)return gu(e),me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Qs(e.type,e.memoizedProps)),n=!n),n&&_e&&qn(e),gu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){_e=Mt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}_e=null}}else t===27?(t=_e,gn(e.type)?(e=$s,$s=null,_e=e):_e=t):_e=Fe?Mt(e.stateNode.nextSibling):null;return!0}function Ga(){_e=Fe=null,me=!1}function xu(){var e=Dn;return e!==null&&(nt===null?nt=e:nt.push.apply(nt,e),Dn=null),e}function Qa(e){Dn===null?Dn=[e]:Dn.push(e)}var _c=q(null),jn=null,kt=null;function tn(e,t,n){L(_c,t._currentValue),t._currentValue=n}function Lt(e){e._currentValue=_c.current,Y(_c)}function Rc(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function zc(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var o=i.child;c=c.firstContext;e:for(;c!==null;){var f=c;c=i;for(var p=0;p<t.length;p++)if(f.context===t[p]){c.lanes|=n,f=c.alternate,f!==null&&(f.lanes|=n),Rc(c.return,n,e),a||(o=null);break e}c=f.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(r(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Rc(o,n,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Za(e,t,n,a){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(r(387));if(o=o.memoizedProps,o!==null){var f=i.type;st(i.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(i===lt.current){if(o=i.alternate,o===null)throw Error(r(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}i=i.return}e!==null&&zc(t,e,n,a),t.flags|=262144}function Jl(e){for(e=e.firstContext;e!==null;){if(!st(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bn(e){jn=e,kt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return bu(jn,e)}function Wl(e,t){return jn===null&&Bn(e),bu(e,t)}function bu(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},kt===null){if(e===null)throw Error(r(308));kt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kt=kt.next=t;return n}var qp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},jp=l.unstable_scheduleCallback,Bp=l.unstable_NormalPriority,He={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new qp,data:new Map,refCount:0}}function Va(e){e.refCount--,e.refCount===0&&jp(Bp,function(){e.controller.abort()})}var Ka=null,qc=0,ca=0,sa=null;function Cp(e,t){if(Ka===null){var n=Ka=[];qc=0,ca=Bs(),sa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return qc++,t.then(vu,vu),t}function vu(){if(--qc===0&&Ka!==null){sa!==null&&(sa.status="fulfilled");var e=Ka;Ka=null,ca=0,sa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Up(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Su=w.S;w.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Cp(e,t),Su!==null&&Su(e,t)};var Cn=q(null);function jc(){var e=Cn.current;return e!==null?e:Ee.pooledCache}function Fl(e,t){t===null?L(Cn,Cn.current):L(Cn,t.pool)}function Au(){var e=jc();return e===null?null:{parent:He._currentValue,pool:e}}var $a=Error(r(460)),Tu=Error(r(474)),Il=Error(r(542)),Bc={then:function(){}};function Eu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pl(){}function wu(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pl,Pl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nu(e),e;default:if(typeof t.status=="string")t.then(Pl,Pl);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nu(e),e}throw Ja=t,$a}}var Ja=null;function Mu(){if(Ja===null)throw Error(r(459));var e=Ja;return Ja=null,e}function Nu(e){if(e===$a||e===Il)throw Error(r(483))}var nn=!1;function Cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function an(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ge&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Zl(e),pu(e,null,n),t}return Ql(e,a,t,n),Zl(e)}function Wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vo(e,n)}}function Hc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?i=c=o:c=c.next=o,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Yc=!1;function Fa(){if(Yc){var e=sa;if(e!==null)throw e}}function Ia(e,t,n,a){Yc=!1;var i=e.updateQueue;nn=!1;var c=i.firstBaseUpdate,o=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var p=f,E=p.next;p.next=null,o===null?c=E:o.next=E,o=p;var _=e.alternate;_!==null&&(_=_.updateQueue,f=_.lastBaseUpdate,f!==o&&(f===null?_.firstBaseUpdate=E:f.next=E,_.lastBaseUpdate=p))}if(c!==null){var z=i.baseState;o=0,_=E=p=null,f=c;do{var M=f.lane&-536870913,O=M!==f.lane;if(O?(de&M)===M:(a&M)===M){M!==0&&M===ca&&(Yc=!0),_!==null&&(_=_.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ee=e,W=f;M=t;var Ae=n;switch(W.tag){case 1:if(ee=W.payload,typeof ee=="function"){z=ee.call(Ae,z,M);break e}z=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=W.payload,M=typeof ee=="function"?ee.call(Ae,z,M):ee,M==null)break e;z=v({},z,M);break e;case 2:nn=!0}}M=f.callback,M!==null&&(e.flags|=64,O&&(e.flags|=8192),O=i.callbacks,O===null?i.callbacks=[M]:O.push(M))}else O={lane:M,tag:f.tag,payload:f.payload,callback:f.callback,next:null},_===null?(E=_=O,p=z):_=_.next=O,o|=M;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;O=f,f=O.next,O.next=null,i.lastBaseUpdate=O,i.shared.pending=null}}while(!0);_===null&&(p=z),i.baseState=p,i.firstBaseUpdate=E,i.lastBaseUpdate=_,c===null&&(i.shared.lanes=0),pn|=o,e.lanes=o,e.memoizedState=z}}function Ou(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function _u(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ou(n[e],t)}var oa=q(null),ei=q(0);function Ru(e,t){e=$t,L(ei,e),L(oa,t),$t=e|t.baseLanes}function kc(){L(ei,$t),L(oa,oa.current)}function Lc(){$t=ei.current,Y(oa),Y(ei)}var cn=0,ie=null,ve=null,je=null,ti=!1,ua=!1,Un=!1,ni=0,Pa=0,ra=null,Hp=0;function ze(){throw Error(r(321))}function Xc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!st(e[n],t[n]))return!1;return!0}function Gc(e,t,n,a,i,c){return cn=c,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?pr:hr,Un=!1,c=n(a,i),Un=!1,ua&&(c=Du(t,n,a,i)),zu(e),c}function zu(e){w.H=oi;var t=ve!==null&&ve.next!==null;if(cn=0,je=ve=ie=null,ti=!1,Pa=0,ra=null,t)throw Error(r(300));e===null||Le||(e=e.dependencies,e!==null&&Jl(e)&&(Le=!0))}function Du(e,t,n,a){ie=e;var i=0;do{if(ua&&(ra=null),Pa=0,ua=!1,25<=i)throw Error(r(301));if(i+=1,je=ve=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}w.H=Zp,c=t(n,a)}while(ua);return c}function Yp(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?el(t):t,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(ie.flags|=1024),t}function Qc(){var e=ni!==0;return ni=0,e}function Zc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vc(e){if(ti){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ti=!1}cn=0,je=ve=ie=null,ua=!1,Pa=ni=0,ra=null}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ie.memoizedState=je=e:je=je.next=e,je}function Be(){if(ve===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=je===null?ie.memoizedState:je.next;if(t!==null)je=t,ve=e;else{if(e===null)throw ie.alternate===null?Error(r(467)):Error(r(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},je===null?ie.memoizedState=je=e:je=je.next=e}return je}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var t=Pa;return Pa+=1,ra===null&&(ra=[]),e=wu(ra,e,t),t=ie,(je===null?t.memoizedState:je.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?pr:hr),e}function ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===D)return $e(e)}throw Error(r(438,String(e)))}function $c(e){var t=null,n=ie.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ie.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Kc(),ie.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=be;return t.index++,n}function Xt(e,t){return typeof t=="function"?t(e):t}function li(e){var t=Be();return Jc(t,ve,e)}function Jc(e,t,n){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var i=e.baseQueue,c=a.pending;if(c!==null){if(i!==null){var o=i.next;i.next=c.next,c.next=o}t.baseQueue=i=c,a.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var f=o=null,p=null,E=t,_=!1;do{var z=E.lane&-536870913;if(z!==E.lane?(de&z)===z:(cn&z)===z){var M=E.revertLane;if(M===0)p!==null&&(p=p.next={lane:0,revertLane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),z===ca&&(_=!0);else if((cn&M)===M){E=E.next,M===ca&&(_=!0);continue}else z={lane:0,revertLane:E.revertLane,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},p===null?(f=p=z,o=c):p=p.next=z,ie.lanes|=M,pn|=M;z=E.action,Un&&n(c,z),c=E.hasEagerState?E.eagerState:n(c,z)}else M={lane:z,revertLane:E.revertLane,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},p===null?(f=p=M,o=c):p=p.next=M,ie.lanes|=z,pn|=z;E=E.next}while(E!==null&&E!==t);if(p===null?o=c:p.next=f,!st(c,e.memoizedState)&&(Le=!0,_&&(n=sa,n!==null)))throw n;e.memoizedState=c,e.baseState=o,e.baseQueue=p,a.lastRenderedState=c}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Wc(e){var t=Be(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do c=e(c,o.action),o=o.next;while(o!==i);st(c,t.memoizedState)||(Le=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function qu(e,t,n){var a=ie,i=Be(),c=me;if(c){if(n===void 0)throw Error(r(407));n=n()}else n=t();var o=!st((ve||i).memoizedState,n);o&&(i.memoizedState=n,Le=!0),i=i.queue;var f=Cu.bind(null,a,i,e);if(tl(2048,8,f,[e]),i.getSnapshot!==t||o||je!==null&&je.memoizedState.tag&1){if(a.flags|=2048,fa(9,ii(),Bu.bind(null,a,i,n,t),null),Ee===null)throw Error(r(349));c||(cn&124)!==0||ju(a,t,n)}return n}function ju(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t=Kc(),ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bu(e,t,n,a){t.value=n,t.getSnapshot=a,Uu(t)&&Hu(e)}function Cu(e,t,n){return n(function(){Uu(t)&&Hu(e)})}function Uu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!st(e,n)}catch{return!0}}function Hu(e){var t=na(e,2);t!==null&&pt(t,e,2)}function Fc(e){var t=et();if(typeof e=="function"){var n=e;if(e=n(),Un){It(!0);try{n()}finally{It(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:e},t}function Yu(e,t,n,a){return e.baseState=n,Jc(e,ve,typeof a=="function"?a:Xt)}function kp(e,t,n,a,i){if(si(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){c.listeners.push(o)}};w.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,ku(t,c)):(c.next=n.next,t.pending=n.next=c)}}function ku(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var c=w.T,o={};w.T=o;try{var f=n(i,a),p=w.S;p!==null&&p(o,f),Lu(e,t,f)}catch(E){Ic(e,t,E)}finally{w.T=c}}else try{c=n(i,a),Lu(e,t,c)}catch(E){Ic(e,t,E)}}function Lu(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Xu(e,t,a)},function(a){return Ic(e,t,a)}):Xu(e,t,n)}function Xu(e,t,n){t.status="fulfilled",t.value=n,Gu(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ku(e,n)))}function Ic(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Gu(t),t=t.next;while(t!==a)}e.action=null}function Gu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qu(e,t){return t}function Zu(e,t){if(me){var n=Ee.formState;if(n!==null){e:{var a=ie;if(me){if(_e){t:{for(var i=_e,c=Rt;i.nodeType!==8;){if(!c){i=null;break t}if(i=Mt(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){_e=Mt(i.nextSibling),a=i.data==="F!";break e}}qn(a)}a=!1}a&&(t=n[0])}}return n=et(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},n.queue=a,n=rr.bind(null,ie,a),a.dispatch=n,a=Fc(!1),c=as.bind(null,ie,!1,a.queue),a=et(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=kp.bind(null,ie,i,c,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Vu(e){var t=Be();return Ku(t,ve,e)}function Ku(e,t,n){if(t=Jc(e,t,Qu)[0],e=li(Xt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=el(t)}catch(o){throw o===$a?Il:o}else a=t;t=Be();var i=t.queue,c=i.dispatch;return n!==t.memoizedState&&(ie.flags|=2048,fa(9,ii(),Lp.bind(null,i,n),null)),[a,c,e]}function Lp(e,t){e.action=t}function $u(e){var t=Be(),n=ve;if(n!==null)return Ku(t,n,e);Be(),t=t.memoizedState,n=Be();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function fa(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ie.updateQueue,t===null&&(t=Kc(),ie.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ii(){return{destroy:void 0,resource:void 0}}function Ju(){return Be().memoizedState}function ci(e,t,n,a){var i=et();a=a===void 0?null:a,ie.flags|=e,i.memoizedState=fa(1|t,ii(),n,a)}function tl(e,t,n,a){var i=Be();a=a===void 0?null:a;var c=i.memoizedState.inst;ve!==null&&a!==null&&Xc(a,ve.memoizedState.deps)?i.memoizedState=fa(t,c,n,a):(ie.flags|=e,i.memoizedState=fa(1|t,c,n,a))}function Wu(e,t){ci(8390656,8,e,t)}function Fu(e,t){tl(2048,8,e,t)}function Iu(e,t){return tl(4,2,e,t)}function Pu(e,t){return tl(4,4,e,t)}function er(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tr(e,t,n){n=n!=null?n.concat([e]):null,tl(4,4,er.bind(null,t,e),n)}function Pc(){}function nr(e,t){var n=Be();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Xc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ar(e,t){var n=Be();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Xc(t,a[1]))return a[0];if(a=e(),Un){It(!0);try{e()}finally{It(!1)}}return n.memoizedState=[a,t],a}function es(e,t,n){return n===void 0||(cn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=sf(),ie.lanes|=e,pn|=e,n)}function lr(e,t,n,a){return st(n,t)?n:oa.current!==null?(e=es(e,n,a),st(e,t)||(Le=!0),e):(cn&42)===0?(Le=!0,e.memoizedState=n):(e=sf(),ie.lanes|=e,pn|=e,t)}function ir(e,t,n,a,i){var c=j.p;j.p=c!==0&&8>c?c:8;var o=w.T,f={};w.T=f,as(e,!1,t,n);try{var p=i(),E=w.S;if(E!==null&&E(f,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var _=Up(p,a);nl(e,t,_,dt(e))}else nl(e,t,a,dt(e))}catch(z){nl(e,t,{then:function(){},status:"rejected",reason:z},dt())}finally{j.p=c,w.T=o}}function Xp(){}function ts(e,t,n,a){if(e.tag!==5)throw Error(r(476));var i=cr(e).queue;ir(e,i,t,Z,n===null?Xp:function(){return sr(e),n(a)})}function cr(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:Z},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sr(e){var t=cr(e).next.queue;nl(e,t,{},dt())}function ns(){return $e(vl)}function or(){return Be().memoizedState}function ur(){return Be().memoizedState}function Gp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dt();e=an(n);var a=ln(t,e,n);a!==null&&(pt(a,t,n),Wa(a,t,n)),t={cache:Dc()},e.payload=t;return}t=t.return}}function Qp(e,t,n){var a=dt();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},si(e)?fr(t,n):(n=Ac(e,t,n,a),n!==null&&(pt(n,e,a),dr(n,t,a)))}function rr(e,t,n){var a=dt();nl(e,t,n,a)}function nl(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(si(e))fr(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var o=t.lastRenderedState,f=c(o,n);if(i.hasEagerState=!0,i.eagerState=f,st(f,o))return Ql(e,t,i,0),Ee===null&&Gl(),!1}catch{}finally{}if(n=Ac(e,t,i,a),n!==null)return pt(n,e,a),dr(n,t,a),!0}return!1}function as(e,t,n,a){if(a={lane:2,revertLane:Bs(),action:a,hasEagerState:!1,eagerState:null,next:null},si(e)){if(t)throw Error(r(479))}else t=Ac(e,n,a,2),t!==null&&pt(t,e,2)}function si(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function fr(e,t){ua=ti=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dr(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vo(e,n)}}var oi={readContext:$e,use:ai,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze},pr={readContext:$e,use:ai,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:$e,useEffect:Wu,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ci(4194308,4,er.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ci(4194308,4,e,t)},useInsertionEffect:function(e,t){ci(4,2,e,t)},useMemo:function(e,t){var n=et();t=t===void 0?null:t;var a=e();if(Un){It(!0);try{e()}finally{It(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=et();if(n!==void 0){var i=n(t);if(Un){It(!0);try{n(t)}finally{It(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Qp.bind(null,ie,e),[a.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,n=rr.bind(null,ie,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Pc,useDeferredValue:function(e,t){var n=et();return es(n,e,t)},useTransition:function(){var e=Fc(!1);return e=ir.bind(null,ie,e.queue,!0,!1),et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ie,i=et();if(me){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Ee===null)throw Error(r(349));(de&124)!==0||ju(a,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,Wu(Cu.bind(null,a,c,e),[e]),a.flags|=2048,fa(9,ii(),Bu.bind(null,a,c,n,t),null),n},useId:function(){var e=et(),t=Ee.identifierPrefix;if(me){var n=Yt,a=Ht;n=(a&~(1<<32-ct(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=ni++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Hp++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ns,useFormState:Zu,useActionState:Zu,useOptimistic:function(e){var t=et();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=as.bind(null,ie,!0,n),n.dispatch=t,[e,t]},useMemoCache:$c,useCacheRefresh:function(){return et().memoizedState=Gp.bind(null,ie)}},hr={readContext:$e,use:ai,useCallback:nr,useContext:$e,useEffect:Fu,useImperativeHandle:tr,useInsertionEffect:Iu,useLayoutEffect:Pu,useMemo:ar,useReducer:li,useRef:Ju,useState:function(){return li(Xt)},useDebugValue:Pc,useDeferredValue:function(e,t){var n=Be();return lr(n,ve.memoizedState,e,t)},useTransition:function(){var e=li(Xt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:el(e),t]},useSyncExternalStore:qu,useId:or,useHostTransitionStatus:ns,useFormState:Vu,useActionState:Vu,useOptimistic:function(e,t){var n=Be();return Yu(n,ve,e,t)},useMemoCache:$c,useCacheRefresh:ur},Zp={readContext:$e,use:ai,useCallback:nr,useContext:$e,useEffect:Fu,useImperativeHandle:tr,useInsertionEffect:Iu,useLayoutEffect:Pu,useMemo:ar,useReducer:Wc,useRef:Ju,useState:function(){return Wc(Xt)},useDebugValue:Pc,useDeferredValue:function(e,t){var n=Be();return ve===null?es(n,e,t):lr(n,ve.memoizedState,e,t)},useTransition:function(){var e=Wc(Xt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:el(e),t]},useSyncExternalStore:qu,useId:or,useHostTransitionStatus:ns,useFormState:$u,useActionState:$u,useOptimistic:function(e,t){var n=Be();return ve!==null?Yu(n,ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$c,useCacheRefresh:ur},da=null,al=0;function ui(e){var t=al;return al+=1,da===null&&(da=[]),wu(da,e,t)}function ll(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ri(e,t){throw t.$$typeof===H?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function mr(e){var t=e._init;return t(e._payload)}function yr(e){function t(b,y){if(e){var A=b.deletions;A===null?(b.deletions=[y],b.flags|=16):A.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function a(b){for(var y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(b,y){return b=Ut(b,y),b.index=0,b.sibling=null,b}function c(b,y,A){return b.index=A,e?(A=b.alternate,A!==null?(A=A.index,A<y?(b.flags|=67108866,y):A):(b.flags|=67108866,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function f(b,y,A,R){return y===null||y.tag!==6?(y=Ec(A,b.mode,R),y.return=b,y):(y=i(y,A),y.return=b,y)}function p(b,y,A,R){var G=A.type;return G===$?_(b,y,A.props.children,R,A.key):y!==null&&(y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===oe&&mr(G)===y.type)?(y=i(y,A.props),ll(y,A),y.return=b,y):(y=Vl(A.type,A.key,A.props,null,b.mode,R),ll(y,A),y.return=b,y)}function E(b,y,A,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==A.containerInfo||y.stateNode.implementation!==A.implementation?(y=wc(A,b.mode,R),y.return=b,y):(y=i(y,A.children||[]),y.return=b,y)}function _(b,y,A,R,G){return y===null||y.tag!==7?(y=_n(A,b.mode,R,G),y.return=b,y):(y=i(y,A),y.return=b,y)}function z(b,y,A){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Ec(""+y,b.mode,A),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case C:return A=Vl(y.type,y.key,y.props,null,b.mode,A),ll(A,y),A.return=b,A;case k:return y=wc(y,b.mode,A),y.return=b,y;case oe:var R=y._init;return y=R(y._payload),z(b,y,A)}if(qe(y)||ue(y))return y=_n(y,b.mode,A,null),y.return=b,y;if(typeof y.then=="function")return z(b,ui(y),A);if(y.$$typeof===D)return z(b,Wl(b,y),A);ri(b,y)}return null}function M(b,y,A,R){var G=y!==null?y.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return G!==null?null:f(b,y,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return A.key===G?p(b,y,A,R):null;case k:return A.key===G?E(b,y,A,R):null;case oe:return G=A._init,A=G(A._payload),M(b,y,A,R)}if(qe(A)||ue(A))return G!==null?null:_(b,y,A,R,null);if(typeof A.then=="function")return M(b,y,ui(A),R);if(A.$$typeof===D)return M(b,y,Wl(b,A),R);ri(b,A)}return null}function O(b,y,A,R,G){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return b=b.get(A)||null,f(y,b,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return b=b.get(R.key===null?A:R.key)||null,p(y,b,R,G);case k:return b=b.get(R.key===null?A:R.key)||null,E(y,b,R,G);case oe:var se=R._init;return R=se(R._payload),O(b,y,A,R,G)}if(qe(R)||ue(R))return b=b.get(A)||null,_(y,b,R,G,null);if(typeof R.then=="function")return O(b,y,A,ui(R),G);if(R.$$typeof===D)return O(b,y,A,Wl(y,R),G);ri(y,R)}return null}function ee(b,y,A,R){for(var G=null,se=null,K=y,F=y=0,Ge=null;K!==null&&F<A.length;F++){K.index>F?(Ge=K,K=null):Ge=K.sibling;var he=M(b,K,A[F],R);if(he===null){K===null&&(K=Ge);break}e&&K&&he.alternate===null&&t(b,K),y=c(he,y,F),se===null?G=he:se.sibling=he,se=he,K=Ge}if(F===A.length)return n(b,K),me&&zn(b,F),G;if(K===null){for(;F<A.length;F++)K=z(b,A[F],R),K!==null&&(y=c(K,y,F),se===null?G=K:se.sibling=K,se=K);return me&&zn(b,F),G}for(K=a(K);F<A.length;F++)Ge=O(K,b,F,A[F],R),Ge!==null&&(e&&Ge.alternate!==null&&K.delete(Ge.key===null?F:Ge.key),y=c(Ge,y,F),se===null?G=Ge:se.sibling=Ge,se=Ge);return e&&K.forEach(function(An){return t(b,An)}),me&&zn(b,F),G}function W(b,y,A,R){if(A==null)throw Error(r(151));for(var G=null,se=null,K=y,F=y=0,Ge=null,he=A.next();K!==null&&!he.done;F++,he=A.next()){K.index>F?(Ge=K,K=null):Ge=K.sibling;var An=M(b,K,he.value,R);if(An===null){K===null&&(K=Ge);break}e&&K&&An.alternate===null&&t(b,K),y=c(An,y,F),se===null?G=An:se.sibling=An,se=An,K=Ge}if(he.done)return n(b,K),me&&zn(b,F),G;if(K===null){for(;!he.done;F++,he=A.next())he=z(b,he.value,R),he!==null&&(y=c(he,y,F),se===null?G=he:se.sibling=he,se=he);return me&&zn(b,F),G}for(K=a(K);!he.done;F++,he=A.next())he=O(K,b,F,he.value,R),he!==null&&(e&&he.alternate!==null&&K.delete(he.key===null?F:he.key),y=c(he,y,F),se===null?G=he:se.sibling=he,se=he);return e&&K.forEach(function(Vh){return t(b,Vh)}),me&&zn(b,F),G}function Ae(b,y,A,R){if(typeof A=="object"&&A!==null&&A.type===$&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case C:e:{for(var G=A.key;y!==null;){if(y.key===G){if(G=A.type,G===$){if(y.tag===7){n(b,y.sibling),R=i(y,A.props.children),R.return=b,b=R;break e}}else if(y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===oe&&mr(G)===y.type){n(b,y.sibling),R=i(y,A.props),ll(R,A),R.return=b,b=R;break e}n(b,y);break}else t(b,y);y=y.sibling}A.type===$?(R=_n(A.props.children,b.mode,R,A.key),R.return=b,b=R):(R=Vl(A.type,A.key,A.props,null,b.mode,R),ll(R,A),R.return=b,b=R)}return o(b);case k:e:{for(G=A.key;y!==null;){if(y.key===G)if(y.tag===4&&y.stateNode.containerInfo===A.containerInfo&&y.stateNode.implementation===A.implementation){n(b,y.sibling),R=i(y,A.children||[]),R.return=b,b=R;break e}else{n(b,y);break}else t(b,y);y=y.sibling}R=wc(A,b.mode,R),R.return=b,b=R}return o(b);case oe:return G=A._init,A=G(A._payload),Ae(b,y,A,R)}if(qe(A))return ee(b,y,A,R);if(ue(A)){if(G=ue(A),typeof G!="function")throw Error(r(150));return A=G.call(A),W(b,y,A,R)}if(typeof A.then=="function")return Ae(b,y,ui(A),R);if(A.$$typeof===D)return Ae(b,y,Wl(b,A),R);ri(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,y!==null&&y.tag===6?(n(b,y.sibling),R=i(y,A),R.return=b,b=R):(n(b,y),R=Ec(A,b.mode,R),R.return=b,b=R),o(b)):n(b,y)}return function(b,y,A,R){try{al=0;var G=Ae(b,y,A,R);return da=null,G}catch(K){if(K===$a||K===Il)throw K;var se=ot(29,K,null,b.mode);return se.lanes=R,se.return=b,se}finally{}}}var pa=yr(!0),gr=yr(!1),vt=q(null),zt=null;function sn(e){var t=e.alternate;L(Ye,Ye.current&1),L(vt,e),zt===null&&(t===null||oa.current!==null||t.memoizedState!==null)&&(zt=e)}function xr(e){if(e.tag===22){if(L(Ye,Ye.current),L(vt,e),zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(zt=e)}}else on()}function on(){L(Ye,Ye.current),L(vt,vt.current)}function Gt(e){Y(vt),zt===e&&(zt=null),Y(Ye)}var Ye=q(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ks(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ls(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var is={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=dt(),i=an(a);i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,a),t!==null&&(pt(t,e,a),Wa(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=dt(),i=an(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,a),t!==null&&(pt(t,e,a),Wa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),a=an(n);a.tag=2,t!=null&&(a.callback=t),t=ln(e,a,n),t!==null&&(pt(t,e,n),Wa(t,e,n))}};function br(e,t,n,a,i,c,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,o):t.prototype&&t.prototype.isPureReactComponent?!ka(n,a)||!ka(i,c):!0}function vr(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function Hn(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var di=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sr(e){di(e)}function Ar(e){console.error(e)}function Tr(e){di(e)}function pi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Er(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function cs(e,t,n){return n=an(n),n.tag=3,n.payload={element:null},n.callback=function(){pi(e,t)},n}function wr(e){return e=an(e),e.tag=3,e}function Mr(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var c=a.value;e.payload=function(){return i(c)},e.callback=function(){Er(t,n,a)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Er(t,n,a),typeof i!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var f=a.stack;this.componentDidCatch(a.value,{componentStack:f!==null?f:""})})}function Vp(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Za(t,n,i,!0),n=vt.current,n!==null){switch(n.tag){case 13:return zt===null?Rs():n.alternate===null&&Re===0&&(Re=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Bc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ds(e,a,i)),!1;case 22:return n.flags|=65536,a===Bc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ds(e,a,i)),!1}throw Error(r(435,n.tag))}return Ds(e,a,i),Rs(),!1}if(me)return t=vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Oc&&(e=Error(r(422),{cause:a}),Qa(yt(e,n)))):(a!==Oc&&(t=Error(r(423),{cause:a}),Qa(yt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=yt(a,n),i=cs(e.stateNode,a,i),Hc(e,i),Re!==4&&(Re=2)),!1;var c=Error(r(520),{cause:a});if(c=yt(c,n),fl===null?fl=[c]:fl.push(c),Re!==4&&(Re=2),t===null)return!0;a=yt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=cs(n.stateNode,a,e),Hc(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(hn===null||!hn.has(c))))return n.flags|=65536,i&=-i,n.lanes|=i,i=wr(i),Mr(i,e,n,a),Hc(n,i),!1}n=n.return}while(n!==null);return!1}var Nr=Error(r(461)),Le=!1;function Qe(e,t,n,a){t.child=e===null?gr(t,null,n,a):pa(t,e.child,n,a)}function Or(e,t,n,a,i){n=n.render;var c=t.ref;if("ref"in a){var o={};for(var f in a)f!=="ref"&&(o[f]=a[f])}else o=a;return Bn(t),a=Gc(e,t,n,o,c,i),f=Qc(),e!==null&&!Le?(Zc(e,t,i),Qt(e,t,i)):(me&&f&&Mc(t),t.flags|=1,Qe(e,t,a,i),t.child)}function _r(e,t,n,a,i){if(e===null){var c=n.type;return typeof c=="function"&&!Tc(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Rr(e,t,c,a,i)):(e=Vl(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!hs(e,i)){var o=c.memoizedProps;if(n=n.compare,n=n!==null?n:ka,n(o,a)&&e.ref===t.ref)return Qt(e,t,i)}return t.flags|=1,e=Ut(c,a),e.ref=t.ref,e.return=t,t.child=e}function Rr(e,t,n,a,i){if(e!==null){var c=e.memoizedProps;if(ka(c,a)&&e.ref===t.ref)if(Le=!1,t.pendingProps=a=c,hs(e,i))(e.flags&131072)!==0&&(Le=!0);else return t.lanes=e.lanes,Qt(e,t,i)}return ss(e,t,n,a,i)}function zr(e,t,n){var a=t.pendingProps,i=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=c!==null?c.baseLanes|n:n,e!==null){for(i=t.child=e.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;t.childLanes=c&~a}else t.childLanes=0,t.child=null;return Dr(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fl(t,c!==null?c.cachePool:null),c!==null?Ru(t,c):kc(),xr(t);else return t.lanes=t.childLanes=536870912,Dr(e,t,c!==null?c.baseLanes|n:n,n)}else c!==null?(Fl(t,c.cachePool),Ru(t,c),on(),t.memoizedState=null):(e!==null&&Fl(t,null),kc(),on());return Qe(e,t,i,n),t.child}function Dr(e,t,n,a){var i=jc();return i=i===null?null:{parent:He._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Fl(t,null),kc(),xr(t),e!==null&&Za(e,t,a,!0),null}function hi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ss(e,t,n,a,i){return Bn(t),n=Gc(e,t,n,a,void 0,i),a=Qc(),e!==null&&!Le?(Zc(e,t,i),Qt(e,t,i)):(me&&a&&Mc(t),t.flags|=1,Qe(e,t,n,i),t.child)}function qr(e,t,n,a,i,c){return Bn(t),t.updateQueue=null,n=Du(t,a,n,i),zu(e),a=Qc(),e!==null&&!Le?(Zc(e,t,c),Qt(e,t,c)):(me&&a&&Mc(t),t.flags|=1,Qe(e,t,n,c),t.child)}function jr(e,t,n,a,i){if(Bn(t),t.stateNode===null){var c=aa,o=n.contextType;typeof o=="object"&&o!==null&&(c=$e(o)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=is,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Cc(t),o=n.contextType,c.context=typeof o=="object"&&o!==null?$e(o):aa,c.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(ls(t,n,o,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(o=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),o!==c.state&&is.enqueueReplaceState(c,c.state,null),Ia(t,a,c,i),Fa(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var f=t.memoizedProps,p=Hn(n,f);c.props=p;var E=c.context,_=n.contextType;o=aa,typeof _=="object"&&_!==null&&(o=$e(_));var z=n.getDerivedStateFromProps;_=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,_||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f||E!==o)&&vr(t,c,a,o),nn=!1;var M=t.memoizedState;c.state=M,Ia(t,a,c,i),Fa(),E=t.memoizedState,f||M!==E||nn?(typeof z=="function"&&(ls(t,n,z,a),E=t.memoizedState),(p=nn||br(t,n,p,a,M,E,o))?(_||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=E),c.props=a,c.state=E,c.context=o,a=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Uc(e,t),o=t.memoizedProps,_=Hn(n,o),c.props=_,z=t.pendingProps,M=c.context,E=n.contextType,p=aa,typeof E=="object"&&E!==null&&(p=$e(E)),f=n.getDerivedStateFromProps,(E=typeof f=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(o!==z||M!==p)&&vr(t,c,a,p),nn=!1,M=t.memoizedState,c.state=M,Ia(t,a,c,i),Fa();var O=t.memoizedState;o!==z||M!==O||nn||e!==null&&e.dependencies!==null&&Jl(e.dependencies)?(typeof f=="function"&&(ls(t,n,f,a),O=t.memoizedState),(_=nn||br(t,n,_,a,M,O,p)||e!==null&&e.dependencies!==null&&Jl(e.dependencies))?(E||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,O,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,O,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||o===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=O),c.props=a,c.state=O,c.context=p,a=_):(typeof c.componentDidUpdate!="function"||o===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,hi(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=pa(t,e.child,null,i),t.child=pa(t,null,n,i)):Qe(e,t,n,i),t.memoizedState=c.state,e=t.child):e=Qt(e,t,i),e}function Br(e,t,n,a){return Ga(),t.flags|=256,Qe(e,t,n,a),t.child}var os={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function us(e){return{baseLanes:e,cachePool:Au()}}function rs(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=St),e}function Cr(e,t,n){var a=t.pendingProps,i=!1,c=(t.flags&128)!==0,o;if((o=c)||(o=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(i?sn(t):on(),me){var f=_e,p;if(p=f){e:{for(p=f,f=Rt;p.nodeType!==8;){if(!f){f=null;break e}if(p=Mt(p.nextSibling),p===null){f=null;break e}}f=p}f!==null?(t.memoizedState={dehydrated:f,treeContext:Rn!==null?{id:Ht,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},p=ot(18,null,null,0),p.stateNode=f,p.return=t,t.child=p,Fe=t,_e=null,p=!0):p=!1}p||qn(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return Ks(f)?t.lanes=32:t.lanes=536870912,null;Gt(t)}return f=a.children,a=a.fallback,i?(on(),i=t.mode,f=mi({mode:"hidden",children:f},i),a=_n(a,i,n,null),f.return=t,a.return=t,f.sibling=a,t.child=f,i=t.child,i.memoizedState=us(n),i.childLanes=rs(e,o,n),t.memoizedState=os,a):(sn(t),fs(t,f))}if(p=e.memoizedState,p!==null&&(f=p.dehydrated,f!==null)){if(c)t.flags&256?(sn(t),t.flags&=-257,t=ds(e,t,n)):t.memoizedState!==null?(on(),t.child=e.child,t.flags|=128,t=null):(on(),i=a.fallback,f=t.mode,a=mi({mode:"visible",children:a.children},f),i=_n(i,f,n,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,pa(t,e.child,null,n),a=t.child,a.memoizedState=us(n),a.childLanes=rs(e,o,n),t.memoizedState=os,t=i);else if(sn(t),Ks(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var E=o.dgst;o=E,a=Error(r(419)),a.stack="",a.digest=o,Qa({value:a,source:null,stack:null}),t=ds(e,t,n)}else if(Le||Za(e,t,n,!1),o=(n&e.childLanes)!==0,Le||o){if(o=Ee,o!==null&&(a=n&-n,a=(a&42)!==0?1:$i(a),a=(a&(o.suspendedLanes|n))!==0?0:a,a!==0&&a!==p.retryLane))throw p.retryLane=a,na(e,a),pt(o,e,a),Nr;f.data==="$?"||Rs(),t=ds(e,t,n)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,_e=Mt(f.nextSibling),Fe=t,me=!0,Dn=null,Rt=!1,e!==null&&(xt[bt++]=Ht,xt[bt++]=Yt,xt[bt++]=Rn,Ht=e.id,Yt=e.overflow,Rn=t),t=fs(t,a.children),t.flags|=4096);return t}return i?(on(),i=a.fallback,f=t.mode,p=e.child,E=p.sibling,a=Ut(p,{mode:"hidden",children:a.children}),a.subtreeFlags=p.subtreeFlags&65011712,E!==null?i=Ut(E,i):(i=_n(i,f,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,f=e.child.memoizedState,f===null?f=us(n):(p=f.cachePool,p!==null?(E=He._currentValue,p=p.parent!==E?{parent:E,pool:E}:p):p=Au(),f={baseLanes:f.baseLanes|n,cachePool:p}),i.memoizedState=f,i.childLanes=rs(e,o,n),t.memoizedState=os,a):(sn(t),n=e.child,e=n.sibling,n=Ut(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function fs(e,t){return t=mi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function mi(e,t){return e=ot(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ds(e,t,n){return pa(t,e.child,null,n),e=fs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ur(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Rc(e.return,t,n)}function ps(e,t,n,a,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=n,c.tailMode=i)}function Hr(e,t,n){var a=t.pendingProps,i=a.revealOrder,c=a.tail;if(Qe(e,t,a.children,n),a=Ye.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ur(e,n,t);else if(e.tag===19)Ur(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(L(Ye,a),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ps(t,!1,i,n,c);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fi(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ps(t,!0,n,null,c);break;case"together":ps(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Za(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Ut(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ut(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hs(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Jl(e)))}function Kp(e,t,n){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),tn(t,He,e.memoizedState.cache),Ga();break;case 27:case 5:Gi(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:tn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(sn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Cr(e,t,n):(sn(t),e=Qt(e,t,n),e!==null?e.sibling:null);sn(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Za(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Hr(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),L(Ye,Ye.current),a)break;return null;case 22:case 23:return t.lanes=0,zr(e,t,n);case 24:tn(t,He,e.memoizedState.cache)}return Qt(e,t,n)}function Yr(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Le=!0;else{if(!hs(e,n)&&(t.flags&128)===0)return Le=!1,Kp(e,t,n);Le=(e.flags&131072)!==0}else Le=!1,me&&(t.flags&1048576)!==0&&mu(t,$l,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")Tc(a)?(e=Hn(a,e),t.tag=1,t=jr(null,t,a,e,n)):(t.tag=0,t=ss(null,t,a,e,n));else{if(a!=null){if(i=a.$$typeof,i===X){t.tag=11,t=Or(null,t,a,e,n);break e}else if(i===ye){t.tag=14,t=_r(null,t,a,e,n);break e}}throw t=We(a)||a,Error(r(306,t,""))}}return t;case 0:return ss(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Hn(a,t.pendingProps),jr(e,t,a,i,n);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var c=t.memoizedState;i=c.element,Uc(e,t),Ia(t,a,null,n);var o=t.memoizedState;if(a=o.cache,tn(t,He,a),a!==c.cache&&zc(t,[He],n,!0),Fa(),a=o.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Br(e,t,a,n);break e}else if(a!==i){i=yt(Error(r(424)),t),Qa(i),t=Br(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=Mt(e.firstChild),Fe=t,me=!0,Dn=null,Rt=!0,n=gr(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ga(),a===i){t=Qt(e,t,n);break e}Qe(e,t,a,n)}t=t.child}return t;case 26:return hi(e,t),e===null?(n=Qf(t.type,null,t.pendingProps,null))?t.memoizedState=n:me||(n=t.type,e=t.pendingProps,a=_i(te.current).createElement(n),a[Ke]=t,a[Ie]=e,Ve(a,n,e),ke(a),t.stateNode=a):t.memoizedState=Qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Gi(t),e===null&&me&&(a=t.stateNode=Lf(t.type,t.pendingProps,te.current),Fe=t,Rt=!0,i=_e,gn(t.type)?($s=i,_e=Mt(a.firstChild)):_e=i),Qe(e,t,t.pendingProps.children,n),hi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((i=a=_e)&&(a=Sh(a,t.type,t.pendingProps,Rt),a!==null?(t.stateNode=a,Fe=t,_e=Mt(a.firstChild),Rt=!1,i=!0):i=!1),i||qn(t)),Gi(t),i=t.type,c=t.pendingProps,o=e!==null?e.memoizedProps:null,a=c.children,Qs(i,c)?a=null:o!==null&&Qs(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Gc(e,t,Yp,null,null,n),vl._currentValue=i),hi(e,t),Qe(e,t,a,n),t.child;case 6:return e===null&&me&&((e=n=_e)&&(n=Ah(n,t.pendingProps,Rt),n!==null?(t.stateNode=n,Fe=t,_e=null,e=!0):e=!1),e||qn(t)),null;case 13:return Cr(e,t,n);case 4:return Me(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=pa(t,null,a,n):Qe(e,t,a,n),t.child;case 11:return Or(e,t,t.type,t.pendingProps,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,tn(t,t.type,a.value),Qe(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Bn(t),i=$e(i),a=a(i),t.flags|=1,Qe(e,t,a,n),t.child;case 14:return _r(e,t,t.type,t.pendingProps,n);case 15:return Rr(e,t,t.type,t.pendingProps,n);case 19:return Hr(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=mi(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Ut(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zr(e,t,n);case 24:return Bn(t),a=$e(He),e===null?(i=jc(),i===null&&(i=Ee,c=Dc(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=n),i=c),t.memoizedState={parent:a,cache:i},Cc(t),tn(t,He,i)):((e.lanes&n)!==0&&(Uc(e,t),Ia(t,null,null,n),Fa()),i=e.memoizedState,c=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),tn(t,He,a)):(a=c.cache,tn(t,He,a),a!==i.cache&&zc(t,[He],n,!0))),Qe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Zt(e){e.flags|=4}function kr(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jf(t)){if(t=vt.current,t!==null&&((de&4194048)===de?zt!==null:(de&62914560)!==de&&(de&536870912)===0||t!==zt))throw Ja=Bc,Tu;e.flags|=8192}}function yi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xo():536870912,e.lanes|=t,ga|=t)}function il(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $p(e,t,n){var a=t.pendingProps;switch(Nc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Lt(He),Ft(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xa(t)?Zt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xu())),Oe(t),null;case 26:return n=t.memoizedState,e===null?(Zt(t),n!==null?(Oe(t),kr(t,n)):(Oe(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zt(t),Oe(t),kr(t,n)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==a&&Zt(t),Oe(t),t.flags&=-16777217),null;case 27:Nl(t),n=te.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}e=J.current,Xa(t)?yu(t):(e=Lf(i,a,n),t.stateNode=e,Zt(t))}return Oe(t),null;case 5:if(Nl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}if(e=J.current,Xa(t))yu(t);else{switch(i=_i(te.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}e[Ke]=t,e[Ie]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Ve(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zt(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=te.current,Xa(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Fe,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ke]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||jf(e.nodeValue,n)),e||qn(t)}else e=_i(e).createTextNode(a),e[Ke]=t,t.stateNode=e}return Oe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Xa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[Ke]=t}else Ga(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else i=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Gt(t),t):(Gt(t),null)}if(Gt(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var c=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),yi(t,t.updateQueue),Oe(t),null;case 4:return Ft(),e===null&&Ys(t.stateNode.containerInfo),Oe(t),null;case 10:return Lt(t.type),Oe(t),null;case 19:if(Y(Ye),i=t.memoizedState,i===null)return Oe(t),null;if(a=(t.flags&128)!==0,c=i.rendering,c===null)if(a)il(i,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=fi(e),c!==null){for(t.flags|=128,il(i,!1),e=c.updateQueue,t.updateQueue=e,yi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)hu(n,e),n=n.sibling;return L(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&_t()>bi&&(t.flags|=128,a=!0,il(i,!1),t.lanes=4194304)}else{if(!a)if(e=fi(c),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,yi(t,e),il(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!me)return Oe(t),null}else 2*_t()-i.renderingStartTime>bi&&n!==536870912&&(t.flags|=128,a=!0,il(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_t(),t.sibling=null,e=Ye.current,L(Ye,a?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return Gt(t),Lc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),n=t.updateQueue,n!==null&&yi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Y(Cn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Lt(He),Oe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Jp(e,t){switch(Nc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lt(He),Ft(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Nl(t),null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ye),null;case 4:return Ft(),null;case 10:return Lt(t.type),null;case 22:case 23:return Gt(t),Lc(),e!==null&&Y(Cn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Lt(He),null;case 25:return null;default:return null}}function Lr(e,t){switch(Nc(t),t.tag){case 3:Lt(He),Ft();break;case 26:case 27:case 5:Nl(t);break;case 4:Ft();break;case 13:Gt(t);break;case 19:Y(Ye);break;case 10:Lt(t.type);break;case 22:case 23:Gt(t),Lc(),e!==null&&Y(Cn);break;case 24:Lt(He)}}function cl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var c=n.create,o=n.inst;a=c(),o.destroy=a}n=n.next}while(n!==i)}}catch(f){Te(t,t.return,f)}}function un(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var c=i.next;a=c;do{if((a.tag&e)===e){var o=a.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,i=t;var p=n,E=f;try{E()}catch(_){Te(i,p,_)}}}a=a.next}while(a!==c)}}catch(_){Te(t,t.return,_)}}function Xr(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_u(t,n)}catch(a){Te(e,e.return,a)}}}function Gr(e,t,n){n.props=Hn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Te(e,t,a)}}function sl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Te(e,t,i)}}function Dt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Te(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Te(e,t,i)}else n.current=null}function Qr(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Te(e,e.return,i)}}function ms(e,t,n){try{var a=e.stateNode;yh(a,e.type,n,t),a[Ie]=t}catch(i){Te(e,e.return,i)}}function Zr(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gn(e.type)||e.tag===4}function ys(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zr(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oi));else if(a!==4&&(a===27&&gn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gs(e,t,n),e=e.sibling;e!==null;)gs(e,t,n),e=e.sibling}function gi(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&gn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(gi(e,t,n),e=e.sibling;e!==null;)gi(e,t,n),e=e.sibling}function Vr(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ve(t,a,n),t[Ke]=e,t[Ie]=n}catch(c){Te(e,e.return,c)}}var Vt=!1,De=!1,xs=!1,Kr=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Wp(e,t){if(e=e.containerInfo,Xs=Bi,e=lu(e),yc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var o=0,f=-1,p=-1,E=0,_=0,z=e,M=null;t:for(;;){for(var O;z!==n||i!==0&&z.nodeType!==3||(f=o+i),z!==c||a!==0&&z.nodeType!==3||(p=o+a),z.nodeType===3&&(o+=z.nodeValue.length),(O=z.firstChild)!==null;)M=z,z=O;for(;;){if(z===e)break t;if(M===n&&++E===i&&(f=o),M===c&&++_===a&&(p=o),(O=z.nextSibling)!==null)break;z=M,M=z.parentNode}z=O}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gs={focusedElem:e,selectionRange:n},Bi=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){switch(t=Xe,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,i=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var ee=Hn(n.type,i,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(ee,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(W){Te(n,n.return,W)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vs(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vs(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}}function $r(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n),a&4&&cl(5,n);break;case 1:if(rn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Te(n,n.return,o)}else{var i=Hn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Te(n,n.return,o)}}a&64&&Xr(n),a&512&&sl(n,n.return);break;case 3:if(rn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_u(e,t)}catch(o){Te(n,n.return,o)}}break;case 27:t===null&&a&4&&Vr(n);case 26:case 5:rn(e,n),t===null&&a&4&&Qr(n),a&512&&sl(n,n.return);break;case 12:rn(e,n);break;case 13:rn(e,n),a&4&&Fr(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ih.bind(null,n),Th(e,n))));break;case 22:if(a=n.memoizedState!==null||Vt,!a){t=t!==null&&t.memoizedState!==null||De,i=Vt;var c=De;Vt=a,(De=t)&&!c?fn(e,n,(n.subtreeFlags&8772)!==0):rn(e,n),Vt=i,De=c}break;case 30:break;default:rn(e,n)}}function Jr(e){var t=e.alternate;t!==null&&(e.alternate=null,Jr(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ne=null,tt=!1;function Kt(e,t,n){for(n=n.child;n!==null;)Wr(e,t,n),n=n.sibling}function Wr(e,t,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Oa,n)}catch{}switch(n.tag){case 26:De||Dt(n,t),Kt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:De||Dt(n,t);var a=Ne,i=tt;gn(n.type)&&(Ne=n.stateNode,tt=!1),Kt(e,t,n),yl(n.stateNode),Ne=a,tt=i;break;case 5:De||Dt(n,t);case 6:if(a=Ne,i=tt,Ne=null,Kt(e,t,n),Ne=a,tt=i,Ne!==null)if(tt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(c){Te(n,t,c)}else try{Ne.removeChild(n.stateNode)}catch(c){Te(n,t,c)}break;case 18:Ne!==null&&(tt?(e=Ne,Yf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),El(e)):Yf(Ne,n.stateNode));break;case 4:a=Ne,i=tt,Ne=n.stateNode.containerInfo,tt=!0,Kt(e,t,n),Ne=a,tt=i;break;case 0:case 11:case 14:case 15:De||un(2,n,t),De||un(4,n,t),Kt(e,t,n);break;case 1:De||(Dt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Gr(n,t,a)),Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:De=(a=De)||n.memoizedState!==null,Kt(e,t,n),De=a;break;default:Kt(e,t,n)}}function Fr(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(n){Te(t,t.return,n)}}function Fp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kr),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kr),t;default:throw Error(r(435,e.tag))}}function bs(e,t){var n=Fp(e);t.forEach(function(a){var i=ch.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}function ut(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],c=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if(gn(f.type)){Ne=f.stateNode,tt=!1;break e}break;case 5:Ne=f.stateNode,tt=!1;break e;case 3:case 4:Ne=f.stateNode.containerInfo,tt=!0;break e}f=f.return}if(Ne===null)throw Error(r(160));Wr(c,o,i),Ne=null,tt=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ir(t,e),t=t.sibling}var wt=null;function Ir(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ut(t,e),rt(e),a&4&&(un(3,e,e.return),cl(3,e),un(5,e,e.return));break;case 1:ut(t,e),rt(e),a&512&&(De||n===null||Dt(n,n.return)),a&64&&Vt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=wt;if(ut(t,e),rt(e),a&512&&(De||n===null||Dt(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":c=i.getElementsByTagName("title")[0],(!c||c[za]||c[Ke]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(a),i.head.insertBefore(c,i.querySelector("head > title"))),Ve(c,a,n),c[Ke]=e,ke(c),a=c;break e;case"link":var o=Kf("link","href",i).get(a+(n.href||""));if(o){for(var f=0;f<o.length;f++)if(c=o[f],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(f,1);break t}}c=i.createElement(a),Ve(c,a,n),i.head.appendChild(c);break;case"meta":if(o=Kf("meta","content",i).get(a+(n.content||""))){for(f=0;f<o.length;f++)if(c=o[f],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(f,1);break t}}c=i.createElement(a),Ve(c,a,n),i.head.appendChild(c);break;default:throw Error(r(468,a))}c[Ke]=e,ke(c),a=c}e.stateNode=a}else $f(i,e.type,e.stateNode);else e.stateNode=Vf(i,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?$f(i,e.type,e.stateNode):Vf(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ms(e,e.memoizedProps,n.memoizedProps)}break;case 27:ut(t,e),rt(e),a&512&&(De||n===null||Dt(n,n.return)),n!==null&&a&4&&ms(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ut(t,e),rt(e),a&512&&(De||n===null||Dt(n,n.return)),e.flags&32){i=e.stateNode;try{Jn(i,"")}catch(O){Te(e,e.return,O)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,ms(e,i,n!==null?n.memoizedProps:i)),a&1024&&(xs=!0);break;case 6:if(ut(t,e),rt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(O){Te(e,e.return,O)}}break;case 3:if(Di=null,i=wt,wt=Ri(t.containerInfo),ut(t,e),wt=i,rt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(O){Te(e,e.return,O)}xs&&(xs=!1,Pr(e));break;case 4:a=wt,wt=Ri(e.stateNode.containerInfo),ut(t,e),rt(e),wt=a;break;case 12:ut(t,e),rt(e);break;case 13:ut(t,e),rt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ws=_t()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,bs(e,a)));break;case 22:i=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,E=Vt,_=De;if(Vt=E||i,De=_||p,ut(t,e),De=_,Vt=E,rt(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||p||Vt||De||Yn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(c=p.stateNode,i)o=c.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=p.stateNode;var z=p.memoizedProps.style,M=z!=null&&z.hasOwnProperty("display")?z.display:null;f.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(O){Te(p,p.return,O)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=i?"":p.memoizedProps}catch(O){Te(p,p.return,O)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,bs(e,n))));break;case 19:ut(t,e),rt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,bs(e,a)));break;case 30:break;case 21:break;default:ut(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Zr(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode,c=ys(e);gi(e,c,i);break;case 5:var o=n.stateNode;n.flags&32&&(Jn(o,""),n.flags&=-33);var f=ys(e);gi(e,f,o);break;case 3:case 4:var p=n.stateNode.containerInfo,E=ys(e);gs(e,E,p);break;default:throw Error(r(161))}}catch(_){Te(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pr(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Pr(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$r(e,t.alternate,t),t=t.sibling}function Yn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:un(4,t,t.return),Yn(t);break;case 1:Dt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Gr(t,t.return,n),Yn(t);break;case 27:yl(t.stateNode);case 26:case 5:Dt(t,t.return),Yn(t);break;case 22:t.memoizedState===null&&Yn(t);break;case 30:Yn(t);break;default:Yn(t)}e=e.sibling}}function fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,c=t,o=c.flags;switch(c.tag){case 0:case 11:case 15:fn(i,c,n),cl(4,c);break;case 1:if(fn(i,c,n),a=c,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(E){Te(a,a.return,E)}if(a=c,i=a.updateQueue,i!==null){var f=a.stateNode;try{var p=i.shared.hiddenCallbacks;if(p!==null)for(i.shared.hiddenCallbacks=null,i=0;i<p.length;i++)Ou(p[i],f)}catch(E){Te(a,a.return,E)}}n&&o&64&&Xr(c),sl(c,c.return);break;case 27:Vr(c);case 26:case 5:fn(i,c,n),n&&a===null&&o&4&&Qr(c),sl(c,c.return);break;case 12:fn(i,c,n);break;case 13:fn(i,c,n),n&&o&4&&Fr(i,c);break;case 22:c.memoizedState===null&&fn(i,c,n),sl(c,c.return);break;case 30:break;default:fn(i,c,n)}t=t.sibling}}function vs(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Va(n))}function Ss(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Va(e))}function qt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ef(e,t,n,a),t=t.sibling}function ef(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,n,a),i&2048&&cl(9,t);break;case 1:qt(e,t,n,a);break;case 3:qt(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Va(e)));break;case 12:if(i&2048){qt(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,o=c.id,f=c.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Te(t,t.return,p)}}else qt(e,t,n,a);break;case 13:qt(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,o=t.alternate,t.memoizedState!==null?c._visibility&2?qt(e,t,n,a):ol(e,t):c._visibility&2?qt(e,t,n,a):(c._visibility|=2,ha(e,t,n,a,(t.subtreeFlags&10256)!==0)),i&2048&&vs(o,t);break;case 24:qt(e,t,n,a),i&2048&&Ss(t.alternate,t);break;default:qt(e,t,n,a)}}function ha(e,t,n,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,o=t,f=n,p=a,E=o.flags;switch(o.tag){case 0:case 11:case 15:ha(c,o,f,p,i),cl(8,o);break;case 23:break;case 22:var _=o.stateNode;o.memoizedState!==null?_._visibility&2?ha(c,o,f,p,i):ol(c,o):(_._visibility|=2,ha(c,o,f,p,i)),i&&E&2048&&vs(o.alternate,o);break;case 24:ha(c,o,f,p,i),i&&E&2048&&Ss(o.alternate,o);break;default:ha(c,o,f,p,i)}t=t.sibling}}function ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:ol(n,a),i&2048&&vs(a.alternate,a);break;case 24:ol(n,a),i&2048&&Ss(a.alternate,a);break;default:ol(n,a)}t=t.sibling}}var ul=8192;function ma(e){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)tf(e),e=e.sibling}function tf(e){switch(e.tag){case 26:ma(e),e.flags&ul&&e.memoizedState!==null&&Ch(wt,e.memoizedState,e.memoizedProps);break;case 5:ma(e);break;case 3:case 4:var t=wt;wt=Ri(e.stateNode.containerInfo),ma(e),wt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ul,ul=16777216,ma(e),ul=t):ma(e));break;default:ma(e)}}function nf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function rl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Xe=a,lf(a,e)}nf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)af(e),e=e.sibling}function af(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&un(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xi(e)):rl(e);break;default:rl(e)}}function xi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Xe=a,lf(a,e)}nf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:un(8,t,t.return),xi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,xi(t));break;default:xi(t)}e=e.sibling}}function lf(e,t){for(;Xe!==null;){var n=Xe;switch(n.tag){case 0:case 11:case 15:un(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Va(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Xe=a;else e:for(n=e;Xe!==null;){a=Xe;var i=a.sibling,c=a.return;if(Jr(a),a===n){Xe=null;break e}if(i!==null){i.return=c,Xe=i;break e}Xe=c}}}var Ip={getCacheForType:function(e){var t=$e(He),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Pp=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ee=null,re=null,de=0,xe=0,ft=null,dn=!1,ya=!1,As=!1,$t=0,Re=0,pn=0,kn=0,Ts=0,St=0,ga=0,fl=null,nt=null,Es=!1,ws=0,bi=1/0,vi=null,hn=null,Ze=0,mn=null,xa=null,ba=0,Ms=0,Ns=null,cf=null,dl=0,Os=null;function dt(){if((ge&2)!==0&&de!==0)return de&-de;if(w.T!==null){var e=ca;return e!==0?e:Bs()}return So()}function sf(){St===0&&(St=(de&536870912)===0||me?go():536870912);var e=vt.current;return e!==null&&(e.flags|=32),St}function pt(e,t,n){(e===Ee&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(va(e,0),yn(e,de,St,!1)),Ra(e,n),((ge&2)===0||e!==Ee)&&(e===Ee&&((ge&2)===0&&(kn|=n),Re===4&&yn(e,de,St,!1)),jt(e))}function of(e,t,n){if((ge&6)!==0)throw Error(r(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||_a(e,t),i=a?nh(e,t):zs(e,t,!0),c=a;do{if(i===0){ya&&!a&&yn(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!eh(n)){i=zs(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;i=fl;var p=f.current.memoizedState.isDehydrated;if(p&&(va(f,o).flags|=256),o=zs(f,o,!1),o!==2){if(As&&!p){f.errorRecoveryDisabledLanes|=c,kn|=c,i=4;break e}c=nt,nt=i,c!==null&&(nt===null?nt=c:nt.push.apply(nt,c))}i=o}if(c=!1,i!==2)continue}}if(i===1){va(e,0),yn(e,t,0,!0);break}e:{switch(a=e,c=i,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:yn(a,t,St,!dn);break e;case 2:nt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=ws+300-_t(),10<i)){if(yn(a,t,St,!dn),zl(a,0,!0)!==0)break e;a.timeoutHandle=Uf(uf.bind(null,a,n,nt,vi,Es,t,St,kn,ga,dn,c,2,-0,0),i);break e}uf(a,n,nt,vi,Es,t,St,kn,ga,dn,c,0,-0,0)}}break}while(!0);jt(e)}function uf(e,t,n,a,i,c,o,f,p,E,_,z,M,O){if(e.timeoutHandle=-1,z=t.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:Bh},tf(t),z=Uh(),z!==null)){e.cancelPendingCommit=z(yf.bind(null,e,t,c,n,a,i,o,f,p,_,1,M,O)),yn(e,c,o,!E);return}yf(e,t,c,n,a,i,o,f,p)}function eh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],c=i.getSnapshot;i=i.value;try{if(!st(c(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t,n,a){t&=~Ts,t&=~kn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var c=31-ct(i),o=1<<c;a[c]=-1,i&=~o}n!==0&&bo(e,n,t)}function Si(){return(ge&6)===0?(pl(0),!1):!0}function _s(){if(re!==null){if(xe===0)var e=re.return;else e=re,kt=jn=null,Vc(e),da=null,al=0,e=re;for(;e!==null;)Lr(e.alternate,e),e=e.return;re=null}}function va(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,xh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_s(),Ee=e,re=n=Ut(e.current,null),de=t,xe=0,ft=null,dn=!1,ya=_a(e,t),As=!1,ga=St=Ts=kn=pn=Re=0,nt=fl=null,Es=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-ct(a),c=1<<i;t|=e[i],a&=~c}return $t=t,Gl(),n}function rf(e,t){ie=null,w.H=oi,t===$a||t===Il?(t=Mu(),xe=3):t===Tu?(t=Mu(),xe=4):xe=t===Nr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ft=t,re===null&&(Re=1,pi(e,yt(t,e.current)))}function ff(){var e=w.H;return w.H=oi,e===null?oi:e}function df(){var e=w.A;return w.A=Ip,e}function Rs(){Re=4,dn||(de&4194048)!==de&&vt.current!==null||(ya=!0),(pn&134217727)===0&&(kn&134217727)===0||Ee===null||yn(Ee,de,St,!1)}function zs(e,t,n){var a=ge;ge|=2;var i=ff(),c=df();(Ee!==e||de!==t)&&(vi=null,va(e,t)),t=!1;var o=Re;e:do try{if(xe!==0&&re!==null){var f=re,p=ft;switch(xe){case 8:_s(),o=6;break e;case 3:case 2:case 9:case 6:vt.current===null&&(t=!0);var E=xe;if(xe=0,ft=null,Sa(e,f,p,E),n&&ya){o=0;break e}break;default:E=xe,xe=0,ft=null,Sa(e,f,p,E)}}th(),o=Re;break}catch(_){rf(e,_)}while(!0);return t&&e.shellSuspendCounter++,kt=jn=null,ge=a,w.H=i,w.A=c,re===null&&(Ee=null,de=0,Gl()),o}function th(){for(;re!==null;)pf(re)}function nh(e,t){var n=ge;ge|=2;var a=ff(),i=df();Ee!==e||de!==t?(vi=null,bi=_t()+500,va(e,t)):ya=_a(e,t);e:do try{if(xe!==0&&re!==null){t=re;var c=ft;t:switch(xe){case 1:xe=0,ft=null,Sa(e,t,c,1);break;case 2:case 9:if(Eu(c)){xe=0,ft=null,hf(t);break}t=function(){xe!==2&&xe!==9||Ee!==e||(xe=7),jt(e)},c.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Eu(c)?(xe=0,ft=null,hf(t)):(xe=0,ft=null,Sa(e,t,c,7));break;case 5:var o=null;switch(re.tag){case 26:o=re.memoizedState;case 5:case 27:var f=re;if(!o||Jf(o)){xe=0,ft=null;var p=f.sibling;if(p!==null)re=p;else{var E=f.return;E!==null?(re=E,Ai(E)):re=null}break t}}xe=0,ft=null,Sa(e,t,c,5);break;case 6:xe=0,ft=null,Sa(e,t,c,6);break;case 8:_s(),Re=6;break e;default:throw Error(r(462))}}ah();break}catch(_){rf(e,_)}while(!0);return kt=jn=null,w.H=a,w.A=i,ge=n,re!==null?0:(Ee=null,de=0,Gl(),Re)}function ah(){for(;re!==null&&!wd();)pf(re)}function pf(e){var t=Yr(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?Ai(e):re=t}function hf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qr(n,t,t.pendingProps,t.type,void 0,de);break;case 11:t=qr(n,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:Vc(t);default:Lr(n,t),t=re=hu(t,$t),t=Yr(n,t,$t)}e.memoizedProps=e.pendingProps,t===null?Ai(e):re=t}function Sa(e,t,n,a){kt=jn=null,Vc(t),da=null,al=0;var i=t.return;try{if(Vp(e,i,t,n,de)){Re=1,pi(e,yt(n,e.current)),re=null;return}}catch(c){if(i!==null)throw re=i,c;Re=1,pi(e,yt(n,e.current)),re=null;return}t.flags&32768?(me||a===1?e=!0:ya||(de&536870912)!==0?e=!1:(dn=e=!0,(a===2||a===9||a===3||a===6)&&(a=vt.current,a!==null&&a.tag===13&&(a.flags|=16384))),mf(t,e)):Ai(t)}function Ai(e){var t=e;do{if((t.flags&32768)!==0){mf(t,dn);return}e=t.return;var n=$p(t.alternate,t,$t);if(n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);Re===0&&(Re=5)}function mf(e,t){do{var n=Jp(e.alternate,e);if(n!==null){n.flags&=32767,re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=n}while(e!==null);Re=6,re=null}function yf(e,t,n,a,i,c,o,f,p){e.cancelPendingCommit=null;do Ti();while(Ze!==0);if((ge&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Sc,Bd(e,n,c,o,f,p),e===Ee&&(re=Ee=null,de=0),xa=t,mn=e,ba=n,Ms=c,Ns=i,cf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sh(Ol,function(){return Sf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,i=j.p,j.p=2,o=ge,ge|=4;try{Wp(e,t,n)}finally{ge=o,j.p=i,w.T=a}}Ze=1,gf(),xf(),bf()}}function gf(){if(Ze===1){Ze=0;var e=mn,t=xa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var a=j.p;j.p=2;var i=ge;ge|=4;try{Ir(t,e);var c=Gs,o=lu(e.containerInfo),f=c.focusedElem,p=c.selectionRange;if(o!==f&&f&&f.ownerDocument&&au(f.ownerDocument.documentElement,f)){if(p!==null&&yc(f)){var E=p.start,_=p.end;if(_===void 0&&(_=E),"selectionStart"in f)f.selectionStart=E,f.selectionEnd=Math.min(_,f.value.length);else{var z=f.ownerDocument||document,M=z&&z.defaultView||window;if(M.getSelection){var O=M.getSelection(),ee=f.textContent.length,W=Math.min(p.start,ee),Ae=p.end===void 0?W:Math.min(p.end,ee);!O.extend&&W>Ae&&(o=Ae,Ae=W,W=o);var b=nu(f,W),y=nu(f,Ae);if(b&&y&&(O.rangeCount!==1||O.anchorNode!==b.node||O.anchorOffset!==b.offset||O.focusNode!==y.node||O.focusOffset!==y.offset)){var A=z.createRange();A.setStart(b.node,b.offset),O.removeAllRanges(),W>Ae?(O.addRange(A),O.extend(y.node,y.offset)):(A.setEnd(y.node,y.offset),O.addRange(A))}}}}for(z=[],O=f;O=O.parentNode;)O.nodeType===1&&z.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<z.length;f++){var R=z[f];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}Bi=!!Xs,Gs=Xs=null}finally{ge=i,j.p=a,w.T=n}}e.current=t,Ze=2}}function xf(){if(Ze===2){Ze=0;var e=mn,t=xa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var a=j.p;j.p=2;var i=ge;ge|=4;try{$r(e,t.alternate,t)}finally{ge=i,j.p=a,w.T=n}}Ze=3}}function bf(){if(Ze===4||Ze===3){Ze=0,Md();var e=mn,t=xa,n=ba,a=cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ze=5:(Ze=0,xa=mn=null,vf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(hn=null),Ji(n),t=t.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Oa,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=w.T,i=j.p,j.p=2,w.T=null;try{for(var c=e.onRecoverableError,o=0;o<a.length;o++){var f=a[o];c(f.value,{componentStack:f.stack})}}finally{w.T=t,j.p=i}}(ba&3)!==0&&Ti(),jt(e),i=e.pendingLanes,(n&4194090)!==0&&(i&42)!==0?e===Os?dl++:(dl=0,Os=e):dl=0,pl(0)}}function vf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Va(t)))}function Ti(e){return gf(),xf(),bf(),Sf()}function Sf(){if(Ze!==5)return!1;var e=mn,t=Ms;Ms=0;var n=Ji(ba),a=w.T,i=j.p;try{j.p=32>n?32:n,w.T=null,n=Ns,Ns=null;var c=mn,o=ba;if(Ze=0,xa=mn=null,ba=0,(ge&6)!==0)throw Error(r(331));var f=ge;if(ge|=4,af(c.current),ef(c,c.current,o,n),ge=f,pl(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Oa,c)}catch{}return!0}finally{j.p=i,w.T=a,vf(e,t)}}function Af(e,t,n){t=yt(n,t),t=cs(e.stateNode,t,2),e=ln(e,t,2),e!==null&&(Ra(e,2),jt(e))}function Te(e,t,n){if(e.tag===3)Af(e,e,n);else for(;t!==null;){if(t.tag===3){Af(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hn===null||!hn.has(a))){e=yt(n,e),n=wr(2),a=ln(t,n,2),a!==null&&(Mr(n,a,t,e),Ra(a,2),jt(a));break}}t=t.return}}function Ds(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Pp;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(As=!0,i.add(n),e=lh.bind(null,e,t,n),t.then(e,e))}function lh(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ee===e&&(de&n)===n&&(Re===4||Re===3&&(de&62914560)===de&&300>_t()-ws?(ge&2)===0&&va(e,0):Ts|=n,ga===de&&(ga=0)),jt(e)}function Tf(e,t){t===0&&(t=xo()),e=na(e,t),e!==null&&(Ra(e,t),jt(e))}function ih(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tf(e,n)}function ch(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Tf(e,n)}function sh(e,t){return Zi(e,t)}var Ei=null,Aa=null,qs=!1,wi=!1,js=!1,Ln=0;function jt(e){e!==Aa&&e.next===null&&(Aa===null?Ei=Aa=e:Aa=Aa.next=e),wi=!0,qs||(qs=!0,uh())}function pl(e,t){if(!js&&wi){js=!0;do for(var n=!1,a=Ei;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var c=0;else{var o=a.suspendedLanes,f=a.pingedLanes;c=(1<<31-ct(42|e)+1)-1,c&=i&~(o&~f),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Nf(a,c))}else c=de,c=zl(a,a===Ee?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||_a(a,c)||(n=!0,Nf(a,c));a=a.next}while(n);js=!1}}function oh(){Ef()}function Ef(){wi=qs=!1;var e=0;Ln!==0&&(gh()&&(e=Ln),Ln=0);for(var t=_t(),n=null,a=Ei;a!==null;){var i=a.next,c=wf(a,t);c===0?(a.next=null,n===null?Ei=i:n.next=i,i===null&&(Aa=n)):(n=a,(e!==0||(c&3)!==0)&&(wi=!0)),a=i}pl(e)}function wf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var o=31-ct(c),f=1<<o,p=i[o];p===-1?((f&n)===0||(f&a)!==0)&&(i[o]=jd(f,t)):p<=t&&(e.expiredLanes|=f),c&=~f}if(t=Ee,n=de,n=zl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Vi(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||_a(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Vi(a),Ji(n)){case 2:case 8:n=mo;break;case 32:n=Ol;break;case 268435456:n=yo;break;default:n=Ol}return a=Mf.bind(null,e),n=Zi(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Vi(a),e.callbackPriority=2,e.callbackNode=null,2}function Mf(e,t){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ti()&&e.callbackNode!==n)return null;var a=de;return a=zl(e,e===Ee?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(of(e,a,t),wf(e,_t()),e.callbackNode!=null&&e.callbackNode===n?Mf.bind(null,e):null)}function Nf(e,t){if(Ti())return null;of(e,t,!0)}function uh(){bh(function(){(ge&6)!==0?Zi(ho,oh):Ef()})}function Bs(){return Ln===0&&(Ln=go()),Ln}function Of(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cl(""+e)}function _f(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function rh(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var c=Of((i[Ie]||null).action),o=a.submitter;o&&(t=(t=o[Ie]||null)?Of(t.formAction):o.getAttribute("formAction"),t!==null&&(c=t,o=null));var f=new kl("action","action",null,a,i);e.push({event:f,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ln!==0){var p=o?_f(i,o):new FormData(i);ts(n,{pending:!0,data:p,method:i.method,action:c},null,p)}}else typeof c=="function"&&(f.preventDefault(),p=o?_f(i,o):new FormData(i),ts(n,{pending:!0,data:p,method:i.method,action:c},c,p))},currentTarget:i}]})}}for(var Cs=0;Cs<vc.length;Cs++){var Us=vc[Cs],fh=Us.toLowerCase(),dh=Us[0].toUpperCase()+Us.slice(1);Et(fh,"on"+dh)}Et(su,"onAnimationEnd"),Et(ou,"onAnimationIteration"),Et(uu,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(_p,"onTransitionRun"),Et(Rp,"onTransitionStart"),Et(zp,"onTransitionCancel"),Et(ru,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ph=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Rf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var o=a.length-1;0<=o;o--){var f=a[o],p=f.instance,E=f.currentTarget;if(f=f.listener,p!==c&&i.isPropagationStopped())break e;c=f,i.currentTarget=E;try{c(i)}catch(_){di(_)}i.currentTarget=null,c=p}else for(o=0;o<a.length;o++){if(f=a[o],p=f.instance,E=f.currentTarget,f=f.listener,p!==c&&i.isPropagationStopped())break e;c=f,i.currentTarget=E;try{c(i)}catch(_){di(_)}i.currentTarget=null,c=p}}}}function fe(e,t){var n=t[Wi];n===void 0&&(n=t[Wi]=new Set);var a=e+"__bubble";n.has(a)||(zf(t,e,2,!1),n.add(a))}function Hs(e,t,n){var a=0;t&&(a|=4),zf(n,e,a,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Ys(e){if(!e[Mi]){e[Mi]=!0,To.forEach(function(n){n!=="selectionchange"&&(ph.has(n)||Hs(n,!1,e),Hs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,Hs("selectionchange",!1,t))}}function zf(e,t,n,a){switch(td(t)){case 2:var i=kh;break;case 8:i=Lh;break;default:i=Ps}n=i.bind(null,t,n,e),i=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ks(e,t,n,a,i){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var f=a.stateNode.containerInfo;if(f===i)break;if(o===4)for(o=a.return;o!==null;){var p=o.tag;if((p===3||p===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;f!==null;){if(o=Gn(f),o===null)return;if(p=o.tag,p===5||p===6||p===26||p===27){a=c=o;continue e}f=f.parentNode}}a=a.return}Uo(function(){var E=c,_=ic(n),z=[];e:{var M=fu.get(e);if(M!==void 0){var O=kl,ee=e;switch(e){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":O=sp;break;case"focusin":ee="focus",O=fc;break;case"focusout":ee="blur",O=fc;break;case"beforeblur":case"afterblur":O=fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=rp;break;case su:case ou:case uu:O=Id;break;case ru:O=dp;break;case"scroll":case"scrollend":O=Kd;break;case"wheel":O=hp;break;case"copy":case"cut":case"paste":O=ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Xo;break;case"toggle":case"beforetoggle":O=yp}var W=(t&4)!==0,Ae=!W&&(e==="scroll"||e==="scrollend"),b=W?M!==null?M+"Capture":null:M;W=[];for(var y=E,A;y!==null;){var R=y;if(A=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||A===null||b===null||(R=qa(y,b),R!=null&&W.push(ml(y,R,A))),Ae)break;y=y.return}0<W.length&&(M=new O(M,ee,null,n,_),z.push({event:M,listeners:W}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",M&&n!==lc&&(ee=n.relatedTarget||n.fromElement)&&(Gn(ee)||ee[Xn]))break e;if((O||M)&&(M=_.window===_?_:(M=_.ownerDocument)?M.defaultView||M.parentWindow:window,O?(ee=n.relatedTarget||n.toElement,O=E,ee=ee?Gn(ee):null,ee!==null&&(Ae=g(ee),W=ee.tag,ee!==Ae||W!==5&&W!==27&&W!==6)&&(ee=null)):(O=null,ee=E),O!==ee)){if(W=ko,R="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(W=Xo,R="onPointerLeave",b="onPointerEnter",y="pointer"),Ae=O==null?M:Da(O),A=ee==null?M:Da(ee),M=new W(R,y+"leave",O,n,_),M.target=Ae,M.relatedTarget=A,R=null,Gn(_)===E&&(W=new W(b,y+"enter",ee,n,_),W.target=A,W.relatedTarget=Ae,R=W),Ae=R,O&&ee)t:{for(W=O,b=ee,y=0,A=W;A;A=Ta(A))y++;for(A=0,R=b;R;R=Ta(R))A++;for(;0<y-A;)W=Ta(W),y--;for(;0<A-y;)b=Ta(b),A--;for(;y--;){if(W===b||b!==null&&W===b.alternate)break t;W=Ta(W),b=Ta(b)}W=null}else W=null;O!==null&&Df(z,M,O,W,!1),ee!==null&&Ae!==null&&Df(z,Ae,ee,W,!0)}}e:{if(M=E?Da(E):window,O=M.nodeName&&M.nodeName.toLowerCase(),O==="select"||O==="input"&&M.type==="file")var G=Wo;else if($o(M))if(Fo)G=Mp;else{G=Ep;var se=Tp}else O=M.nodeName,!O||O.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?E&&ac(E.elementType)&&(G=Wo):G=wp;if(G&&(G=G(e,E))){Jo(z,G,n,_);break e}se&&se(e,M,E),e==="focusout"&&E&&M.type==="number"&&E.memoizedProps.value!=null&&nc(M,"number",M.value)}switch(se=E?Da(E):window,e){case"focusin":($o(se)||se.contentEditable==="true")&&(Pn=se,gc=E,La=null);break;case"focusout":La=gc=Pn=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,iu(z,n,_);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":iu(z,n,_)}var K;if(pc)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else In?Vo(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Go&&n.locale!=="ko"&&(In||F!=="onCompositionStart"?F==="onCompositionEnd"&&In&&(K=Ho()):(en=_,oc="value"in en?en.value:en.textContent,In=!0)),se=Ni(E,F),0<se.length&&(F=new Lo(F,e,null,n,_),z.push({event:F,listeners:se}),K?F.data=K:(K=Ko(n),K!==null&&(F.data=K)))),(K=xp?bp(e,n):vp(e,n))&&(F=Ni(E,"onBeforeInput"),0<F.length&&(se=new Lo("onBeforeInput","beforeinput",null,n,_),z.push({event:se,listeners:F}),se.data=K)),rh(z,e,E,n,_)}Rf(z,t)})}function ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ni(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=qa(e,n),i!=null&&a.unshift(ml(e,i,c)),i=qa(e,t),i!=null&&a.push(ml(e,i,c))),e.tag===3)return a;e=e.return}return[]}function Ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Df(e,t,n,a,i){for(var c=t._reactName,o=[];n!==null&&n!==a;){var f=n,p=f.alternate,E=f.stateNode;if(f=f.tag,p!==null&&p===a)break;f!==5&&f!==26&&f!==27||E===null||(p=E,i?(E=qa(n,c),E!=null&&o.unshift(ml(n,E,p))):i||(E=qa(n,c),E!=null&&o.push(ml(n,E,p)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hh=/\r\n?/g,mh=/\u0000|\uFFFD/g;function qf(e){return(typeof e=="string"?e:""+e).replace(hh,`
`).replace(mh,"")}function jf(e,t){return t=qf(t),qf(e)===t}function Oi(){}function Se(e,t,n,a,i,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Jn(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Jn(e,""+a);break;case"className":ql(e,"class",a);break;case"tabIndex":ql(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,n,a);break;case"style":Bo(e,a,c);break;case"data":if(t!=="object"){ql(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Cl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Se(e,t,"name",i.name,i,null),Se(e,t,"formEncType",i.formEncType,i,null),Se(e,t,"formMethod",i.formMethod,i,null),Se(e,t,"formTarget",i.formTarget,i,null)):(Se(e,t,"encType",i.encType,i,null),Se(e,t,"method",i.method,i,null),Se(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Cl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Oi);break;case"onScroll":a!=null&&fe("scroll",e);break;case"onScrollEnd":a!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Cl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Dl(e,"popover",a);break;case"xlinkActuate":Bt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Bt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Bt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Bt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Bt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Bt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Dl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Zd.get(n)||n,Dl(e,n,a))}}function Ls(e,t,n,a,i,c){switch(n){case"style":Bo(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Jn(e,a):(typeof a=="number"||typeof a=="bigint")&&Jn(e,""+a);break;case"onScroll":a!=null&&fe("scroll",e);break;case"onScrollEnd":a!=null&&fe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),c=e[Ie]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Dl(e,n,a)}}}function Ve(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var a=!1,i=!1,c;for(c in n)if(n.hasOwnProperty(c)){var o=n[c];if(o!=null)switch(c){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,c,o,n,null)}}i&&Se(e,t,"srcSet",n.srcSet,n,null),a&&Se(e,t,"src",n.src,n,null);return;case"input":fe("invalid",e);var f=c=o=i=null,p=null,E=null;for(a in n)if(n.hasOwnProperty(a)){var _=n[a];if(_!=null)switch(a){case"name":i=_;break;case"type":o=_;break;case"checked":p=_;break;case"defaultChecked":E=_;break;case"value":c=_;break;case"defaultValue":f=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(137,t));break;default:Se(e,t,a,_,n,null)}}zo(e,c,f,p,E,o,i,!1),jl(e);return;case"select":fe("invalid",e),a=o=c=null;for(i in n)if(n.hasOwnProperty(i)&&(f=n[i],f!=null))switch(i){case"value":c=f;break;case"defaultValue":o=f;break;case"multiple":a=f;default:Se(e,t,i,f,n,null)}t=c,n=o,e.multiple=!!a,t!=null?$n(e,!!a,t,!1):n!=null&&$n(e,!!a,n,!0);return;case"textarea":fe("invalid",e),c=i=a=null;for(o in n)if(n.hasOwnProperty(o)&&(f=n[o],f!=null))switch(o){case"value":a=f;break;case"defaultValue":i=f;break;case"children":c=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:Se(e,t,o,f,n,null)}qo(e,a,i,c),jl(e);return;case"option":for(p in n)if(n.hasOwnProperty(p)&&(a=n[p],a!=null))switch(p){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Se(e,t,p,a,n,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(a=0;a<hl.length;a++)fe(hl[a],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in n)if(n.hasOwnProperty(E)&&(a=n[E],a!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,E,a,n,null)}return;default:if(ac(t)){for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!==void 0&&Ls(e,t,_,a,n,void 0));return}}for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!=null&&Se(e,t,f,a,n,null))}function yh(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,o=null,f=null,p=null,E=null,_=null;for(O in n){var z=n[O];if(n.hasOwnProperty(O)&&z!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":p=z;default:a.hasOwnProperty(O)||Se(e,t,O,null,a,z)}}for(var M in a){var O=a[M];if(z=n[M],a.hasOwnProperty(M)&&(O!=null||z!=null))switch(M){case"type":c=O;break;case"name":i=O;break;case"checked":E=O;break;case"defaultChecked":_=O;break;case"value":o=O;break;case"defaultValue":f=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:O!==z&&Se(e,t,M,O,a,z)}}tc(e,o,f,p,E,_,c,i);return;case"select":O=o=f=M=null;for(c in n)if(p=n[c],n.hasOwnProperty(c)&&p!=null)switch(c){case"value":break;case"multiple":O=p;default:a.hasOwnProperty(c)||Se(e,t,c,null,a,p)}for(i in a)if(c=a[i],p=n[i],a.hasOwnProperty(i)&&(c!=null||p!=null))switch(i){case"value":M=c;break;case"defaultValue":f=c;break;case"multiple":o=c;default:c!==p&&Se(e,t,i,c,a,p)}t=f,n=o,a=O,M!=null?$n(e,!!n,M,!1):!!a!=!!n&&(t!=null?$n(e,!!n,t,!0):$n(e,!!n,n?[]:"",!1));return;case"textarea":O=M=null;for(f in n)if(i=n[f],n.hasOwnProperty(f)&&i!=null&&!a.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Se(e,t,f,null,a,i)}for(o in a)if(i=a[o],c=n[o],a.hasOwnProperty(o)&&(i!=null||c!=null))switch(o){case"value":M=i;break;case"defaultValue":O=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==c&&Se(e,t,o,i,a,c)}Do(e,M,O);return;case"option":for(var ee in n)if(M=n[ee],n.hasOwnProperty(ee)&&M!=null&&!a.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Se(e,t,ee,null,a,M)}for(p in a)if(M=a[p],O=n[p],a.hasOwnProperty(p)&&M!==O&&(M!=null||O!=null))switch(p){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Se(e,t,p,M,a,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in n)M=n[W],n.hasOwnProperty(W)&&M!=null&&!a.hasOwnProperty(W)&&Se(e,t,W,null,a,M);for(E in a)if(M=a[E],O=n[E],a.hasOwnProperty(E)&&M!==O&&(M!=null||O!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:Se(e,t,E,M,a,O)}return;default:if(ac(t)){for(var Ae in n)M=n[Ae],n.hasOwnProperty(Ae)&&M!==void 0&&!a.hasOwnProperty(Ae)&&Ls(e,t,Ae,void 0,a,M);for(_ in a)M=a[_],O=n[_],!a.hasOwnProperty(_)||M===O||M===void 0&&O===void 0||Ls(e,t,_,M,a,O);return}}for(var b in n)M=n[b],n.hasOwnProperty(b)&&M!=null&&!a.hasOwnProperty(b)&&Se(e,t,b,null,a,M);for(z in a)M=a[z],O=n[z],!a.hasOwnProperty(z)||M===O||M==null&&O==null||Se(e,t,z,M,a,O)}var Xs=null,Gs=null;function _i(e){return e.nodeType===9?e:e.ownerDocument}function Bf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zs=null;function gh(){var e=window.event;return e&&e.type==="popstate"?e===Zs?!1:(Zs=e,!0):(Zs=null,!1)}var Uf=typeof setTimeout=="function"?setTimeout:void 0,xh=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,bh=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(vh)}:Uf;function vh(e){setTimeout(function(){throw e})}function gn(e){return e==="head"}function Yf(e,t){var n=t,a=0,i=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(0<a&&8>a){n=a;var o=e.ownerDocument;if(n&1&&yl(o.documentElement),n&2&&yl(o.body),n&4)for(n=o.head,yl(n),o=n.firstChild;o;){var f=o.nextSibling,p=o.nodeName;o[za]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=f}}if(i===0){e.removeChild(c),El(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:a=n.charCodeAt(0)-48;else a=0;n=c}while(n);El(t)}function Vs(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vs(n),Fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Sh(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[za])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Mt(e.nextSibling),e===null)break}return null}function Ah(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mt(e.nextSibling),e===null))return null;return e}function Ks(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Th(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var $s=null;function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Lf(e,t,n){switch(t=_i(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fi(e)}var At=new Map,Xf=new Set;function Ri(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jt=j.d;j.d={f:Eh,r:wh,D:Mh,C:Nh,L:Oh,m:_h,X:zh,S:Rh,M:Dh};function Eh(){var e=Jt.f(),t=Si();return e||t}function wh(e){var t=Qn(e);t!==null&&t.tag===5&&t.type==="form"?sr(t):Jt.r(e)}var Ea=typeof document>"u"?null:document;function Gf(e,t,n){var a=Ea;if(a&&typeof t=="string"&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Xf.has(i)||(Xf.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Ve(t,"link",e),ke(t),a.head.appendChild(t)))}}function Mh(e){Jt.D(e),Gf("dns-prefetch",e,null)}function Nh(e,t){Jt.C(e,t),Gf("preconnect",e,t)}function Oh(e,t,n){Jt.L(e,t,n);var a=Ea;if(a&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var c=i;switch(t){case"style":c=wa(e);break;case"script":c=Ma(e)}At.has(c)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),At.set(c,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(gl(c))||t==="script"&&a.querySelector(xl(c))||(t=a.createElement("link"),Ve(t,"link",e),ke(t),a.head.appendChild(t)))}}function _h(e,t){Jt.m(e,t);var n=Ea;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+mt(a)+'"][href="'+mt(e)+'"]',c=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ma(e)}if(!At.has(c)&&(e=v({rel:"modulepreload",href:e},t),At.set(c,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xl(c)))return}a=n.createElement("link"),Ve(a,"link",e),ke(a),n.head.appendChild(a)}}}function Rh(e,t,n){Jt.S(e,t,n);var a=Ea;if(a&&e){var i=Zn(a).hoistableStyles,c=wa(e);t=t||"default";var o=i.get(c);if(!o){var f={loading:0,preload:null};if(o=a.querySelector(gl(c)))f.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=At.get(c))&&Js(e,n);var p=o=a.createElement("link");ke(p),Ve(p,"link",e),p._p=new Promise(function(E,_){p.onload=E,p.onerror=_}),p.addEventListener("load",function(){f.loading|=1}),p.addEventListener("error",function(){f.loading|=2}),f.loading|=4,zi(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:f},i.set(c,o)}}}function zh(e,t){Jt.X(e,t);var n=Ea;if(n&&e){var a=Zn(n).hoistableScripts,i=Ma(e),c=a.get(i);c||(c=n.querySelector(xl(i)),c||(e=v({src:e,async:!0},t),(t=At.get(i))&&Ws(e,t),c=n.createElement("script"),ke(c),Ve(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function Dh(e,t){Jt.M(e,t);var n=Ea;if(n&&e){var a=Zn(n).hoistableScripts,i=Ma(e),c=a.get(i);c||(c=n.querySelector(xl(i)),c||(e=v({src:e,async:!0,type:"module"},t),(t=At.get(i))&&Ws(e,t),c=n.createElement("script"),ke(c),Ve(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function Qf(e,t,n,a){var i=(i=te.current)?Ri(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wa(n.href),n=Zn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wa(n.href);var c=Zn(i).hoistableStyles,o=c.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,o),(c=i.querySelector(gl(e)))&&!c._p&&(o.instance=c,o.state.loading=5),At.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},At.set(e,n),c||qh(i,e,n,o.state))),t&&a===null)throw Error(r(528,""));return o}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ma(n),n=Zn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wa(e){return'href="'+mt(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function Zf(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function qh(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ve(t,"link",n),ke(t),e.head.appendChild(t))}function Ma(e){return'[src="'+mt(e)+'"]'}function xl(e){return"script[async]"+e}function Vf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(a)return t.instance=a,ke(a),a;var i=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ke(a),Ve(a,"style",i),zi(a,n.precedence,e),t.instance=a;case"stylesheet":i=wa(n.href);var c=e.querySelector(gl(i));if(c)return t.state.loading|=4,t.instance=c,ke(c),c;a=Zf(n),(i=At.get(i))&&Js(a,i),c=(e.ownerDocument||e).createElement("link"),ke(c);var o=c;return o._p=new Promise(function(f,p){o.onload=f,o.onerror=p}),Ve(c,"link",a),t.state.loading|=4,zi(c,n.precedence,e),t.instance=c;case"script":return c=Ma(n.src),(i=e.querySelector(xl(c)))?(t.instance=i,ke(i),i):(a=n,(i=At.get(c))&&(a=v({},n),Ws(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),ke(i),Ve(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,zi(a,n.precedence,e));return t.instance}function zi(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,c=i,o=0;o<a.length;o++){var f=a[o];if(f.dataset.precedence===t)c=f;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Js(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ws(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Di=null;function Kf(e,t,n){if(Di===null){var a=new Map,i=Di=new Map;i.set(n,a)}else i=Di,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var c=n[i];if(!(c[za]||c[Ke]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var o=c.getAttribute(t)||"";o=e+o;var f=a.get(o);f?f.push(c):a.set(o,[c])}}return a}function $f(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function jh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var bl=null;function Bh(){}function Ch(e,t,n){if(bl===null)throw Error(r(475));var a=bl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=wa(n.href),c=e.querySelector(gl(i));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=qi.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=c,ke(c);return}c=e.ownerDocument||e,n=Zf(n),(i=At.get(i))&&Js(n,i),c=c.createElement("link"),ke(c);var o=c;o._p=new Promise(function(f,p){o.onload=f,o.onerror=p}),Ve(c,"link",n),t.instance=c}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=qi.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Uh(){if(bl===null)throw Error(r(475));var e=bl;return e.stylesheets&&e.count===0&&Fs(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Fs(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function qi(){if(this.count--,this.count===0){if(this.stylesheets)Fs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ji=null;function Fs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ji=new Map,t.forEach(Hh,e),ji=null,qi.call(e))}function Hh(e,t){if(!(t.state.loading&4)){var n=ji.get(e);if(n)var a=n.get(null);else{n=new Map,ji.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var o=i[c];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),a=o)}a&&n.set(null,a)}i=t.instance,o=i.getAttribute("data-precedence"),c=n.get(o)||a,c===a&&n.set(null,i),n.set(o,i),this.count++,a=qi.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var vl={$$typeof:D,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Yh(e,t,n,a,i,c,o,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Wf(e,t,n,a,i,c,o,f,p,E,_,z){return e=new Yh(e,t,n,o,f,p,E,z),t=1,c===!0&&(t|=24),c=ot(3,null,null,t),e.current=c,c.stateNode=e,t=Dc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},Cc(c),e}function Ff(e){return e?(e=aa,e):aa}function If(e,t,n,a,i,c){i=Ff(i),a.context===null?a.context=i:a.pendingContext=i,a=an(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=ln(e,a,t),n!==null&&(pt(n,e,t),Wa(n,e,t))}function Pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Is(e,t){Pf(e,t),(e=e.alternate)&&Pf(e,t)}function ed(e){if(e.tag===13){var t=na(e,67108864);t!==null&&pt(t,e,67108864),Is(e,67108864)}}var Bi=!0;function kh(e,t,n,a){var i=w.T;w.T=null;var c=j.p;try{j.p=2,Ps(e,t,n,a)}finally{j.p=c,w.T=i}}function Lh(e,t,n,a){var i=w.T;w.T=null;var c=j.p;try{j.p=8,Ps(e,t,n,a)}finally{j.p=c,w.T=i}}function Ps(e,t,n,a){if(Bi){var i=eo(a);if(i===null)ks(e,t,a,Ci,n),nd(e,a);else if(Gh(i,e,t,n,a))a.stopPropagation();else if(nd(e,a),t&4&&-1<Xh.indexOf(e)){for(;i!==null;){var c=Qn(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var o=En(c.pendingLanes);if(o!==0){var f=c;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var p=1<<31-ct(o);f.entanglements[1]|=p,o&=~p}jt(c),(ge&6)===0&&(bi=_t()+500,pl(0))}}break;case 13:f=na(c,2),f!==null&&pt(f,c,2),Si(),Is(c,2)}if(c=eo(a),c===null&&ks(e,t,a,Ci,n),c===i)break;i=c}i!==null&&a.stopPropagation()}else ks(e,t,a,null,n)}}function eo(e){return e=ic(e),to(e)}var Ci=null;function to(e){if(Ci=null,e=Gn(e),e!==null){var t=g(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ci=e,null}function td(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nd()){case ho:return 2;case mo:return 8;case Ol:case Od:return 32;case yo:return 268435456;default:return 32}default:return 32}}var no=!1,xn=null,bn=null,vn=null,Sl=new Map,Al=new Map,Sn=[],Xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nd(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(t.pointerId)}}function Tl(e,t,n,a,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[i]},t!==null&&(t=Qn(t),t!==null&&ed(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Gh(e,t,n,a,i){switch(t){case"focusin":return xn=Tl(xn,e,t,n,a,i),!0;case"dragenter":return bn=Tl(bn,e,t,n,a,i),!0;case"mouseover":return vn=Tl(vn,e,t,n,a,i),!0;case"pointerover":var c=i.pointerId;return Sl.set(c,Tl(Sl.get(c)||null,e,t,n,a,i)),!0;case"gotpointercapture":return c=i.pointerId,Al.set(c,Tl(Al.get(c)||null,e,t,n,a,i)),!0}return!1}function ad(e){var t=Gn(e.target);if(t!==null){var n=g(t);if(n!==null){if(t=n.tag,t===13){if(t=N(n),t!==null){e.blockedOn=t,Cd(e.priority,function(){if(n.tag===13){var a=dt();a=$i(a);var i=na(n,a);i!==null&&pt(i,n,a),Is(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eo(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);lc=a,n.target.dispatchEvent(a),lc=null}else return t=Qn(n),t!==null&&ed(t),e.blockedOn=n,!1;t.shift()}return!0}function ld(e,t,n){Ui(e)&&n.delete(t)}function Qh(){no=!1,xn!==null&&Ui(xn)&&(xn=null),bn!==null&&Ui(bn)&&(bn=null),vn!==null&&Ui(vn)&&(vn=null),Sl.forEach(ld),Al.forEach(ld)}function Hi(e,t){e.blockedOn===t&&(e.blockedOn=null,no||(no=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Qh)))}var Yi=null;function id(e){Yi!==e&&(Yi=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Yi===e&&(Yi=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(to(a||n)===null)continue;break}var c=Qn(n);c!==null&&(e.splice(t,3),t-=3,ts(c,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function El(e){function t(p){return Hi(p,e)}xn!==null&&Hi(xn,e),bn!==null&&Hi(bn,e),vn!==null&&Hi(vn,e),Sl.forEach(t),Al.forEach(t);for(var n=0;n<Sn.length;n++){var a=Sn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)ad(n),n.blockedOn===null&&Sn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],c=n[a+1],o=i[Ie]||null;if(typeof c=="function")o||id(n);else if(o){var f=null;if(c&&c.hasAttribute("formAction")){if(i=c,o=c[Ie]||null)f=o.formAction;else if(to(i)!==null)continue}else f=o.action;typeof f=="function"?n[a+1]=f:(n.splice(a,3),a-=3),id(n)}}}function ao(e){this._internalRoot=e}ki.prototype.render=ao.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,a=dt();If(n,a,e,t,null,null)},ki.prototype.unmount=ao.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;If(e.current,2,null,e,null,null),Si(),t[Xn]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=So();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&ad(e)}};var cd=s.version;if(cd!=="19.1.1")throw Error(r(527,cd,"19.1.1"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var Zh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{Oa=Li.inject(Zh),it=Li}catch{}}return Ml.createRoot=function(e,t){if(!d(e))throw Error(r(299));var n=!1,a="",i=Sr,c=Ar,o=Tr,f=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=Wf(e,1,!1,null,null,n,a,i,c,o,f,null),e[Xn]=t.current,Ys(e),new ao(t)},Ml.hydrateRoot=function(e,t,n){if(!d(e))throw Error(r(299));var a=!1,i="",c=Sr,o=Ar,f=Tr,p=null,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(f=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(p=n.unstable_transitionCallbacks),n.formState!==void 0&&(E=n.formState)),t=Wf(e,1,!0,t,n??null,a,i,c,o,f,p,E),t.context=Ff(null),n=t.current,a=dt(),a=$i(a),i=an(a),i.callback=null,ln(n,i,a),n=a,t.current.lanes=n,Ra(t,n),jt(t),e[Xn]=t.current,Ys(e),new ki(t)},Ml.version="19.1.1",Ml}var yd;function tm(){if(yd)return co.exports;yd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),co.exports=em(),co.exports}var nm=tm();const am={definition:{exec:function*(l,s,u){const r=l.pop();yield*u(Array.isArray(r)?r:[r],l,s)},description:"Executes a program (quotation) from the stack.",effect:"[[P]] -> ..."},examples:[{code:"[1 1 +] i",expected:[2]},{code:"[1 2 +] i",expected:[3]},{code:"[i] meh = [1 1 +] meh",expected:[2]}]},lm={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();yield*u(r,l,s),l.push(d)},description:"Saves the top element, executes a program, then restores the element.",effect:"[A [P]] -> [A]"},examples:[{code:"10 [20 30 +] dip",expected:[50,10]},{code:"1 [2 3 +] dip [4 5 +] dip",expected:[5,9,1]}]},im={definition:{exec:function*(l,s,u){const[r,d]=[l.pop(),l.pop()],g=[];for(const N of d){const T=[N];yield*u([...r],T,s),g.push(...T)}l.push(g)},description:"Applies a program to each element of a list, creating a new list of results.",effect:"[L [P]] -> [L']"},examples:[{code:"[1 2 3 4] [dup *] map",expected:[[1,4,9,16]]},{code:"[] [succ] map",expected:[[]]}]},cm={definition:{exec:function*(l,s,u){const[r,d]=[l.pop(),l.pop()],g=[];for(const N of d){const T=[N];yield*u([...r],T,s),T.pop()&&g.push(N)}l.push(g)},description:"Creates a new list containing only elements for which a program returns true.",effect:"[L [P]] -> [L']"},examples:[{code:"[1 2 3 4 5] [2 % 0 ==] filter",expected:[[2,4]]},{code:'["a" "b" 1 2] [string?] filter',expected:[["a","b"]]}]},sm={definition:{exec:function*(l,s,u){const[r,d]=[l.pop(),l.pop()];for(const g of d)l.push(g),yield*u([...r],l,s)},description:"Applies a program to each element of a list, accumulating results on the main stack.",effect:"[A L [P]] -> ..."},examples:[{code:"0 [1 2 3 4] [+] step",expected:[10]},{code:"1 [2 3 4] [*] step",expected:[24]}]},om={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();yield*u(l.pop()?d:r,l,s)},description:"If-then-else. [B] [T] [F] ifte. If B is true, executes T, else executes F.",effect:"[B [T] [F]] -> ..."},examples:[{code:"true [1] [2] ifte",expected:[1]},{code:"false [1] [2] ifte",expected:[2]},{code:'1 0 > ["yes"] ["no"] ifte',expected:["yes"]}]},um={definition:{exec:function*(l,s,u){const r=l.pop();let d=l.pop();if(typeof r!="number"||!Number.isInteger(r)||r<0)throw new Error("times expects an integer count on top of the stack.");let g=Array.isArray(d)?d:[d];for(let N=0;N<r;N++)yield*u([...g],l,s)},description:"Executes a program a specific number of times.",effect:"[X N [P]] -> [...]"},examples:[{code:"10 [2 *] 3 times",expected:[80]},{code:"0 [succ] 5 times",expected:[5]},{code:["0 state =","[1 +] combinator =","[combinator state yield] next =","[next] 3 times"],expected:[1,2,3]}]},rm={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();for(yield*u([...d],l,s);l.pop();)yield*u([...r],l,s),yield*u([...d],l,s)},description:"Executes a body program as long as a test program returns true.",effect:"[ [B] [D] ] -> ..."},examples:[{code:"5 [dup 0 >] [1 -] while",expected:[0]},{code:"0 [false] [pop] while",expected:[0]}]},fm={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();l.pop()?yield*u(d,l,s):yield*u(r,l,s)},description:"If the boolean B is true, executes T, otherwise executes F.",effect:"[B [T] [F]] -> ..."},examples:[{code:'10 5 > ["Greater"] ["Not Greater"] branch',expected:["Greater"]},{code:'5 10 > ["Greater"] ["Not Greater"] branch',expected:["Not Greater"]}]},dm={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),N=[g];yield*u(d,N,s);const T=[g];yield*u(r,T,s),l.push(...N,...T)},description:"Applies two programs to the same value, leaving both results on the stack.",effect:"[X [P1] [P2]] -> [R1 R2]"},examples:[{code:"10 [dup *] [1 +] cleave",expected:[100,11]},{code:"[1 2] [size] [first] cleave",expected:[2,1]}]},pm={definition:{exec:function*(l,s,u){const r=l.pop();if(!Array.isArray(r)||r.length===0)return;const d=l[l.length-1],g=r.pop();for(const N of r){if(!Array.isArray(N)||N.length!==2)continue;const[T,x]=N,h=[d];if(yield*u(T,h,s),h.pop()){yield*u(x,l,s);return}}Array.isArray(g)&&g.length>0&&(yield*u(g[0],l,s))},description:"Executes the program for the first true condition. The last element is the default case.",effect:"[V [ [C1 T1] .. [D] ]] -> ..."},examples:[{code:'2 [[ [1 ==] [pop "one"] ] [ [2 ==] [pop "two"] ] [ [pop "other"] ]] cond',expected:["two"]},{code:'3 [[ [1 ==] [pop "one"] ] [ [2 ==] [pop "two"] ] [ [pop "other"] ]] cond',expected:["other"]}]},hm={definition:{exec:function*(l,s,u,r){const d=l.pop();let g,N;if(typeof d=="symbol"){const x=Symbol.keyFor(d);if(!x)throw new Error("body: cannot get body of a non-global symbol.");g=`:${x}`,N=`:${x}`}else if(typeof d=="string"||typeof d=="number")g=String(d),N=String(d);else throw new Error(`body: expects a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const T=r[g];if(T&&"body"in T)l.push(T.body);else throw new Error(`body: '${N}' is not a user-defined symbol or has no body.`)},description:"Pushes the body (quotation) of a user-defined function onto the stack. Expects the name of the function as a bare word.",effect:"[W] -> [[B]]"},examples:[{code:"[1 +] inc = inc body",expected:[[1,"+"]]},{code:"[1 2 3] mylist = mylist body",expected:[[1,2,3]]},{code:"[42] 1 = 1 body",expected:[[42]]},{code:'["hi"] :msg = :msg body',expected:[["hi"]]}]},mm={definition:{exec:function*(l,s,u,r){const d=l.pop(),g=l.pop();let N,T;if(typeof d=="symbol"){const H=Symbol.keyFor(d);if(!H)throw new Error("yield: cannot yield to a non-global symbol.");N=`:${H}`,T=`:${H}`}else if(typeof d=="string"||typeof d=="number")N=String(d),T=String(d);else throw new Error(`yield expects a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const x=r[N];if(!x||!("body"in x)||!Array.isArray(x.body))throw new Error(`yield can only be applied to a user-defined list variable: '${T}'.`);const v=[...x.body];yield*u(g,v,s),r[N]={...x,body:v},v.length>0&&l.push(v[v.length-1])},description:"A stateful generator combinator. It applies a program to a named list variable to evolve its state, then pushes the new top value of that variable onto the stack. Syntax: `program_name_or_quotation variable_name yield`.",effect:"[P_name V_name] -> [T]"},examples:[{code:["0 counter_state =","[succ] combinator =","[combinator counter_state yield] next =","next next next"],expected:[1,2,3]},{code:["0 1 fib_state =","[swap dupd +] program =","[program fib_state yield] fib =","fib fib fib fib fib"],expected:[0,1,2,3,5,8]},{code:["10 1 =","[succ] 1 yield"],expected:[11]},{code:["[] :log =","[1] program =","[program :log yield] logit =","logit","logit"],expected:[1,1]},{code:["0 state =","[1 +] combinator =","[combinator state yield] next =","next next next"],expected:[1,2,3]},{code:["0 :state =","[1 +] :combinator =","[:combinator :state yield] :next =",":next :next :next"],expected:[1,2,3]},{code:["[[1 +] [0] yield] next =","next next next"],expected:[1,2,3]},{code:["[[1 +] 0 yield] next =","next next next"],expected:[1,2,3]}]},ym={name:"Combinators",description:"Higher-order functions that control execution flow.",definitions:{i:am,dip:lm,map:im,filter:cm,step:sm,ifte:om,times:um,while:rm,branch:fm,cleave:dm,cond:pm,body:hm,yield:mm}},gm={definition:{exec:function*(l){l.push(Math.acos(l.pop()))},description:"Arccosine.",effect:"[F] -> [G]"},examples:[{code:"0.5 acos",expected:[1.0471975511965979]},{code:"1 acos",expected:[0]}]},xm={definition:{exec:function*(l){l.push(Math.asin(l.pop()))},description:"Arcsine.",effect:"[F] -> [G]"},examples:[{code:"0.5 asin",expected:[.5235987755982989]},{code:"0 asin",expected:[0]}]},bm={definition:{exec:function*(l){l.push(Math.atan(l.pop()))},description:"Arctangent.",effect:"[F] -> [G]"},examples:[{code:"1 atan",expected:[.7853981633974483]},{code:"0 atan",expected:[0]}]},vm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Math.atan2(u,s))},description:"Arctangent of a quotient.",effect:"[F G] -> [H]"},examples:[{code:"1 1 atan2",expected:[.7853981633974483]},{code:"10 5 atan2",assert:l=>l.length===1&&typeof l[0]=="number",expectedType:"number"}]},Sm={definition:{exec:function*(l){l.push(Math.ceil(l.pop()))},description:"Rounds a number up to the nearest integer.",effect:"[F] -> [G]"},examples:[{code:"3.1 ceil",expected:[4]}]},Am={definition:{exec:function*(l){l.push(Math.cos(l.pop()))},description:"Cosine.",effect:"[F] -> [G]"},examples:[{code:"0.5 cos",assert:l=>l.length===1&&typeof l[0]=="number"},{code:"0 cos",expected:[1]}]},Tm={definition:{exec:function*(l){l.push(Math.cosh(l.pop()))},description:"Hyperbolic cosine.",effect:"[F] -> [G]"},examples:[{code:"0 cosh",expected:[1]}]},Em={definition:{exec:function*(l){l.push(Math.exp(l.pop()))},description:"Exponential function (e^x).",effect:"[F] -> [G]"},examples:[{code:"1 exp",expected:[Math.E]},{code:"0 exp",expected:[1]}]},wm={definition:{exec:function*(l){l.push(Math.floor(l.pop()))},description:"Rounds a number down to the nearest integer.",effect:"[F] -> [G]"},examples:[{code:"3.7 floor",expected:[3]}]},Mm={definition:{exec:function*(l){l.push(Math.log(l.pop()))},description:"Natural logarithm (base e).",effect:"[F] -> [G]"},examples:[{code:"1 ln",expected:[0]}]},Nm={definition:{exec:function*(l){l.push(Math.log10(l.pop()))},description:"Base-10 logarithm.",effect:"[F] -> [G]"},examples:[{code:"100 log10",expected:[2]}]},Om={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Math.pow(u,s))},description:"Raises A to the power of B.",effect:"[F G] -> [H]"},examples:[{code:"2 8 pow",expected:[256]}]},_m={definition:{exec:function*(l){l.push(Math.sin(l.pop()))},description:"Sine.",effect:"[F] -> [G]"},examples:[{code:"0.5 sin",expected:[.479425538604203]},{code:"0 sin",expected:[0]}]},Rm={definition:{exec:function*(l){l.push(Math.sinh(l.pop()))},description:"Hyperbolic sine.",effect:"[F] -> [G]"},examples:[{code:"0 sinh",expected:[0]}]},zm={definition:{exec:function*(l){l.push(Math.sqrt(l.pop()))},description:"Square root.",effect:"[F] -> [G]"},examples:[{code:"25 sqrt",expected:[5]}]},Dm={definition:{exec:function*(l){l.push(Math.tan(l.pop()))},description:"Tangent.",effect:"[F] -> [G]"},examples:[{code:"0 tan",expected:[0]}]},qm={definition:{exec:function*(l){l.push(Math.tanh(l.pop()))},description:"Hyperbolic tangent.",effect:"[F] -> [G]"},examples:[{code:"1 tanh",expected:[.7615941559557649]},{code:"0 tanh",expected:[0]}]},jm={definition:{exec:function*(l){l.push(Math.trunc(l.pop()))},description:"Truncates the fractional part of a number.",effect:"[F] -> [G]"},examples:[{code:"3.7 trunc",expected:[3]}]},Bm={definitions:{acos:gm,asin:xm,atan:bm,atan2:vm,ceil:Sm,cos:Am,cosh:Tm,exp:Em,floor:wm,ln:Mm,log10:Nm,pow:Om,sin:_m,sinh:Rm,sqrt:zm,tan:Dm,tanh:qm,trunc:jm}},Cm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(s))throw new Error("cons expects a list");l.push([u,...s])},description:"Constructs a new list by pushing an element onto the front of an existing list.",effect:"[A X] -> [B]"},examples:[{code:"1 [2 3 4] cons",expected:[[1,2,3,4]]},{code:"[] [1] cons",expected:[[[],1]]}]},Um={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(u))throw new Error("append expects a list");u.push(s),l.push(u)},description:"Appends an element to the end of a list (mutates the list).",effect:"[L E] -> [L']"},examples:[{code:"[1 2] 3 append",expected:[[1,2,3]]},{code:'[] "a" append',expected:[["a"]]}]},Hm={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("uncons expects a list.");const[u,...r]=s;l.push(r,u)},description:"Deconstructs a list into its first element and the rest of the list.",effect:"[A] -> [F R]"},examples:[{code:"[10 20 30] uncons",expected:[[20,30],10]},{code:'["a"] uncons',expected:[[],"a"]}]},Ym={definition:{exec:function*(l){l.push(l.pop()[0])},description:"Gets the first element of a list.",effect:"[[A B]] -> [A]"},examples:[{code:"[10 20 30] first",expected:[10]},{code:"[[1 2] 3] first",expected:[[1,2]]}]},km={definition:{exec:function*(l){const s=l.pop();Array.isArray(s)?l.push(...s):l.push(s)},description:"Spreads the elements of a list onto the stack.",effect:"[[A B]] -> [A B]"},examples:[{code:"[10 20 30] spread",expected:[10,20,30]},{code:"[] spread",expected:[]}]},Lm={definition:{exec:function*(l){l.push(l.pop().slice(1))},description:"Gets the rest of a list (all but the first element).",effect:"[A] -> [R]"},examples:[{code:"[10 20 30] rest",expected:[[20,30]]},{code:"[10] rest",expected:[[]]}]},Xm={definition:{exec:function*(l){const s=l.pop();s instanceof Set?l.push(s.size):l.push(s.length)},description:"Gets the number of elements in an aggregate (list, string, or set).",effect:"[A] -> [I]"},examples:[{code:"[1 2 3] size",expected:[3]},{code:'"hello" size',expected:[5]},{code:"{10 20 30} size",expected:[3]},{code:'[1 2 3] size "hello" size',expected:[3,5]},{code:"[] size",expected:[0]}]},Gm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u[s])},description:"Gets the element at a specific index.",effect:"[A I] -> [X]"},examples:[{code:"[10 20 30] 1 at",expected:[20]},{code:'"hello" 4 at',expected:["o"]}]},Qm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(s[u])},description:"Gets the element at a specific index. Infix form.",effect:"[I A] -> [X]"},examples:[{code:"1 [10 20 30] of",expected:[20]},{code:'0 "world" of',expected:["w"]}]},Zm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.slice(s))},description:"Removes the first N elements from a list.",effect:"[A N] -> [B]"},examples:[{code:"[1 2 3 4 5] 2 drop",expected:[[3,4,5]]},{code:'"hello" 3 drop',expected:["lo"]}]},Vm={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.slice(0,s))},description:"Takes the first N elements from a list.",effect:"[A N] -> [B]"},examples:[{code:"[1 2 3 4 5] 2 take",expected:[[1,2]]},{code:'"hello" 2 take',expected:["he"]}]},Km={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.concat(s))},description:"Concatenates two lists or strings.",effect:"[S T] -> [U]"},examples:[{code:"[1 2] [3 4] concat",expected:[[1,2,3,4]]},{code:'"hello " "world" concat',expected:["hello world"]},{code:"[1] [] concat",expected:[[1]]}]},$m={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("join expects a list");l.push(s.join(""))},description:"Joins a list of strings into a single string.",effect:"[[S1 S2]] -> [S]"},examples:[{code:'["hello" " " "world"] join',expected:["hello world"]},{code:'["a" "b" "c"] join',expected:["abc"]},{code:"[] join",expected:[""]}]},Jm={name:"Aggregate (List) Operators",description:"Operators for creating, deconstructing, and manipulating lists.",definitions:{cons:Cm,append:Um,uncons:Hm,first:Ym,spread:km,rest:Lm,size:Xm,at:Gm,of:Qm,drop:Zm,take:Vm,concat:Km,join:$m}},Wm={definition:{exec:function*(l){l.push(!0)},description:"Pushes the boolean value `true`.",effect:"-> B"},examples:[{code:"true",expected:[!0]}]},Fm={definition:{exec:function*(l){l.push(!1)},description:"Pushes the boolean value `false`.",effect:"-> B"},examples:[{code:"false",expected:[!1]}]},Im={definition:{exec:function*(l){l.push(Number.MAX_SAFE_INTEGER)},description:"Pushes the largest safe integer available in the JavaScript environment.",effect:"-> I"},examples:[{code:"maxint",expected:[Number.MAX_SAFE_INTEGER]}]},Pm={definition:{exec:function*(l){l.push([...l].reverse())},description:"Pushes a list representation of the current stack.",effect:".. X Y Z -> .. X Y Z [Z Y X ..]"},examples:[{code:"1 2 3 stack",expected:[1,2,3,[3,2,1]]},{code:"stack",expected:[[]]}]},e0={definition:{exec:function*(l){l.push(performance.now())},description:"Pushes the number of milliseconds since the page loaded.",effect:"-> F"},examples:[{code:"clock",assert:l=>l.length===1&&typeof l[0]=="number",expectedType:"number"}]},t0={definition:{exec:function*(l){l.push(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))},description:"Pushes a large random integer.",effect:"-> I"},examples:[{code:"rand",assert:l=>l.length===1&&Number.isInteger(l[0]),expectedType:"integer"}]},n0={definition:{exec:function*(l,s,u,r){for(const d in r)"body"in r[d]&&delete r[d];l.length=0},description:"Clears the stack and removes all user-defined words from the dictionary.",effect:"[...] -> []"},examples:[{code:"[1+] inc = 1 2 3 clearall stack",expected:[[]]},{code:"1 2 3 clearall",expected:[]}]},a0={name:"System & Environment",description:"Pushing constants and interacting with the environment.",definitions:{true:Wm,false:Fm,maxint:Im,stack:Pm,clock:e0,rand:t0,clearall:n0}},l0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();u instanceof Set&&s instanceof Set?l.push(new Set([...u].filter(r=>s.has(r)))):l.push(u&&s)},description:"Logical AND. Pops A and B, pushes A && B. If both A and B are sets, it pushes their intersection.",effect:"[A B] -> [C]"},examples:[{code:"true true and",expected:[!0]},{code:"true false and",expected:[!1]},{code:"1 0 and",expected:[0]},{code:"{1 2} {2 3} and",expected:[new Set([2])]}]},i0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();u instanceof Set&&s instanceof Set?l.push(new Set([...u,...s])):l.push(u||s)},description:"Logical OR. Pops A and B, pushes A || B. If both A and B are sets, it pushes their union.",effect:"[A B] -> [C]"},examples:[{code:"true false or",expected:[!0]},{code:"false false or",expected:[!1]},{code:"1 0 or",expected:[1]},{code:"{1 2} {2 3} or",expected:[new Set([1,2,3])]}]},c0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(u instanceof Set&&s instanceof Set){const r=[...u].filter(g=>!s.has(g)),d=[...s].filter(g=>!u.has(g));l.push(new Set([...r,...d]))}else l.push(!!(u^s))},description:"Logical XOR. Pops A and B, pushes A ^ B. If both A and B are sets, it pushes their symmetric difference.",effect:"[A B] -> [C]"},examples:[{code:"true true xor",expected:[!1]},{code:"true false xor",expected:[!0]},{code:"1 0 xor",expected:[!0]},{code:"{1 2} {2 3} xor",expected:[new Set([1,3])]}]},s0={definition:{exec:function*(l){l.push(!l.pop())},description:"Logical NOT. Replaces top of stack with its logical negation.",effect:"[A] -> [!A]"},examples:[{code:"true not",expected:[!1]},{code:"false not",expected:[!0]},{code:"0 not",expected:[!0]}]},o0={name:"Set operations",description:"Operators for performing set operations (intersection, union, difference) and boolean logic.",definitions:{and:l0,or:i0,xor:c0,not:s0}},u0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)+(s??0))},description:"Adds the top two elements.",effect:"[A B] -> [C]"},examples:[{code:"10 20 +",expected:[30]},{code:"-5 5 +",expected:[0]},{code:"1.5 2.5 +",expected:[4]},{code:"1 +",expected:[1]},{code:"+",expected:[0]},{code:"- + = 1 1 +",expected:[0]}]},r0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)-(s??0))},description:"Subtracts the top element from the second element.",effect:"[A B] -> [C]"},examples:[{code:"30 10 -",expected:[20]},{code:"5 10 -",expected:[-5]},{code:"10 -",expected:[-10]},{code:"-",expected:[0]}]},f0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)*(s??0))},description:"Multiplies the top two elements.",effect:"[A B] -> [C]"},examples:[{code:"10 5 *",expected:[50]},{code:"-10 5 *",expected:[-50]},{code:"5 *",expected:[0]},{code:"*",expected:[0]}]},d0={definition:{exec:function*(l){if(l.length<2){l.length===1?l.pop():l.push(null);return}const s=l.pop(),u=l.pop();s===0?l.push(null):l.push(u/s)},description:"Divides the second element by the top element. Returns null if dividing by zero. Pops a single element on stack underflow.",effect:"[A B] -> [C]"},examples:[{code:"20 4 /",expected:[5]},{code:"21 4 /",expected:[5.25]},{code:"10 0 /",expected:[null]},{code:"5 /",expected:[]},{code:"/",expected:[null]},{code:"0 5 /",expected:[0]},{code:"+ / = 0 5 /",expected:[5]}]},p0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u??0)%(s??0))},description:"Modulo operator. Pushes the remainder of A / B.",effect:"[A B] -> [C]"},examples:[{code:"10 3 %",expected:[1]},{code:"-10 3 %",expected:[-1]},{code:"10 %",expected:[0]}]},h0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Math.floor(u/s),u%s)},description:"Integer division. Pushes quotient and remainder.",effect:"[I J] -> [K L]"},examples:[{code:"21 10 div",expected:[2,1]},{code:"-21 10 div",expected:[-3,-1]},{code:"10 div",assert:l=>l.length===2&&isNaN(l[0])&&isNaN(l[1]),expectedDescription:"[NaN, NaN]"},{code:"10 0 div",assert:l=>l.length===2&&l[0]===1/0&&isNaN(l[1]),expectedDescription:"[Infinity, NaN]"}]},m0={definition:{exec:function*(l){l.push((l.pop()??0)+1)},description:"Successor. Adds 1 to the top element.",effect:"[N] -> [N+1]"},examples:[{code:"10 succ",expected:[11]},{code:"-1 succ",expected:[0]},{code:"succ",expected:[1]}]},y0={definition:{exec:function*(l){l.push((l.pop()??0)-1)},description:"Predecessor. Subtracts 1 from the top element.",effect:"[N] -> [N-1]"},examples:[{code:"10 pred",expected:[9]},{code:"0 pred",expected:[-1]},{code:"pred",expected:[-1]}]},g0={definition:{exec:function*(l){l.push(Math.max(l.pop()??0,l.pop()??0))},description:"Pushes the maximum of the top two elements.",effect:"[N1 N2] -> [N]"},examples:[{code:"10 20 max",expected:[20]},{code:"-10 -20 max",expected:[-10]},{code:"10 max",expected:[10]},{code:"max",expected:[0]}]},x0={definition:{exec:function*(l){l.push(Math.min(l.pop()??0,l.pop()??0))},description:"Pushes the minimum of the top two elements.",effect:"[N1 N2] -> [N]"},examples:[{code:"10 20 min",expected:[10]},{code:"-10 -20 min",expected:[-20]},{code:"10 min",expected:[0]},{code:"min",expected:[0]}]},b0={definition:{exec:function*(l){const s=l.pop()??[];let u;if(Array.isArray(s))u=s;else if(s instanceof Set)u=Array.from(s);else throw new Error("sum expects a list or a set");l.push(u.reduce((r,d)=>r+(typeof d=="number"?d:0),0))},description:"Calculates the sum of the numbers in a list or set.",effect:"[A] -> [N]"},examples:[{code:"[1 2 3] sum",expected:[6]},{code:"{10 20 30} sum",expected:[60]},{code:"[10 -2 5] sum",expected:[13]},{code:"[] sum",expected:[0]},{code:"{} sum",expected:[0]},{code:"sum",expected:[0]},{code:['"some_value" :sum =',"[1 2 3] sum"],expected:[6]},{code:["[1 +] sum =","1 sum"],expected:[2]}]},v0={definition:{exec:function*(l){l.push(-(l.pop()??0))},description:"Negates the top element.",effect:"[N] -> [N']"},examples:[{code:"15 neg",expected:[-15]},{code:"-10 neg",expected:[10]},{code:"neg",expected:[0]}]},S0={definition:{exec:function*(l){l.push(Math.abs(l.pop()??0))},description:"Pushes the absolute value of the top element.",effect:"[N] -> [N']"},examples:[{code:"-15 abs",expected:[15]},{code:"20 abs",expected:[20]},{code:"abs",expected:[0]}]},A0={definition:{exec:function*(l){l.push(Math.sign(l.pop()??0))},description:"Pushes the sign of a number (-1, 0, or 1).",effect:"[N] -> [N']"},examples:[{code:"-15 sign",expected:[-1]},{code:"15 sign",expected:[1]},{code:"0 sign",expected:[0]},{code:"sign",expected:[0]}]},T0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)&(s|0))},description:"Bitwise AND. Pops A and B, pushes A & B. Operands are treated as 32-bit integers.",effect:"[A B] -> [C]"},examples:[{code:"6 3 &",expected:[2]},{code:"5 9 &",expected:[1]},{code:"-1 1 &",expected:[1]}]},E0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u|0|(s|0))},description:"Bitwise OR. Pops A and B, pushes A | B. Operands are treated as 32-bit integers.",effect:"[A B] -> [C]"},examples:[{code:"5 2 |",expected:[7]},{code:"4 1 |",expected:[5]}]},w0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)^(s|0))},description:"Bitwise XOR. Pops A and B, pushes A ^ B. Operands are treated as 32-bit integers.",effect:"[A B] -> [C]"},examples:[{code:"5 3 ^",expected:[6]},{code:"7 2 ^",expected:[5]}]},M0={definition:{exec:function*(l){l.push(~(l.pop()|0))},description:"Bitwise NOT. Inverts the bits of the top element. The operand is treated as a 32-bit integer.",effect:"[A] -> [C]"},examples:[{code:"5 ~",expected:[-6]},{code:"-1 ~",expected:[0]}]},N0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)<<(s|0))},description:"Bitwise left shift. Pops A and B, pushes A << B. Operands are treated as 32-bit integers.",effect:"[A B] -> [C]"},examples:[{code:"5 1 <<",expected:[10]},{code:"1 8 <<",expected:[256]}]},O0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push((u|0)>>(s|0))},description:"Bitwise (sign-propagating) right shift. Pops A and B, pushes A >> B. Operands are treated as 32-bit integers.",effect:"[A B] -> [C]"},examples:[{code:"10 1 >>",expected:[5]},{code:"-10 1 >>",expected:[-5]},{code:"255 4 >>",expected:[15]}]},_0={definitions:{"+":u0,"-":r0,"*":f0,"/":d0,"%":p0,div:h0,succ:m0,pred:y0,max:g0,min:x0,sum:b0,neg:v0,abs:S0,sign:A0,"&":T0,"|":E0,"^":w0,"~":M0,"<<":N0,">>":O0}},R0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u>=s)},description:"Tests if A is greater than or equal to B.",effect:"[A B] -> [bool]"},examples:[{code:"10 10 >=",expected:[!0]},{code:"10 5 >=",expected:[!0]},{code:"5 10 >=",expected:[!1]}]},z0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u>s)},description:"Tests if A is greater than B.",effect:"[A B] -> [bool]"},examples:[{code:"10 5 >",expected:[!0]},{code:"10 10 >",expected:[!1]},{code:"5 10 >",expected:[!1]}]},D0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u<=s)},description:"Tests if A is less than or equal to B.",effect:"[A B] -> [bool]"},examples:[{code:"5 10 <=",expected:[!0]},{code:"10 10 <=",expected:[!0]},{code:"10 5 <=",expected:[!1]}]},q0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u<s)},description:"Tests if A is less than B.",effect:"[A B] -> [bool]"},examples:[{code:"5 10 <",expected:[!0]},{code:"10 10 <",expected:[!1]},{code:"10 5 <",expected:[!1]}]},j0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u!=s)},description:"Tests for inequality.",effect:"[A B] -> [bool]"},examples:[{code:"5 10 !=",expected:[!0]},{code:"10 10 !=",expected:[!1]},{code:'"a" "b" !=',expected:[!0]}]},B0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u===s)},description:"Tests for strict equality.",effect:"[A B] -> [bool]"},examples:[{code:"10 10 ==",expected:[!0]},{code:"10 5 ==",expected:[!1]},{code:'"a" "a" ==',expected:[!0]}]},C0={definition:{exec:function*(l){const s=l.pop();l.push(s===0||Array.isArray(s)&&s.length===0)},description:"Tests if a number is 0 or a list is empty.",effect:"[A] -> [bool]"},examples:[{code:"[] null?",expected:[!0]},{code:"0 null?",expected:[!0]},{code:"[1] null?",expected:[!1]},{code:"1 null?",expected:[!1]}]},U0={definition:{exec:function*(l){const s=l.pop();l.push(s===0||s===1||Array.isArray(s)&&s.length<=1)},description:"Tests if an aggregate has 0 or 1 members.",effect:"[A] -> [bool]"},examples:[{code:"[42] small",expected:[!0]},{code:"1 small",expected:[!0]},{code:"0 small",expected:[!0]},{code:"[] small",expected:[!0]},{code:"[1 2] small",expected:[!1]},{code:"2 small",expected:[!1]}]},H0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.includes(s))},description:"Tests if a list contains an element. Postfix form.",effect:"[A X] -> [bool]"},examples:[{code:"[1 2 3] 2 has",expected:[!0]},{code:"[1 2 3] 4 has",expected:[!1]}]},Y0={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(s.includes(u))},description:"Tests if a list contains an element. Infix form.",effect:"[X A] -> [bool]"},examples:[{code:"2 [1 2 3] in",expected:[!0]},{code:"4 [1 2 3] in",expected:[!1]}]},k0={definition:{exec:function*(l){l.push(Number.isInteger(l.pop()))},description:"Tests if the top element is an integer.",effect:"[A] -> [bool]"},examples:[{code:"10 integer?",expected:[!0]},{code:"-5 integer?",expected:[!0]},{code:"10.5 integer?",expected:[!1]},{code:'"10" integer?',expected:[!1]}]},L0={definition:{exec:function*(l){const s=l.pop();l.push(typeof s=="string"&&s.length===1)},description:"Tests if the top element is a character (string of length 1).",effect:"[A] -> [bool]"},examples:[{code:'"a" char?',expected:[!0]},{code:'"ab" char?',expected:[!1]},{code:"97 chr char?",expected:[!0]}]},X0={definition:{exec:function*(l){const s=l.pop();l.push(typeof s=="boolean")},description:"Tests if the top element is a boolean (`true` or `false`).",effect:"[A] -> [bool]"},examples:[{code:"true logical?",expected:[!0]},{code:"false logical?",expected:[!0]},{code:"1 logical?",expected:[!1]},{code:'"true" logical?',expected:[!1]},{code:"[] logical?",expected:[!1]}]},G0={definition:{exec:function*(l){const s=l.pop();l.push(typeof s=="string")},description:"Tests if the top element is a string.",effect:"[A] -> [bool]"},examples:[{code:'"hi" string?',expected:[!0]},{code:'"" string?',expected:[!0]},{code:"1 string?",expected:[!1]}]},Q0={definition:{exec:function*(l){l.push(Array.isArray(l.pop()))},description:"Tests if the top element is a list.",effect:"[A] -> [bool]"},examples:[{code:"[1 2] list?",expected:[!0]},{code:"[] list?",expected:[!0]},{code:"1 list?",expected:[!1]}]},Z0={definition:{exec:function*(l){l.push(l.pop()instanceof Set)},description:"Tests if the top element is a set.",effect:"[A] -> [bool]"},examples:[{code:"{1 2} set?",expected:[!0]},{code:"[1 2] set?",expected:[!1]},{code:"{} set?",expected:[!0]}]},V0={name:"Predicates",description:"Operators that test values and return a boolean.",definitions:{">=":R0,">":z0,"<=":D0,"<":q0,"!=":j0,"==":B0,"null?":C0,small:U0,has:H0,in:Y0,"integer?":k0,"char?":L0,"logical?":X0,"string?":G0,"list?":Q0,"set?":Z0}},K0={definition:{exec:function*(l,s={},u){const[r,d,g,N]=[l.pop(),l.pop(),l.pop(),l.pop()],T=function*(h,v){const H=[h];if(yield*u([...N],H,v),H.pop()){const C=[h];return yield*u([...g],C,v),C}else{const C=[h];yield*u([...d],C,v);const k=C.pop(),$=[...C],le=yield*T(k,v),B=[...$,...le];return yield*u([...r],B,v),v.isDebug&&v.onStep([...l,...B]),B}},x=yield*T(l.pop(),s);l.push(...x)},description:"Linear recursion combinator.",effect:"..."},examples:[{code:"[[null?] [succ] [dup pred] [*] linrec] fac = 5 fac",expected:[120]},{code:"5 [[null?] [succ] [dup pred] [*] linrec] i",expected:[120]}]},$0={definition:{exec:function*(l,s={},u){const[r,d,g,N]=[l.pop(),l.pop(),l.pop(),l.pop()],T=function*(h,v){const H=[h];if(yield*u([...N],H,v),H.pop()){const C=[h];return yield*u([...g],C,v),C}else{const C=[h];yield*u([...d],C,v);const k=C.pop(),$=C.pop(),le=yield*T($,v),B=yield*T(k,v),U=[...C,...le,...B];return yield*u([...r],U,v),v.isDebug&&v.onStep([...l,...U]),U}},x=yield*T(l.pop(),s);l.push(...x)},description:"Binary recursion combinator, useful for divide-and-conquer.",effect:"..."},examples:[{code:["[ [2 <] [] [dup pred swap pred pred] [+] binrec ] fib =","8 fib"],expected:[21]}]},J0={definition:{exec:function*(l,s={},u){const[r,d]=[l.pop(),l.pop()],g=l.pop(),N=function*(T,x){if(typeof T=="number"&&T<=0||Array.isArray(T)&&T.length===0)yield*u(d,l,x);else if(typeof T=="number")yield*N(T-1,x),l.push(T),yield*u(r,l,x);else{const[h,...v]=T;yield*N(v,x),l.push(h),yield*u(r,l,x)}};l.length=0,yield*N(g,s)},description:"Primitive recursion. Executes [I] for 0 or empty list. For N > 0, executes N-1 primrec, then combines with N via [C]. For lists, recurses on rest, then combines with first via [C].",effect:"[X [I] [C]] -> [R]"},examples:[{code:"5 [1] [*] primrec",expected:[120]},{code:"[1 2 3 4] 0 [+] primrec",expected:[10]}]},W0={definition:{exec:function*(l,s={},u){const[r,d,g]=[l.pop(),l.pop(),l.pop()],N=function*(T){const x=[...l];yield*u(g,x,T),x.pop()?yield*u(d,l,T):(yield*u(r,l,T),yield*N(T))};yield*N(s)},description:"Tail recursion. Executes [T]est. If true, executes [Th]en. Else executes [R]ecurse and loops. `[... [T] [Th] [R]] tailrec`",effect:"[... [T] [Th] [R]] -> [...]"},examples:[{code:["# Factorial (tail-recursive)","# Stack state is [N Acc]","[ [swap popd dup 1 <=] [popd] [dupd swapd * swap pred swap] tailrec ] fac =","5 1 fac"],expected:[120]},{code:["# Find the last element of a list","[ [rest null?] [first] [rest] tailrec ] last =","[1 2 3 4 5] last"],expected:[5]}]},F0={definition:{exec:function*(l,s={},u){const[r,d,g,N]=[l.pop(),l.pop(),l.pop(),l.pop()];yield*function*(x){const h=[...l];if(yield*u(N,h,x),h.pop())yield*u(g,l,x);else{yield*u(d,l,x);const v=[N,g,d,r,"genrec"];l.push(v),yield*u(r,l,x)}}(s)},description:"General recursion. `[B] [T] [R1] [R2] genrec`. Executes B. If true, executes T. Else, executes R1, pushes the recursive call, then executes R2.",effect:"[... [B] [T] [R1] [R2]] -> [...]"},examples:[{code:"5 [ [dup 0 <=] [pop 1] [dup pred] [i *] genrec ] i",expected:[120]},{code:["[ [dup 0 ==] [pop 1] [dup pred] [i *] genrec ] fac =","5 fac"],expected:[120]}]},I0={definition:{exec:function*(l,s={},u){const r=l.pop(),d=function*(g){for(const N of r){if(!Array.isArray(N)||N.length<2)continue;const T=N[0],x=[...l];if(yield*u(T,x,g),x.pop()){if(N.length===2){const h=N[1];yield*u(h,l,g)}else{const[h,v,H]=N;yield*u(v,l,g),yield*d(g),yield*u(H,l,g)}return}}};yield*d(s)},description:"Conditional linear recursion. Takes a list of cases `[[B T] or [B R1 R2]...]`. Finds the first true B. If a `[T]` branch, executes T. If a `[R1 R2]` branch, executes R1, recurses, then executes R2.",effect:"[... [Cases]] -> [...]"},examples:[{code:`# Factorial with condlinrec
5 [ 
    [ [dup 0 ==] [pop 1] ]
    [ [true] [dup pred] [*] ]
] condlinrec`,expected:[120]},{code:`1 [ 
                [ [dup 0 ==] [pop 1] ]
                [ [true] [dup pred] [*] ]
            ] condlinrec`,expected:[1]}]},P0={name:"Recursive Combinators",description:"Specialized combinators for performing various forms of recursion, from simple linear patterns to the most general cases.",definitions:{linrec:K0,binrec:$0,primrec:J0,tailrec:W0,genrec:F0,condlinrec:I0}},ey={definition:{exec:function*(l){l.pop()},description:"Removes the top element from the stack.",effect:"[X] -> []"},examples:[{code:"1 2 3 pop",expected:[1,2]},{code:"[] 1 pop",expected:[[]]}]},ty={definition:{exec:function*(l){},description:"No-op. Sometimes used for clarity to indicate a value is intentionally left on the stack.",effect:"[A] -> [A]"},examples:[{code:"42 put",expected:[42]},{code:"1 2 3 put",expected:[1,2,3]}]},ny={definition:{exec:function*(l){l.push(l[l.length-1])},description:"Duplicates the top element of the stack.",effect:"[X] -> [X X]"},examples:[{code:"10 dup",expected:[10,10]},{code:"[1 2] dup",expected:[[1,2],[1,2]]}]},ay={definition:{exec:function*(l){l.push(l.pop(),l.pop())},description:"Swaps the top two elements of the stack.",effect:"[X Y] -> [Y X]"},examples:[{code:"10 20 swap",expected:[20,10]},{code:"true [1] swap",expected:[[1],!0]}]},ly={definition:{exec:function*(l){},description:"Identity function. Does nothing.",effect:"[X] -> [X]"},examples:[{code:"42 id",expected:[42]},{code:"[1 2 3] id",expected:[[1,2,3]]}]},iy={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(s,r,u)},description:"Rolls the top three stack items up.",effect:"[X Y Z] -> [Z X Y]"},examples:[{code:"1 2 3 rollup",expected:[3,1,2]},{code:"10 20 30 rollup",expected:[30,10,20]}]},cy={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(u,s,r)},description:"Rolls the top three stack items down.",effect:"[X Y Z] -> [Y Z X]"},examples:[{code:"1 2 3 rolldown",expected:[2,3,1]},{code:'"c" "b" "a" rolldown',expected:["b","a","c"]}]},sy={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(s,u,r)},description:"Rotates the top three stack items.",effect:"[X Y Z] -> [Z Y X]"},examples:[{code:"1 2 3 rotate",expected:[3,2,1]},{code:'"a" "b" "c" rotate',expected:["c","b","a"]}]},oy={definition:{exec:function*(l){const s=l.pop();l.pop(),l.push(s)},description:"Like pop, but removes the second element from the stack.",effect:"[X Y] -> [Y]"},examples:[{code:"1 2 3 popd",expected:[1,3]},{code:'"a" "b" "c" popd',expected:["a","c"]}]},uy={definition:{exec:function*(l){const s=l.pop();l.push(l[l.length-1],s)},description:"Like dup, but duplicates the second element on the stack.",effect:"[X Y] -> [X X Y]"},examples:[{code:"1 2 3 dupd",expected:[1,2,2,3]},{code:'"a" "b" dupd',expected:["a","a","b"]}]},ry={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(u,r,s)},description:"Like swap, but swaps the second and third elements.",effect:"[X Y Z] -> [Y X Z]"},examples:[{code:"10 20 30 swapd",expected:[20,10,30]},{code:"1 [2] 3 swapd",expected:[[2],1,3]}]},fy={definition:{exec:function*(l){l.length=0},description:"Removes all items from the stack, leaving it empty.",effect:"[...] -> []"},examples:[{code:"1 2 3 clearstack",expected:[]},{code:"[] clearstack",expected:[]}]},dy={name:"Stack Primitives",description:"Operators for directly manipulating the stack.",definitions:{pop:ey,put:ty,dup:ny,swap:ay,id:ly,rollup:iy,rolldown:cy,rotate:sy,popd:oy,dupd:uy,swapd:ry,clearstack:fy}},py={definition:{exec:function*(l){l.push(l.pop().charCodeAt(0))},description:"Pushes the character code of the first character of a string.",effect:"[S] -> [I]"},examples:[{code:'"A" ord',expected:[65]},{code:'"a" ord',expected:[97]}]},hy={definition:{exec:function*(l){l.push(String.fromCharCode(l.pop()))},description:"Pushes the string representation of a character code.",effect:"[I] -> [S]"},examples:[{code:"65 chr",expected:["A"]},{code:"97 chr",expected:["a"]}]},my={name:"Type & Conversion",description:"Operators for converting between data types.",definitions:{ord:py,chr:hy}},yy={definition:{exec:function*(l){l.push([l.pop()])},description:"Wraps the top element in a new list.",effect:"[X] -> [[X]]"},examples:[{code:"10 unitlist",expected:[[10]]},{code:"[1] unitlist",expected:[[[1]]]}]},gy={definition:{exec:function*(l){const s=l.pop();l.push(s.slice(1)[0]),l.push(s)},description:"Pushes the second element of a list without consuming the list.",effect:"[L] -> [E L]"},examples:[{code:"[10 20 30] second",expected:[20,[10,20,30]]},{code:'"abc" second',expected:["b","abc"]}]},xy={definition:{exec:function*(l){const s=l.pop();l.push(s.slice(2)[0]),l.push(s)},description:"Pushes the third element of a list without consuming the list.",effect:"[L] -> [E L]"},examples:[{code:"[10 20 30] third",expected:[30,[10,20,30]]},{code:'"abc" third',expected:["c","abc"]}]},by={definition:{exec:function*(l){let s=l.pop(),u=l.pop();for(const r of s.reverse())u.unshift(r);l.push(u)},description:"Moves all elements from list L2 to the front of list L1.",effect:"[L1 L2] -> [L3]"},examples:[{code:"[1 2] [3 4] shunt",expected:[[3,4,1,2]]},{code:"[] [1 2] shunt",expected:[[1,2]]}]},vy={definition:{exec:function*(l){l.push(l.pop().reverse())},description:"Reverses a list or string.",effect:"[S] -> [S']"},examples:[{code:"[1 2 3 4] reverse",expected:[[4,3,2,1]]},{code:'["h" "e" "l" "l" "o"] reverse',expected:[["o","l","l","e","h"]]}]},Sy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop();yield*u(r,l,s),l.push(g,d)},description:"Saves two stack items, executes a program, then restores them.",effect:"[X Y [P]] -> [... X Y]"},examples:[{code:"1 2 [10 20 +] dip2",expected:[30,1,2]},{code:"1 2 [] dip2",expected:[1,2]}]},Ay={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),N=l.pop();yield*u(r,l,s),l.push(N,g,d)},description:"Saves three stack items, executes a program, then restores them.",effect:"[X Y Z [P]] -> [... X Y Z]"},examples:[{code:"1 2 3 [10 20 +] dip3",expected:[30,1,2,3]},{code:"10 20 1 2 3 [+] dip3",expected:[30,1,2,3]}]},Ty={definition:{exec:function*(l){if(l.length<1){l.push("");return}const s=String(l.pop()),u=l.join(s);l.length=0,l.push(u)},description:"Joins all elements on the stack (except the separator at the top) into a single string, separated by the given separator.",effect:"[A B C ... S] -> [S']"},examples:[{code:'1 2 3 "-" enjoin',expected:["1-2-3"]},{code:'"hello" "world" " " enjoin',expected:["hello world"]},{code:'1 2 3 "" enjoin',expected:["123"]},{code:'"," enjoin',expected:[""]},{code:"enjoin",assert:l=>l.length===1&&l[0]==="",expectedDescription:"Empty string for empty stack"}]},Ey={name:"Utility Operators",description:"General-purpose helper operators.",definitions:{unitlist:yy,second:gy,third:xy,shunt:by,reverse:vy,dip2:Sy,dip3:Ay,enjoin:Ty}},wy={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("unstack expects a list.");l.length=0,l.push(...[...s].reverse())},description:"The list becomes the new stack. The first element of the list is the top of the new stack.",effect:"[... [L]] -> [..]"},examples:[{code:"1 2 [10 20 30] unstack",expected:[30,20,10]}]},My={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("infra expects a list to be used as the stack.");const g=[...d].reverse();yield*u(r,g,s),l.push([...g].reverse())},description:"Using list L1 as a temporary stack, executes program P and returns a new list L2. The first element of L1 is the top of the stack.",effect:"[L1 [P]] -> [L2]"},examples:[{code:"[10 20] [dup *] infra",expected:[[100,20]]}]},Ny={definition:{exec:function*(l,s,u){if(l.length<1)throw new Error("x expects a quotation on the stack.");const r=l[l.length-1];if(!Array.isArray(r))throw new Error("x expects a quotation on top of the stack.");const d=[...l];l.pop(),yield*u(r,l,s);const g=[...l];l.length=0,l.push(...d),l.push(...g)},description:"Executes the quotation on top of the stack without popping it. The quotation is applied to the stack below it, and the results are pushed on top.",effect:"[X [P]] -> [X [P] R]"},examples:[{code:"10 [1 +] x",expected:[10,[1,"+"],11]}]},Oy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(r)||!Array.isArray(d))throw new Error("construct expects two lists on top of the stack.");const g=[...l],N=[...l];yield*u(d,N,s);const T=[];for(const x of r){const h=[...g];yield*u(x,h,s),h.length>0&&T.push(h[h.length-1])}l.push(...T)},description:"Saves the stack, executes a setup program [P], then executes each program in a list of constructor programs [[P1] [P2]..] on the saved stack, collecting the single result from each.",effect:"[S [P] [[P1]..]] -> [S R1 R2 ..]"},examples:[{code:"10 20 [pop] [[dup] [succ]] construct",expected:[10,20,20,21]}]},_y={definition:{exec:function*(l,s,u){const r=l.pop(),d=[];yield*u(r,d,s),l.push(...d)},description:"Executes a program P, which leaves a result R on the stack. No matter how many parameters P consumes, none are removed from the original stack.",effect:"[... [P]] -> [... R]"},examples:[{code:"10 20 [1 1 +] nullary",expected:[10,20,2]}]},Ry={definition:{exec:function*(l,s,u){const r=l.pop(),g=[l.pop()];yield*u(r,g,s),l.push(...g)},description:"Executes P with one value X, leaving result R. Exactly one value is removed from the stack.",effect:"[... X [P]] -> [... R]"},examples:[{code:"10 20 [1 +] unary",expected:[10,21]}]},zy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),N=[l.pop(),d];yield*u(r,N,s),l.push(...N)},description:"Executes P with two values X and Y, leaving result R. Exactly two values are removed from the stack.",effect:"[... X Y [P]] -> [... R]"},examples:[{code:"10 20 30 [+] binary",expected:[10,50]}]},Dy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),T=[l.pop(),g,d];yield*u(r,T,s),l.push(...T)},description:"Executes P with three values X, Y, and Z, leaving result R. Exactly three values are removed from the stack.",effect:"[... X Y Z [P]] -> [... R]"},examples:[{code:"10 20 30 40 [+ *] ternary",expected:[10,1400]}]},qy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),N=[l.pop()];yield*u(r,N,s);const T=[d];yield*u(r,T,s),l.push(...N,...T)},description:"Executes the same program P on two separate values X1 and X2, returning two results R1 and R2.",effect:"[X1 X2 [P]] -> [R1 R2]"},examples:[{code:"10 20 [succ] unary2",expected:[11,21]}]},jy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),T=[l.pop()];yield*u(r,T,s);const x=[g];yield*u(r,x,s);const h=[d];yield*u(r,h,s),l.push(...T,...x,...h)},description:"Executes the same program P on three separate values, returning three results.",effect:"[X1 X2 X3 [P]] -> [R1 R2 R3]"},examples:[{code:"10 20 30 [succ] unary3",expected:[11,21,31]}]},By={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop(),g=l.pop(),N=l.pop(),x=[l.pop()];yield*u(r,x,s);const h=[N];yield*u(r,h,s);const v=[g];yield*u(r,v,s);const H=[d];yield*u(r,H,s),l.push(...x,...h,...v,...H)},description:"Executes the same program P on four separate values, returning four results.",effect:"[X1 X2 X3 X4 [P]] -> [R1 R2 R3 R4]"},examples:[{code:"10 20 30 40 [succ] unary4",expected:[11,21,31,41]}]},Cy={definition:{exec:function*(l){const s=[...l];l.length=0,l.push(s)},description:"Consumes the entire stack and replaces it with a list containing all the stack's previous elements in their original order.",effect:"[A B C ...] -> [[A B C ...]]"},examples:[{code:"1 2 3 popstack",expected:[[1,2,3]]},{code:"popstack",expected:[[]]},{code:'1 "a" [2] popstack',expected:[[1,"a",[2]]]}]},Uy={definition:{exec:function*(l,s,u,r){const d=l.pop();let g;if(typeof d=="symbol"){const x=Symbol.keyFor(d);if(!x)throw new Error("popto: assignment to a non-global symbol is not supported.");g=`:${x}`}else if(typeof d=="string"||typeof d=="number")g=String(d);else throw new Error(`Assignment target must be a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const N=l.pop();let T=Array.isArray(N)?N:[N];if(T.length>2&&T[T.length-1]==="yield"){const x=T[T.length-3];let h=null;if(typeof x=="string"){const v=r[x];v&&"body"in v&&(h=v.body)}else if(typeof x=="symbol"){const v=Symbol.keyFor(x);if(v){const H=`:${v}`,C=r[H];C&&"body"in C&&(h=C.body)}}if(h){const v=[...T];v[T.length-3]=h,T=v}}if(T.length>1&&T[T.length-1]==="yield"){const x=T[T.length-2];if(typeof x!="symbol"&&(Array.isArray(x)||typeof x=="number")){const v=Symbol.for(g),H=`:${g}`,C=Array.isArray(x)?x:[x];r[H]={body:C,description:`Auto-generated state for '${g}'`,effect:"... -> ..."};const k=[...T];k[T.length-2]=v,T=k}}r[g]={body:T,description:"User-defined function/variable.",effect:"... -> ..."}},description:"Pops a value and a name, then assigns the value to the name. If the value is the name of an existing operator, an alias is created. Alias: `=`. `... V N popto`",effect:"[... V N] -> [...]"},examples:[{code:["[1 2 3 4] mylist =","mylist"],expected:[[1,2,3,4]]},{code:["42 :mynum =",":mynum"],expected:[42]},{code:["100 1 =","1"],expected:[100]}]},Hy={definition:{exec:function*(l,s,u,r){const d=l.pop();let g,N;if(typeof d=="symbol"){const h=Symbol.keyFor(d);if(!h)throw new Error("appendTo: assignment to a non-global symbol is not supported.");g=`:${h}`,N=`:${h}`}else if(typeof d=="string"||typeof d=="number")g=String(d),N=String(d);else throw new Error(`appendTo: target must be a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const T=l.pop(),x=r[g];if(!x)r[g]={body:[T],description:"User-defined variable.",effect:"... -> ..."};else if("body"in x){if(!Array.isArray(x.body))throw new Error(`Cannot append to non-list definition: '${N}'. Use 'popto' or '=' to overwrite.`);x.body.push(T)}else throw new Error(`Cannot append to built-in function: '${N}'.`)},description:"Pops a value and a name, then appends the value to the list variable associated with the name. Creates the variable if it does not exist. Alias: `<-`.",effect:"[... V N] -> [...]"},examples:[{code:["[] mylist =","10 mylist appendTo","20 mylist <-","mylist"],expected:[[10,20]]},{code:["10 newlog <-","20 newlog <-","newlog"],expected:[[10,20]]},{code:["42 :mynum <-",":mynum"],expected:[42]}]},Yy={definition:{exec:function*(l,s,u,r){const d=l.pop();let g;if(typeof d=="symbol"){const T=Symbol.keyFor(d);if(!T)throw new Error("popstackto: assignment to a non-global symbol is not supported.");g=`:${T}`}else if(typeof d=="string"||typeof d=="number")g=String(d);else throw new Error(`Assignment target must be a name, symbol, or integer, but got: ${JSON.stringify(d)}`);const N=[...l];l.length=0,r[g]={body:N,description:"User-defined function/variable.",effect:"... -> []"}},description:"Pops a name, assigns the entire rest of the stack as a list to that name, and then clears the stack. `... N popstackto`",effect:"[... N] -> []"},examples:[{code:["1 2 3 4 allmine popstackto","allmine"],expected:[[1,2,3,4]]},{code:["1 2 :allmine popstackto",":allmine"],expected:[[1,2]]},{code:["1 2 3 1 popstackto","1"],expected:[[1,2,3]]}]},ky={name:"Advanced Stack Operations",description:"Powerful operators for metaprogramming and advanced stack manipulation.",definitions:{unstack:wy,infra:My,x:Ny,construct:Oy,popstack:Cy,popto:Uy,appendTo:Hy,popstackto:Yy,nullary:_y,unary:Ry,binary:zy,ternary:Dy,unary2:qy,unary3:jy,unary4:By}},Ly={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(u))throw new Error("swons expects a list");l.push([s,...u])},description:"The reverse of `cons`. Constructs a new list by pushing an element onto the front of an existing list. `A X -> B`",effect:"[L E] -> [L']"},examples:[{code:"[2 3 4] 1 swons",expected:[[1,2,3,4]]},{code:"[] 1 swons",expected:[[1]]}]},Xy={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();if(!Array.isArray(r)||!Array.isArray(u))throw new Error("enconcat expects two lists");l.push([...r,s,...u])},description:"Concatenates two sequences with an element inserted between them. `S T X -> U`",effect:"[L1 L2 E] -> [L3]"},examples:[{code:"[1 2] [3 4] 0 enconcat",expected:[[1,2,0,3,4]]},{code:'["a"] ["b"] "-" enconcat',expected:[["a","-","b"]]}]},Gy={definition:{exec:function*(l){const[s,...u]=l.pop();l.push(s,u)},description:"The reverse of `uncons`. Deconstructs a list into its first element and the rest of the list. `A -> R F`",effect:"[L] -> [E L']"},examples:[{code:"[10 20 30] unswons",expected:[10,[20,30]]},{code:"[1] unswons",expected:[1,[]]}]},Tn=(l,s)=>JSON.stringify(l)===JSON.stringify(s),Nt=l=>{try{return structuredClone(l)}catch{if(l===null||typeof l!="object")return l;if(l instanceof Set)return new Set(Array.from(l,Nt));if(l instanceof Array)return l.map(Nt);if(l.constructor===Object){const u={};for(const r in l)l.hasOwnProperty(r)&&(u[r]=Nt(l[r]));return u}return l}},at=l=>{if(typeof l=="string")return/^\w+\(.*\)$/.test(l)||/^\w+\..+$/.test(l)?l:`"${l}"`;if(Array.isArray(l))return`[${l.map(at).join(" ")}]`;if(l instanceof Set)return`{${Array.from(l).sort((u,r)=>u-r).map(at).join(" ")}}`;if(l===!0)return"true";if(l===!1)return"false";if(typeof l=="object"&&l!==null&&typeof l.next=="function")return"<generator>";if(typeof l=="symbol"){const s=Symbol.keyFor(l);return s!==void 0?`:${s}`:l.toString()}return l},Qy={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(Tn(u,s))},description:"Recursively tests whether two values (including lists) are identical.",effect:"[A B] -> [bool]"},examples:[{code:"[1 [2 3]] [1 [2 3]] equal",expected:[!0]},{code:"[1 [2 3]] [1 [2 4]] equal",expected:[!1]},{code:"1 1 equal",expected:[!0]},{code:"{} {} equal",expected:[!0]}]},Zy={definition:{exec:function*(l){const s=l.pop();l.push(!Array.isArray(s))},description:"Tests whether a value is a leaf (i.e., not a list).",effect:"[A] -> [bool]"},examples:[{code:"42 leaf",expected:[!0]},{code:'"hello" leaf',expected:[!0]},{code:"[] leaf",expected:[!1]},{code:"[1 2] leaf",expected:[!1]}]},Vy={definition:{exec:function*(l,s,u){const r=l.pop();let d=l.pop();const g=l.pop();if(!Array.isArray(g))throw new Error("fold expects a list.");for(const N of g){const T=[d,N];yield*u(r,T,s),d=T.pop()}l.push(d)},description:"Starting with an initial value, sequentially applies a program to each member of a list to produce a final value. `A V0 [P] -> V`",effect:"[L V [P]] -> [R]"},examples:[{code:"[1 2 3 4] 0 [+] fold",expected:[10]},{code:"[2 3 4] 1 [*] fold",expected:[24]},{code:"[] 100 [+] fold",expected:[100]}]},Ky={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("split expects a list.");const g=[],N=[];for(const T of d){const x=[T];yield*u(r,x,s),x.pop()?g.push(T):N.push(T)}l.push(g,N)},description:"Uses a predicate program to split a list into two lists: one for which the predicate was true, and one for which it was false. `A [B] -> A1 A2`",effect:"[L [P]] -> [L_true L_false]"},examples:[{code:"[1 2 3 4 5] [2 % 0 ==] split",expected:[[2,4],[1,3,5]]},{code:"[1 2 3] [10 >] split",expected:[[],[1,2,3]]}]},$y={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("some expects a list.");for(const g of d){const N=[g];if(yield*u(r,N,s),N.pop()){l.push(!0);return}}l.push(!1)},description:"Applies a predicate to each member of a list, returning true if the predicate returns true for any member.",effect:"[L [P]] -> [bool]"},examples:[{code:"[1 2 3 4] [3 >] some",expected:[!0]},{code:"[1 2 3 4] [5 >] some",expected:[!1]},{code:"[] [true] some",expected:[!1]}]},Jy={definition:{exec:function*(l,s,u){const r=l.pop(),d=l.pop();if(!Array.isArray(d))throw new Error("all expects a list.");for(const g of d){const N=[g];if(yield*u(r,N,s),!N.pop()){l.push(!1);return}}l.push(!0)},description:"Applies a predicate to each member of a list, returning true only if the predicate returns true for all members.",effect:"[L [P]] -> [bool]"},examples:[{code:"[2 4 6] [2 % 0 ==] all",expected:[!0]},{code:"[2 4 7] [2 % 0 ==] all",expected:[!1]},{code:"[] [false] all",expected:[!0]}]},Ad=l=>{const s=Array.isArray(l)||typeof l=="string"?l:[...l];if(s.length===0)return l instanceof Set?[new Set]:typeof l=="string"?[""]:[[]];const u=s[0],r=s.slice(1);let d;l instanceof Set?d=new Set(r):d=r;const g=Ad(d);return[...g.map(T=>l instanceof Set?new Set([u,...T]):typeof l=="string"?u+T:[u,...T]),...g]},Wy={definition:{exec:function*(l){const s=l.pop();if(Array.isArray(s)||typeof s=="string"||s instanceof Set)l.push(Ad(s));else throw new Error("powerlist expects a list, string, or set.")},description:"For an aggregate of size N, produces a list of all 2^N subaggregates (sublists, subsequences of characters, or subsets).",effect:"[A] -> [[A1, A2, ...]]"},examples:[{code:"[1 2 3] powerlist",expected:[[[1,2,3],[1,2],[1,3],[1],[2,3],[2],[3],[]]]},{code:'"abcde" powerlist [size 3 >] filter',assert:l=>{const s=l[0].sort(),u=["abcde","abcd","abce","abde","acde","bcde"].sort();return Tn(s,u)},expectedDescription:'[ "abcde", "abcd", "abce", "abde", "acde", "bcde" ] (order may vary)'},{code:"{1 2 3 4} powerlist [size 3 ==] filter",assert:l=>{const s=l[0],u=[new Set([1,2,3]),new Set([1,2,4]),new Set([1,3,4]),new Set([2,3,4])];return s.length!==u.length?!1:u.every(r=>s.some(d=>Tn([...r].sort(),[...d].sort())))},expectedDescription:"A list containing all 4 subsets of size 3."},{code:"{1 2 3 4 5} powerlist [size 3 ==] filter [sum] map",assert:l=>{const s=l[0].sort((r,d)=>r-d);return Tn(s,[6,7,8,8,9,9,10,10,11,12])},expectedDescription:"[6, 7, 8, 8, 9, 9, 10, 10, 11, 12]"},{code:"[] powerlist",expected:[[[]]]},{code:'"" powerlist',expected:[[""]]},{code:"{} powerlist",expected:[[new Set]]}]},Fy={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(s.concat(u))},description:"Concatenates two sequences (lists or strings) after swapping them. Equivalent to `swap concat`.",effect:"[S T] -> [U]"},examples:[{code:"[1 2] [3 4] swoncat",expected:[[3,4,1,2]]},{code:'"world" "hello" swoncat',expected:["helloworld"]},{code:"[] [1] swoncat",expected:[[1]]},{code:"[1] [] swoncat",expected:[[1]]},{code:'"a" "b" swoncat',expected:["ba"]}]},Iy={name:"Functional & Aggregate Operations",description:"Higher-order functions for list processing and advanced aggregate manipulation.",definitions:{swons:Ly,swoncat:Fy,enconcat:Xy,unswons:Gy,equal:Qy,leaf:Zy,fold:Vy,split:Ky,some:$y,all:Jy,powerlist:Wy}},Py={definition:{exec:function*(l){l.push(String(l.pop()).toUpperCase())},description:"Converts a string to uppercase.",effect:"[S] -> [S']"},examples:[{code:'"hello" ucase',expected:["HELLO"]},{code:'"Hello World" ucase',expected:["HELLO WORLD"]},{code:'"" ucase',expected:[""]}]},e1={definition:{exec:function*(l){l.push(String(l.pop()).toLowerCase())},description:"Converts a string to lowercase.",effect:"[S] -> [S']"},examples:[{code:'"HELLO" locase',expected:["hello"]},{code:'"Hello World" locase',expected:["hello world"]},{code:'"" locase',expected:[""]}]},t1={definition:{exec:function*(l){l.push(String(l.pop()).trim())},description:"Removes whitespace from both ends of a string.",effect:"[S] -> [S']"},examples:[{code:'"  hello  " trim',expected:["hello"]},{code:'"  hello world  " trim',expected:["hello world"]},{code:`" 
	  " trim`,expected:[""]}]},n1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(r.slice(u,s))},description:"Extracts a section of a string and returns it as a new string. `S Start End -> S`",effect:"[S I_start I_end] -> [S']"},examples:[{code:'"hello world" 0 5 slice',expected:["hello"]},{code:'"hello world" 6 11 slice',expected:["world"]},{code:'"abc" 1 1 slice',expected:[""]}]},a1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.split(s))},description:"Splits a string into a list of substrings. `S Separator -> [S1 S2 ...]`",effect:"[S Separator] -> [L]"},examples:[{code:'"a,b,c" "," splitstr',expected:[["a","b","c"]]},{code:'"hello" "" splitstr',expected:[["h","e","l","l","o"]]},{code:'"a b" " " splitstr',expected:[["a","b"]]}]},l1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.startsWith(s))},description:"Checks if a string starts with the characters of a specified string. `S Prefix -> B`",effect:"[S Prefix] -> [bool]"},examples:[{code:'"hello" "he" starts',expected:[!0]},{code:'"hello world" "hello" starts',expected:[!0]},{code:'"hello world" "world" starts',expected:[!1]}]},i1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(u.endsWith(s))},description:"Checks if a string ends with the characters of a specified string. `S Suffix -> B`",effect:"[S Suffix] -> [bool]"},examples:[{code:'"hello" "lo" ends',expected:[!0]},{code:'"hello world" "world" ends',expected:[!0]},{code:'"hello world" "hello" ends',expected:[!1]}]},c1={definition:{exec:function*(l){const s=String(l.pop()),u=String(l.pop()),r=String(l.pop()),d=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");l.push(r.replace(new RegExp(d,"g"),s))},description:"Replaces all occurrences of a search string with a replacement string. `S Search Replace -> S`",effect:"[S Search Replace] -> [S']"},examples:[{code:'"ha ha ha" "a" "o" replace',expected:["ho ho ho"]},{code:'"banana" "na" "no" replace',expected:["banono"]},{code:'"test" "x" "y" replace',expected:["test"]}]},s1={name:"JavaScript String Operations",description:"A bridge to common JavaScript string manipulation methods.",definitions:{ucase:Py,locase:e1,trim:t1,slice:n1,splitstr:a1,starts:l1,ends:i1,replace:c1}},o1={definition:{exec:function*(l){const s=l.pop();typeof s=="string"?l.push(s):l.push(String(at(s)).replace(/^"(.*)"$/,"$1"))},description:"Converts the top value on the stack to its string representation.",effect:"[A] -> [S]"},examples:[{code:"123 string",expected:["123"]},{code:"true string",expected:["true"]},{code:"[1 2 3] string",expected:["[1 2 3]"]},{code:"{1 2} string",expected:["{1 2}"]},{code:'"abc" string',expected:["abc"]}]},u1={definition:{exec:function*(l){const s=l.pop(),u=parseFloat(s);l.push(isNaN(u)?0:u)},description:"Parses a string into a number. Returns 0 if the string cannot be parsed.",effect:"[S] -> [N]"},examples:[{code:'"123.45" toNumber',expected:[123.45]},{code:'"-10" toNumber',expected:[-10]},{code:'"hello" toNumber',expected:[0]},{code:"true toNumber",expected:[0]},{code:"123 toNumber",expected:[123]}]},r1={definition:{exec:function*(l){l.push(!!l.pop())},description:"Converts the top value on the stack to its boolean equivalent (using standard JavaScript truthiness).",effect:"[A] -> [B]"},examples:[{code:"1 toBool",expected:[!0]},{code:"0 toBool",expected:[!1]},{code:'"" toBool',expected:[!1]},{code:'"hello" toBool',expected:[!0]},{code:"[] toBool",expected:[!0]},{code:"{} toBool",expected:[!0]}]},f1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();try{l.push(new RegExp(s).test(u))}catch{throw new Error(`Invalid RegExp pattern: ${s}`)}},description:"Tests if a string matches a regular expression. `S Pattern -> B`",effect:"[S Pattern] -> [bool]"},examples:[{code:'"hello" "^he" regtest',expected:[!0]},{code:'"hello" "o$" regtest',expected:[!0]},{code:'"banana" "na" regtest',expected:[!0]},{code:'"banana" "^na" regtest',expected:[!1]}]},d1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();try{l.push(r.replace(new RegExp(u),s))}catch{throw new Error(`Invalid RegExp pattern: ${u}`)}},description:"Replaces the first occurrence of a regex pattern in a string. `S Pattern Replacement -> S`",effect:"[S Pattern Replace] -> [S']"},examples:[{code:'"banana" "a" "o" regsub',expected:["bonana"]},{code:'"banana" "an" "o" regsub',expected:["boana"]},{code:'"hello world" "l" "X" regsub',expected:["heXlo world"]}]},p1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();try{l.push(r.replace(new RegExp(u,"g"),s))}catch{throw new Error(`Invalid RegExp pattern: ${u}`)}},description:"Replaces all occurrences of a regex pattern in a string (global substitute). `S Pattern Replacement -> S`",effect:"[S Pattern Replace] -> [S']"},examples:[{code:'"banana" "a" "o" regsubg',expected:["bonono"]},{code:'"banana" "an" "o" regsubg',expected:["booa"]},{code:'"hello world" "l" "X" regsubg',expected:["heXXo worXd"]}]},h1={name:"Advanced Types & Regex",description:"Operators for type casting, regular expression validation, and string replacement.",definitions:{string:o1,toNumber:u1,toBool:r1,regtest:f1,regsub:d1,regsubg:p1}},m1={definition:{exec:function*(l,s){s.onOutput?s.onOutput(`
`):console.log(`
`)},description:"Outputs a newline to the REPL.",effect:"[] -> []"},examples:[{code:"cr",expected:[]}]},y1={definition:{exec:function*(l,s){const u=String(l.pop());s.onOutput?s.onOutput(u):console.log(u)},description:"Outputs the top of the stack to the REPL.",effect:"[S] -> []"},examples:[{code:'"Hello" emit',expected:[]}]},g1={name:"REPL I/O",description:"Operators for interacting with the REPL environment.",definitions:{cr:m1,emit:y1}},x1={definition:{exec:function*(l,s,u,r){if(!s.historyManager)return;const d=s.historyManager.undo();if(d){l.length=0,l.push(...d.stack);for(const g in r)"body"in r[g]&&delete r[g];Object.assign(r,d.userDictionary)}},description:"Reverts the stack and all user-defined words to their state before the last operation. Can be called multiple times.",effect:"[...] -> [...]"},examples:[{code:["1 2 +","dup","undo"],assert:l=>l.length===1&&l[0]===3,expectedDescription:"[3]"},{code:["100","1 2 +","undo"],expected:[100]}]},b1={definition:{exec:function*(l,s,u,r){if(!s.historyManager)return;const d=s.historyManager.redo();if(d){l.length=0,l.push(...d.stack);for(const g in r)"body"in r[g]&&delete r[g];Object.assign(r,d.userDictionary)}},description:"Re-applies an operation that was undone. Can only be used after `undo`.",effect:"[...] -> [...]"},examples:[{code:["1 2 +","undo","redo"],expected:[3]},{code:["1 2 +","undo","3 4 +","redo"],expected:[7]}]},v1={definition:{exec:function*(l,s,u,r){if(s.historyManager){const d=s.historyManager.createSnapshot(l,r);s.historyManager.clear(),s.historyManager.add(d)}},description:"Clears the undo/redo history. The current state becomes the new initial state.",effect:"[] -> []"},examples:[{code:"1 2 + clearhistory",expected:[3]},{code:"1 2 clearhistory",expected:[1,2]}]},S1={definition:{exec:function*(l,s,u){const{commandHistory:r,parse:d}=s;if(!r||r.length<2||!d)return;let g=null;for(let N=r.length-2;N>=0;N--)if(r[N].trim().toLowerCase()!=="again"){g=r[N];break}if(g){const N=d(g);yield*u(N,l,s)}},description:'Re-executes the last command from the history that was not "again".',effect:"[...] -> [...]"},examples:[{code:["1 2 +","again"],expected:[3,3]},{code:["5 dup *","again"],expected:[25,25]},{code:["1","again","again"],expected:[1,1,1]},{code:["1 1 + again"],expected:[2]},{code:["10 20 +","1 again"],expected:[30,1,30]},{code:["1 again"],expected:[1]},{code:["[1] mylist =","1 mylist <-","again","mylist"],expected:[[1,1,1]]}]},A1={name:"History Management",description:"Operators for managing the REPL session history (undo/redo).",definitions:{undo:x1,redo:b1,clearhistory:v1,again:S1}},T1=`
const { PI, sin, cos, random, abs, min, max, pow, sign, floor } = Math;

// --- DSP Library Functions ---
// Each function takes its own state object 's' and its arguments.

const dsp = {
    sine: (s, freq) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        return sin(s.phase * 2 * PI);
    },
    saw: (s, freq) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        s.phase %= 1;
        return s.phase * 2 - 1;
    },
    triangle: (s, freq) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        s.phase %= 1;
        return 4 * abs(s.phase - 0.5) - 1;
    },
    pulse: (s, freq, duty = 0.5) => {
        s.phase = (s.phase || 0) + freq / sampleRate;
        s.phase %= 1;
        return s.phase < duty ? 1 : -1;
    },
    noise: () => random() * 2 - 1,
    impulse: (s, freq) => {
        s.phase = (s.phase || 1) + freq / sampleRate;
        let v = s.phase >= 1 ? 1 : 0;
        s.phase %= 1;
        return v;
    },
    oneshot: (s) => {
        if (s.triggered) return 0;
        s.triggered = true;
        return 1;
    },
    lpf: (s, input, cutoff, res) => {
        s.c = pow(0.5, (1 - min(max(cutoff, 0), 1)) / 0.125);
        s.r = pow(0.5, (min(max(res, 0), 1) + 0.125) / 0.125);
        s.mrc = 1 - s.r * s.c;
        s.s0 = (s.s0 || 0) * s.mrc - (s.s1 || 0) * s.c + input * s.c;
        s.s1 = (s.s1 || 0) * s.mrc + s.s0 * s.c;
        return s.s1;
    },
    hpf: (s, input, cutoff, res) => {
        s.lpf_state = s.lpf_state || {};
        return input - dsp.lpf(s.lpf_state, input, cutoff, res);
    },
    adsr: (s, gate, a, d, sus, r) => {
        const aSamples = Math.max(1, a * sampleRate);
        const dSamples = Math.max(1, d * sampleRate);
        const rSamples = Math.max(1, r * sampleRate);

        s.val = s.val || 0;
        
        if (gate > 0 && (s.gate === undefined || s.gate <= 0)) {
            s.mode = 1; // attack
        } else if (gate <= 0 && s.gate > 0) {
            s.mode = 4; // release
            s.releaseStartVal = s.val;
        }
        s.gate = gate;

        switch (s.mode) {
            case 1: // Attack
                s.val += 1.0 / aSamples;
                if (s.val >= 1.0) { s.val = 1.0; s.mode = 2; }
                break;
            case 2: // Decay
                if (s.val > sus) { s.val -= (1.0 - sus) / dSamples; }
                if (s.val <= sus) { s.val = sus; s.mode = 3; }
                break;
            case 3: // Sustain
                s.val = sus;
                break;
            case 4: // Release
                s.val -= (s.releaseStartVal || 0) / rSamples;
                if (s.val <= 0) { s.val = 0; s.mode = 0; }
                break;
            default: // Off
                s.val = 0;
        }
        return Math.max(0, s.val);
    },
    ad: (s, gate, a, d) => {
        const aSamples = Math.max(1, a * sampleRate);
        const dSamples = Math.max(1, d * sampleRate);

        s.val = s.val || 0;
        s.mode = s.mode || 0; // 0: off, 1: attack, 2: decay

        // A rising edge on the gate triggers the envelope
        if (gate > 0 && (s.lastGate === undefined || s.lastGate <= 0)) {
            s.mode = 1; // Go to attack phase
            s.val = 0;  // Reset from the bottom
        }
        s.lastGate = gate;

        if (s.mode === 1) { // In attack phase
            s.val += 1.0 / aSamples;
            if (s.val >= 1.0) {
                s.val = 1.0;
                s.mode = 2; // Switch to decay
            }
        } else if (s.mode === 2) { // In decay phase
            s.val -= 1.0 / dSamples;
            if (s.val <= 0) {
                s.val = 0;
                s.mode = 0; // Switch to off
            }
        }
        
        // If mode is 0 (off), s.val will be 0 from the previous decay step.
        return s.val;
    },
    bytebeat: (s, code) => {
        s.t = (s.t || 0) + 1;
        const t = s.t - 1;

        if (s.code !== code) {
            try {
                s.fn = new Function('t', 'return ' + code);
                s.code = code;
                s.errorLogged = false;
            } catch (e) {
                console.error('Bytebeat compile error:', e);
                s.fn = null;
            }
        }
        if (!s.fn) return 0;
        try {
            const result = s.fn(t);
            return ((result | 0) & 255) / 127.5 - 1;
        } catch(e) {
            if (!s.errorLogged) {
                console.error('Bytebeat runtime error in code "' + s.code + '":', e.message);
                s.errorLogged = true;
            }
            return 0;
        }
    },
    floatbeat: (s, code) => {
        s.t = (s.t || 0) + 1;
        const t = s.t - 1;

        if (s.code !== code) {
            try {
                s.fn = new Function('t', 'return ' + code);
                s.code = code;
                s.errorLogged = false;
            } catch (e) {
                console.error('Floatbeat compile error:', e);
                s.fn = null;
            }
        }
        if (!s.fn) return 0;
        try {
            const result = s.fn(t);
            return result;
        } catch(e) {
            if (!s.errorLogged) {
                console.error('Floatbeat runtime error in code "' + s.code + '":', e.message);
                s.errorLogged = true;
            }
            return 0;
        }
    },
    delay: (s, input, time, feedback) => {
        if (!s.buffer) s.buffer = new Float32Array(sampleRate * 5); // 5 sec max
        s.writeIdx = (s.writeIdx || 0);
        let readIdx = s.writeIdx - Math.floor(time * sampleRate);
        if (readIdx < 0) readIdx += s.buffer.length;
        const out = s.buffer[readIdx];
        s.buffer[s.writeIdx] = input + out * feedback;
        s.writeIdx = (s.writeIdx + 1) % s.buffer.length;
        return out;
    },
    distort: (s, input, amount) => {
        // A tanh-based soft-clipper.
        // amount controls the drive.
        const gain = 1 + amount * 4;
        return Math.tanh(input * gain);
    },
    pan: (s, input, pos) => {
        const angle = (pos * 0.5 + 0.5) * (PI / 2);
        return [input * cos(angle), input * sin(angle)];
    },
    note: (s, note) => (2 ** ((note - 69) / 12) * 440),
    seq: (s, clock, ...values) => {
        if (!s.lastClock && clock > 0) {
            s.step = (s.step || 0) + 1;
        }
        s.lastClock = clock;
        return values[s.step % values.length];
    },
    'mix': (s, a, b) => {
        if (Array.isArray(a) && Array.isArray(b)) return [a[0]+b[0], a[1]+b[1]];
        if (Array.isArray(a)) return [a[0]+b, a[1]+b];
        if (Array.isArray(b)) return [a+b[0], a+b[1]];
        return a + b;
    },
    'mul': (s, a, b) => {
        if (Array.isArray(a) && Array.isArray(b)) return [a[0]*b[0], a[1]*b[1]];
        if (Array.isArray(a)) return [a[0]*b, a[1]*b];
        if (Array.isArray(b)) return [a*b[0], a*b[1]];
        return a * b;
    },
};

class DspProcessor extends AudioWorkletProcessor {
    constructor() {
        super();
        this.voices = new Map(); // { id: { graph, params, state } }
        this.port.onmessage = (e) => this.handleMessage(e.data);
    }

    handleMessage(msg) {
        switch (msg.command) {
            case 'play':
                this.voices.set(msg.id, {
                    graph: msg.graph,
                    params: msg.params || {},
                    state: {} // For stateful nodes
                });
                break;
            case 'update':
                if (this.voices.has(msg.id)) {
                    const voice = this.voices.get(msg.id);
                    voice.graph = msg.graph;
                    voice.params = msg.params || {};
                }
                break;
            case 'ctrl':
                if (this.voices.has(msg.id)) {
                    this.voices.get(msg.id).params[msg.param] = msg.value;
                }
                break;
            case 'stop':
                this.voices.delete(msg.id);
                break;
            case 'stopAll':
                this.voices.clear();
                break;
        }
    }

    // Recursively evaluates an audio graph node for the current sample
    evaluate(node, params, state, counters) {
        if (typeof node !== 'object' || node === null) return node;
        if (node.param) return params[node.param];
        if (!Array.isArray(node)) return 0;

        const op = node[0];
        const dspFn = dsp[op];
        if (!dspFn) return 0;

        const evalArgs = node.slice(1).map(arg => this.evaluate(arg, params, state, counters));

        // Create a unique key for this node instance's state
        const opCount = counters[op] = (counters[op] || 0) + 1;
        const stateKey = op + '_' + (opCount - 1);
        state[stateKey] = state[stateKey] || {}; // Ensure state sub-object exists

        return dspFn(state[stateKey], ...evalArgs);
    }

    process(inputs, outputs) {
        const outL = outputs[0][0];
        const outR = outputs[0][1];

        for (let i = 0; i < outL.length; i++) {
            let totalL = 0;
            let totalR = 0;

            for (const voice of this.voices.values()) {
                try {
                    // Reset counters for each sample, for each voice
                    const counters = {};
                    const result = this.evaluate(voice.graph, voice.params, voice.state, counters);
                    
                    if (Array.isArray(result)) { // Stereo
                        totalL += result[0] || 0;
                        totalR += result[1] || 0;
                    } else { // Mono
                        totalL += result || 0;
                        totalR += result || 0;
                    }
                } catch (e) {
                    console.error('DSP Error:', e);
                }
            }
            
            outL[i] = totalL;
            outR[i] = totalR;
        }
        return true;
    }
}

registerProcessor('dsp-processor', DspProcessor);
`,E1={sine:["freq"],saw:["freq"],pulse:["freq","duty"],lpf:["cutoff","resonance"],hpf:["cutoff","resonance"],ad:["gate","attack","decay"],adsr:["gate","attack","decay","sustain","release"],delay:["time","feedback"],distort:["amount"],pan:["pos"],mul:["gain"],note:["note"],seq:["clock"],impulse:["freq"]};function ro(l,s,u){if(!Array.isArray(l))return;const r=l[0],d=l.slice(1),g=["seq"].includes(r),N=E1[r]||[];for(let T=0;T<d.length;T++){const x=d[T];if(typeof x=="number"&&!g&&N[T]){const h=N[T],v=u[h]=(u[h]||0)+1,H=v===1?h:`${h}_${v-1}`;s.params[H]=x,l[T+1]={param:H}}else Array.isArray(x)&&ro(x,s,u)}}class Na{constructor(){this.context=null,this.workletNode=null,this.isInitialized=!1,this.voiceIdCounter=0,this.isMuted=!1,this.patchTemplates=new Map,this.sourceVoices=new Map,this.tempo=80}static getInstance(){return Na.instance||(Na.instance=new Na),Na.instance}setMuted(s){this.isMuted=s,s&&this.stopAll()}async init(){if(!this.isInitialized&&!(typeof window>"u"))try{this.context=new AudioContext,this.context.state==="suspended"&&await this.context.resume();const s=new Blob([T1],{type:"application/javascript"}),u=URL.createObjectURL(s);await this.context.audioWorklet.addModule(u),this.workletNode=new AudioWorkletNode(this.context,"dsp-processor",{outputChannelCount:[2]}),this.workletNode.connect(this.context.destination),this.isInitialized=!0}catch(s){console.error("Error initializing AudioEngine:",s),this.isInitialized=!1}}definePatch(s,u){if(this.isMuted||!this.isInitialized)return;const d={graph:Nt(u),params:{}},g={};ro(d.graph,d,g),this.patchTemplates.set(s,d)}play(s,u){if(this.isMuted||!this.isInitialized||!this.workletNode)return"";let r,d,g=!1,N=null;if(typeof s=="string"){const h=this.patchTemplates.get(s);if(!h)return console.warn(`Patch "${s}" not found.`),"";N=s,g=!0,r=Nt(h.graph),d={...h.params}}else{r=Nt(s);const h={graph:r,params:{}},v={};ro(h.graph,h,v),d=h.params}const T=g?N:u;if(T&&this.sourceVoices.has(T)){const h=this.sourceVoices.get(T);return this.workletNode.port.postMessage({command:"update",id:h,graph:r,params:d}),h}const x=`voice_${this.voiceIdCounter++}`;return T&&this.sourceVoices.set(T,x),this.workletNode.port.postMessage({command:"play",id:x,graph:r,params:d}),x}ctrl(s,u,r){if(this.isMuted||!this.isInitialized||!this.workletNode)return;const d=this.sourceVoices.get(s);d?this.workletNode.port.postMessage({command:"ctrl",id:d,param:u,value:r}):console.warn(`No active voice found for patch named "${s}".`)}stop(s){if(this.isMuted)return[];if(!this.isInitialized||!this.workletNode)return[];const u=this.sourceVoices.get(s);return u?(this.workletNode.port.postMessage({command:"stop",id:u}),this.sourceVoices.delete(s),[u]):[]}stopAll(){if(this.workletNode){this.workletNode.port.postMessage({command:"stopAll"});const s=Array.from(this.sourceVoices.values());return this.sourceVoices.clear(),s}return[]}setTempo(s){typeof s=="number"&&s>0&&(this.tempo=s)}}const Ot=Na.getInstance(),w1={definition:{exec:function*(l,s){if(l.length<1)return;const u=l.pop();let r;if(Array.isArray(u))r=u;else if(typeof u=="symbol"){const g=Symbol.keyFor(u);if(!g)throw new Error("play: Invalid symbol for patch name.");r=g}else throw l.push(u),new Error("play expects an audio graph (list) or a patch name (symbol).");const d=Ot.play(r,s.sourceId);s.onVoiceCreated&&s.onVoiceCreated(d),l.push(u)},description:"Plays an audio graph from the stack, then pushes it back onto the stack. If given a graph (list), it plays it anonymously. If given a name (symbol), it plays the corresponding named patch.",effect:"[A] -> [A]"},examples:[{code:["[60 note saw] :test-patch patch",":test-patch play"],assert:l=>Tn(l.map(at),[":test-patch",":test-patch"]),expectedDescription:"[:test-patch :test-patch]"},{code:"[440 sine] play",expected:[[440,"sine"]]}]},M1={definition:{exec:function*(l,s){let u=[];if(l.length===0)u=Ot.stopAll();else{const r=l.pop();if(typeof r=="symbol"){const d=Symbol.keyFor(r);if(!d)throw new Error("stop: Invalid symbol for patch name.");u=Ot.stop(d)}else throw l.push(r),new Error("stop expects a patch name (symbol) on the stack, or an empty stack to stop all sounds.");l.push(r)}s.onVoiceDestroyed&&u.forEach(r=>s.onVoiceDestroyed(r))},description:"Stops a playing audio patch by its name (symbol), then pushes the name back onto the stack. If the stack is empty, it stops all audio (like `hush`).",effect:"[A]? -> [A]?"},examples:[{code:":my-synth stop",assert:l=>l.length===1&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="my-synth",expectedDescription:"[:my-synth]"},{code:"stop",expected:[]}]},N1={definition:{exec:function*(l){if(l.length<1)return;const s=l.pop();Ot.setTempo(s),l.push(s)},description:"Sets the global tempo in Beats Per Minute (BPM), then pushes the tempo value back onto the stack.",effect:"[N_bpm] -> [N_bpm]"},examples:[{code:"120 tempo",expected:[120]}]},O1={definition:{exec:function*(l){const s=l.pop();l.push(["sine",s])},description:"Creates a sine wave oscillator node.",effect:"[F_freq] -> [L_graph]"},examples:[{code:"440 sine 0.5 mul play",expected:[["mul",["sine",440],.5]]},{code:"440 sine",expected:[["sine",440]]}]},_1={definition:{exec:function*(l){const s=l.pop();l.push(["saw",s])},description:"Creates a sawtooth wave oscillator node.",effect:"[F_freq] -> [L_graph]"},examples:[{code:"440 saw 0.5 mul play",expected:[["mul",["saw",440],.5]]},{code:"440 saw",expected:[["saw",440]]}]},R1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["pulse",u,s])},description:"Creates a pulse wave oscillator node.",effect:"[F_freq F_duty] -> [L_graph]"},examples:[{code:"440 0.25 pulse 0.5 mul play",expected:[["mul",["pulse",440,.25],.5]]},{code:"440 0.25 pulse",expected:[["pulse",440,.25]]}]},z1={definition:{exec:function*(l){l.push(["noise"])},description:"Creates a white noise generator node.",effect:"[] -> [L_graph]"},examples:[{code:"noise 0.2 mul play",expected:[["mul",["noise"],.2]]},{code:"noise",expected:[["noise"]]}]},D1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["lpf",r,u,s])},description:"Applies a low-pass filter to an audio signal node.",effect:"[L_graph F_cutoff F_resonance] -> [L_graph]"},examples:[{code:"220 saw 800 0.5 lpf play",expected:[["lpf",["saw",220],800,.5]]}]},q1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["hpf",r,u,s])},description:"Applies a high-pass filter to an audio signal node.",effect:"[L_graph F_cutoff F_resonance] -> [L_graph]"},examples:[{code:"noise 2000 0.2 hpf play",expected:[["hpf",["noise"],2e3,.2]]}]},j1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["ad",r,u,s])},description:"Creates an Attack-Decay envelope generator node.",effect:"[S_gate F_attack F_decay] -> [L_graph]"},examples:[{code:"440 sine 1 0.01 0.4 ad mul play",expected:[["mul",["sine",440],["ad",1,.01,.4]]]},{code:"1 0.1 0.2 ad",expected:[["ad",1,.1,.2]]}]},B1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop(),d=l.pop(),g=l.pop();l.push(["adsr",g,d,r,u,s])},description:"Creates an Attack-Decay-Sustain-Release (ADSR) envelope node.",effect:"[S_gate F_a F_d F_s F_r] -> [L_graph]"},examples:[{code:"440 sine 1 0.1 0.2 0.5 0.3 adsr mul play",expected:[["mul",["sine",440],["adsr",1,.1,.2,.5,.3]]]},{code:"1 0.1 0.2 0.5 0.3 adsr",expected:[["adsr",1,.1,.2,.5,.3]]}]},C1={definition:{exec:function*(l){const s=l.pop(),u=l.pop(),r=l.pop();l.push(["delay",r,u,s])},description:"Applies a delay effect with feedback to an audio signal node.",effect:"[L_graph F_time F_feedback] -> [L_graph]"},examples:[{code:"220 sine dup 0.25 0.5 delay mix 0.5 mul play",assert:l=>l.length===1&&l[0][0]==="mul"}]},U1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["distort",u,s])},description:"Applies distortion to an audio signal node.",effect:"[L_graph F_amount] -> [L_graph]"},examples:[{code:"220 saw 0.8 distort 0.5 mul play",expected:[["mul",["distort",["saw",220],.8],.5]]}]},H1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["pan",u,s])},description:"Pans a mono signal node in the stereo field. -1 is hard left, 1 is hard right.",effect:"[L_graph F_pos] -> [L_graph]"},examples:[{code:"220 sine -0.7 pan play",expected:[["pan",["sine",220],-.7]]}]},Y1={definition:{exec:function*(l){const s=l.pop();l.push(["note",s])},description:"Creates a node that converts a MIDI note number to a frequency in Hz.",effect:"[N_midi] -> [L_graph]"},examples:[{code:"69 note sine play",expected:[["sine",["note",69]]]},{code:"69 note",expected:[["note",69]]}]},k1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();if(!Array.isArray(s))throw new Error("seq expects a list of values.");l.push(["seq",u,...s])},description:"Creates a step sequencer node. Steps through the list of values on each tick of the clock signal.",effect:"[L_clock L_values] -> [L_graph]"},examples:[{code:"4 impulse [60 64 67 72] seq note sine play",expected:[["sine",["note",["seq",["impulse",4],60,64,67,72]]]]},{code:"4 impulse [60 64 67] seq",expected:[["seq",["impulse",4],60,64,67]]}]},L1={definition:{exec:function*(l){const s=l.pop();l.push(["impulse",s])},description:"Creates a trigger impulse oscillator node at a given frequency (Hz).",effect:"[F_freq] -> [L_graph]"},examples:[{code:"8 impulse 0.5 mul play",expected:[["mul",["impulse",8],.5]]},{code:"8 impulse",expected:[["impulse",8]]}]},X1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["mix",u,s])},description:"Mixes two audio signal nodes together by adding them.",effect:"[L_graphA L_graphB] -> [L_graph]"},examples:[{code:"220 sine 330 sine mix 0.5 mul play",expected:[["mul",["mix",["sine",220],["sine",330]],.5]]}]},G1={definition:{exec:function*(l){const s=l.pop(),u=l.pop();l.push(["mul",u,s])},description:"Multiplies two audio signals (or a signal and a number for gain).",effect:"[L_graphA L_graphB_or_F] -> [L_graph]"},examples:[{code:"440 sine 0.5 mul play",expected:[["mul",["sine",440],.5]]}]},Q1={definition:{exec:function*(l){if(l.length<3)throw new Error("ctrl expects 3 arguments on the stack.");const s=l.pop(),u=l.pop(),r=l.pop();if(typeof r!="symbol"||typeof u!="symbol"||typeof s!="number")throw l.push(r,u,s),new Error("ctrl expects: symbol (patch name), symbol (param name), number (value)");const d=Symbol.keyFor(r);if(!d)throw new Error("ctrl: Invalid symbol for patch name.");const g=Symbol.keyFor(u);if(!g)throw new Error("ctrl: Invalid symbol for parameter name.");Ot.ctrl(d,g,s),l.push(r,u,s)},description:"Controls a parameter of a running audio patch. Consumes the patch name, parameter name, and value, then pushes them back onto the stack.",effect:"[A B C] -> [A B C]"},examples:[{code:":my-synth :freq 440 ctrl",assert:l=>l.length===3&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="my-synth"&&typeof l[1]=="symbol"&&Symbol.keyFor(l[1])==="freq"&&l[2]===440,expectedDescription:"[:my-synth :freq 440]"}]},Z1={definition:{exec:function*(l){Ot.stopAll()},description:"Stops all currently playing audio voices immediately.",effect:"[] -> []"},examples:[{code:"hush",expected:[]}]},V1={definition:{exec:function*(l){if(l.length<2)throw new Error("patch expects 2 arguments on the stack.");const s=l.pop(),u=l.pop();if(typeof s!="symbol"||!Array.isArray(u))throw l.push(u,s),new Error("patch operator expects a quotation and a name (symbol).");const r=Symbol.keyFor(s);if(!r)throw new Error("patch: Invalid symbol for patch name.");Ot.definePatch(r,u),l.push(s)},description:"Defines a named audio patch from a quotation. The patch can then be played, stopped, and controlled by its name. Pushes the patch name back onto the stack as a result.",effect:"[[Graph]] [Sym_name] -> [Sym_name]"},examples:[{code:"[ 60 note saw ] :bass patch",assert:l=>l.length===1&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="bass",expectedDescription:"[:bass]"},{code:"[440 sine] :my-sine patch",assert:l=>l.length===1&&typeof l[0]=="symbol"&&Symbol.keyFor(l[0])==="my-sine",expectedDescription:"[:my-sine]"}]},K1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const N=["mul",["mul",["sine",["mix",60,["mul",["ad",[...s],.001,.1],200]]],["ad",s,.001,.4]],1];l.push(N)},description:"Creates a bass drum synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",effect:"[L_gate]? -> [L_graph]"},examples:[{code:"bd play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"2 impulse bd play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},$1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const d=["mul",["mix",["triangle",220],["triangle",180]],.5],g=["ad",[...s],.001,.1],h=["mul",["mul",["mix",d,["mul",["mul",["hpf",["noise"],1e3,.5],g],.8]],["ad",s,.001,.2]],.9];l.push(h)},description:"Creates a snare drum synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",effect:"[L_gate]? -> [L_graph]"},examples:[{code:"sd play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"2 impulse sd play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},J1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const u=120,r=["ad",[...s],.001,.08],T=["mul",["mul",["sine",["mix",u,["mul",r,u*1.5]]],["ad",s,.001,.3]],.9];l.push(T)},description:"Creates a low tom synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",effect:"[L_gate]? -> [L_graph]"},examples:[{code:"lt play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"2 impulse lt play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},W1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const u=180,r=["ad",[...s],.001,.08],T=["mul",["mul",["sine",["mix",u,["mul",r,u*1.5]]],["ad",s,.001,.3]],.9];l.push(T)},description:"Creates a mid tom synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",effect:"[L_gate]? -> [L_graph]"},examples:[{code:"mt play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"2 impulse mt play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},F1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const u=250,r=["ad",[...s],.001,.08],T=["mul",["mul",["sine",["mix",u,["mul",r,u*1.5]]],["ad",s,.001,.3]],.9];l.push(T)},description:"Creates a high tom synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",effect:"[L_gate]? -> [L_graph]"},examples:[{code:"ht play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"2 impulse ht play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},I1={definition:{exec:function*(l){let s;l.length>0&&Array.isArray(l[l.length-1])?s=l.pop():s=["oneshot"];const T=["mul",["mul",["hpf",["noise"],8e3,.1],["ad",s,.001,.05]],.5];l.push(T)},description:"Creates a closed hi-hat synth node. If a gate signal is on the stack, it is used for triggering. Otherwise, the sound is triggered once immediately.",effect:"[L_gate]? -> [L_graph]"},examples:[{code:"hh play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"},{code:"8 impulse hh play",assert:l=>l.length===1&&Array.isArray(l[0])&&l[0][0]==="mul",expectedDescription:"A valid audio graph"}]},gd={"+":(l,s)=>`(${s} + ${l})`,"-":(l,s)=>`(${s} - ${l})`,"*":(l,s)=>`(${s} * ${l})`,"/":(l,s)=>`(${s} / ${l})`,"%":(l,s)=>`(${s} % ${l})`,">>":(l,s)=>`(${s} >> ${l})`,"<<":(l,s)=>`(${s} << ${l})`,"&":(l,s)=>`(${s} & ${l})`,"|":(l,s)=>`(${s} | ${l})`,"^":(l,s)=>`(${s} ^ ${l})`,"~":l=>`(~${l})`,sin:l=>`Math.sin(${l})`,cos:l=>`Math.cos(${l})`,tan:l=>`Math.tan(${l})`,pow:(l,s)=>`Math.pow(${s}, ${l})`,sqrt:l=>`Math.sqrt(${l})`,abs:l=>`Math.abs(${l})`,floor:l=>`Math.floor(${l})`,ceil:l=>`Math.ceil(${l})`,round:l=>`Math.round(${l})`,">":(l,s)=>`((${s} > ${l}) ? 1 : 0)`,"<":(l,s)=>`((${s} < ${l}) ? 1 : 0)`,">=":(l,s)=>`((${s} >= ${l}) ? 1 : 0)`,"<=":(l,s)=>`((${s} <= ${l}) ? 1 : 0)`,"==":(l,s)=>`((${s} === ${l}) ? 1 : 0)`,"!=":(l,s)=>`((${s} !== ${l}) ? 1 : 0)`},P1={"+":2,"-":2,"*":2,"/":2,"%":2,">>":2,"<<":2,"&":2,"|":2,"^":2,"~":1,sin:1,cos:1,tan:1,pow:2,sqrt:1,abs:1,floor:1,ceil:1,round:1,">":2,"<":2,">=":2,"<=":2,"==":2,"!=":2};function eg(l){const s=[];for(const u of l)if(typeof u=="number")s.push(String(u));else if(typeof u=="string")if(u==="t")s.push("t");else if(gd[u]){const r=P1[u];if(s.length<r)throw new Error(`Stack underflow during bytebeat transpilation for operator '${u}'.`);const d=s.splice(s.length-r,r),g=gd[u](...d.reverse());s.push(g)}else throw new Error(`Unsupported operator in bytebeat quotation: '${u}'. Only basic math, bitwise, and some JS Math operators are supported.`);else throw new Error(`Unsupported token type in bytebeat quotation: ${typeof u}`);if(s.length===0)throw new Error("Bytebeat quotation must result in a value on the stack.");return s[s.length-1]}const tg={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("bytebeat expects a quotation (list).");const u=eg(s);l.push(["bytebeat",u])},description:"Bytebeat node. Consumes a quotation which is a stack-based formula that is transpiled into a high-performance JavaScript expression. This expression is evaluated for every audio sample. The special operator `t` is implicitly available in the quotation and represents the current time in samples. The integer result of the formula is wrapped to 8 bits (0-255) and converted to an audio signal (-1 to 1). Supported operators: `+ - * / % >> << & | ^ ~ sin cos tan pow sqrt abs floor ceil round > < >= <= == !=`. Relational operators return 1 for true and 0 for false.",effect:"[[Quotation]] -> [L_graph]"},examples:[{code:"[t 255 &] bytebeat",expected:[["bytebeat","(t & 255)"]]},{code:"[t 1000 % 25 * sin] bytebeat",expected:[["bytebeat","Math.sin(((t % 1000) * 25))"]]}]},xd={"+":(l,s)=>`(${s} + ${l})`,"-":(l,s)=>`(${s} - ${l})`,"*":(l,s)=>`(${s} * ${l})`,"/":(l,s)=>`(${s} / ${l})`,"%":(l,s)=>`(${s} % ${l})`,">>":(l,s)=>`(${s} >> ${l})`,"<<":(l,s)=>`(${s} << ${l})`,"&":(l,s)=>`(${s} & ${l})`,"|":(l,s)=>`(${s} | ${l})`,"^":(l,s)=>`(${s} ^ ${l})`,"~":l=>`(~${l})`,sin:l=>`Math.sin(${l})`,cos:l=>`Math.cos(${l})`,tan:l=>`Math.tan(${l})`,pow:(l,s)=>`Math.pow(${s}, ${l})`,sqrt:l=>`Math.sqrt(${l})`,abs:l=>`Math.abs(${l})`,floor:l=>`Math.floor(${l})`,ceil:l=>`Math.ceil(${l})`,round:l=>`Math.round(${l})`,">":(l,s)=>`((${s} > ${l}) ? 1 : 0)`,"<":(l,s)=>`((${s} < ${l}) ? 1 : 0)`,">=":(l,s)=>`((${s} >= ${l}) ? 1 : 0)`,"<=":(l,s)=>`((${s} <= ${l}) ? 1 : 0)`,"==":(l,s)=>`((${s} === ${l}) ? 1 : 0)`,"!=":(l,s)=>`((${s} !== ${l}) ? 1 : 0)`},ng={"+":2,"-":2,"*":2,"/":2,"%":2,">>":2,"<<":2,"&":2,"|":2,"^":2,"~":1,sin:1,cos:1,tan:1,pow:2,sqrt:1,abs:1,floor:1,ceil:1,round:1,">":2,"<":2,">=":2,"<=":2,"==":2,"!=":2};function ag(l){const s=[];for(const u of l)if(typeof u=="number")s.push(String(u));else if(typeof u=="string")if(u==="t")s.push("t");else if(xd[u]){const r=ng[u];if(s.length<r)throw new Error(`Stack underflow during floatbeat transpilation for operator '${u}'.`);const d=s.splice(s.length-r,r),g=xd[u](...d.reverse());s.push(g)}else throw new Error(`Unsupported operator in floatbeat quotation: '${u}'. Only basic math, bitwise, and some JS Math operators are supported.`);else throw new Error(`Unsupported token type in floatbeat quotation: ${typeof u}`);if(s.length===0)throw new Error("Floatbeat quotation must result in a value on the stack.");return s[s.length-1]}const lg={definition:{exec:function*(l){const s=l.pop();if(!Array.isArray(s))throw new Error("floatbeat expects a quotation (list).");const u=ag(s);l.push(["floatbeat",u])},description:"Floatbeat node. Consumes a quotation which is a stack-based formula that is transpiled into a high-performance JavaScript expression. This expression is evaluated for every audio sample. The special operator `t` is implicitly available in the quotation and represents the current time in samples. The float result is used directly as an audio sample and should be in the -1 to 1 range. Supported operators: `+ - * / % >> << & | ^ ~ sin cos tan pow sqrt abs floor ceil round > < >= <= == !=`. Relational operators return 1 for true and 0 for false.",effect:"[[Quotation]] -> [L_graph]"},examples:[{code:"[t 44100 / 440 * 2 * 3.14159 * sin] floatbeat",expected:[["floatbeat","Math.sin(((((t / 44100) * 440) * 2) * 3.14159))"]]}]},ig={definition:{exec:function*(l){l.push("t")},description:"Represents the time variable (sample count) inside a `bytebeat` or `floatbeat` quotation. This operator is only meaningful when used inside a quotation passed to those operators.",effect:"-> t"},examples:[{code:"t",expected:["t"]}]},cg={name:"Audio",description:"Operators for audio synthesis and processing using the Web Audio API.",definitions:{ad:j1,adsr:B1,bd:K1,bytebeat:tg,ctrl:Q1,delay:C1,distort:U1,floatbeat:lg,hh:I1,hpf:q1,ht:F1,hush:Z1,impulse:L1,lpf:D1,lt:J1,mix:X1,mt:W1,mul:G1,noise:z1,note:Y1,pan:H1,patch:V1,play:w1,pulse:R1,saw:_1,sd:$1,seq:k1,sine:O1,stop:M1,t:ig,tempo:N1}},sg={name:"Mathematical & Bitwise Operators",description:"Performing arithmetic, bitwise, and common mathematical functions.",definitions:{..._0.definitions,...Bm.definitions}},Wt={literals:a0,stack:dy,advancedStack:ky,logic:o0,math:sg,jsString:s1,types:my,advancedTypes:h1,lists:Jm,functional:Iy,utils:Ey,predicates:V0,combinators:ym,recursion:P0,repl:g1,history:A1,audio:cg},Td={};for(const l of Object.values(Wt))for(const s in l.definitions)Td[s]=l.definitions[s];const bd=l=>{const s=Td[l];if(!s)throw new Error(`Operator '${l}' not found for documentation.`);const u=s.examples[0].code,r=Array.isArray(u)?u.join(`
`):u;return{name:l,...s.definition,example:r}},og=[{name:"Getting Started: Comments & Primitives",description:"The basics of the Yield language, including syntax and fundamental data types.",operators:["true","false"]},{name:"Variables & Stateful Functions",description:"In Yield, there is no distinction between 'global state' and 'functions'. Everything is a word in the dictionary pointing to a list. If the list contains operators, it's a function; if it contains data, it's a variable. The `popto` (`=`) and `appendTo` (`<-`) operators modify these dictionary definitions.",operators:["popto","appendTo","body","yield"]},{name:"Stack Primitives",category:"stack"},{name:"Advanced Stack Operations",category:"advancedStack"},{name:"Aggregate (List) Operators",category:"lists"},{name:"Functional & Aggregate Operations",category:"functional"},{name:"Utility Operators",category:"utils"},{name:"Set operations",category:"logic"},{name:"Mathematical & Bitwise Operators",category:"math"},{name:"Predicates",category:"predicates"},{name:"JavaScript String Operations",category:"jsString"},{name:"Advanced Types & Regex",category:"advancedTypes"},{name:"Combinators",category:"combinators"},{name:"System & Environment",category:"literals"},{name:"History Management",category:"history"},{name:"Audio Synthesis",category:"audio"},{name:"Bytebeat & Floatbeat"},{name:"Type & Conversion",category:"types"},{name:"Recursive Combinators",category:"recursion"}],ug=og.map(l=>{const s=Wt[l.category],u={name:l.name,description:l.description||(s==null?void 0:s.description)||"",cells:[]};l.name==="Getting Started: Comments & Primitives"&&u.cells.push({name:"Comments",description:"Yield supports two styles of comments. `(* ... *)` for block comments, and `#` for comments that go to the end of the line. The interpreter ignores all comments.",effect:"N/A",example:"1 2 + (* This is a comment *)"},{name:"Integers & Floats",description:"Numbers (both integers and decimals) are pushed directly onto the stack.",effect:"-> N",example:"42 -10 3.14159"},{name:"Strings (Bare Words & Quoted)",description:'Any word that is not a defined operator or number is treated as a string. Use double quotes `"..."` for strings containing spaces or to use a reserved word as a string literal.',effect:"-> S",example:`hello # is the string "hello"
"hello world" # is a multi-word string`},{name:"Symbols",description:"Words prefixed with a colon, like `:freq`, are symbols. They are used as lightweight, unique identifiers, particularly for naming parameters in audio patches.",effect:"-> Sym",example:":my-symbol"});let r=l.operators||(s?Object.keys(s.definitions):[]);l.category==="audio"&&(r=r.filter(d=>!["bytebeat","floatbeat","t"].includes(d)));for(const d of r)u.cells.push(bd(d));if(l.name==="Audio Synthesis"){u.cells.push({name:"How Audio Works: Custom Synths (Advanced)",description:"Yield's audio system is based on building a graph of signal processors. You use audio operators like `sine`, `lpf`, and `mul` to construct this graph on the stack. The final graph is a nested list that represents the complete synthesizer.\n\n1.  **Build the Graph**: Execute a sequence of audio operators. They consume parameters and other graph nodes from the stack and push a new, combined graph node back onto the stack.\n2.  **Name the Patch**: Use `patch` with a symbol to take the final graph from the stack and store it as a named, reusable template.\n3.  **Play & Control**: Use `play` to start the sound, and `ctrl` to change parameters of a running patch. Parameter names (e.g., `:freq`) are symbols inferred from the operators used when building the graph.",effect:"N/A",example:`# 1. Build the graph for a synth and name it in one go.
# The operators execute from left to right, building up the graph on the stack.
# 'patch' consumes the final graph and the symbol name.
60 note saw 1000 0.7 lpf 0.5 mul :my-synth patch

# 2. Play it.
:my-synth play

# 3. Control its parameters in real-time.
:my-synth :freq 440 ctrl
:my-synth :cutoff 400 ctrl

# 4. Stop it.
:my-synth stop`}),u.cells.push({name:"Putting It All Together: A Full Song",description:"This example combines everything we've learned: setting a tempo, sequencing drums, creating a bassline, adding a lead synth with effects, and mixing it all together into a complete musical loop. Press play to hear the final result.",effect:"N/A",example:`# 1. Set the project tempo to 135 BPM
135 tempo

# 2. Create the main 8th note clock
# (135 BPM / 60s) * 2 beats-per-8th = 4.5 Hz
[4.5 impulse] clk =

# 3. Sequence the Drums
# Kick drum on a classic "four-on-the-floor" pattern
clk [1 0 1 0 1 0 1 0] seq bd

# Snare drum on beats 2 and 4
clk [0 0 1 0 0 0 1 0] seq sd

# Mix kick and snare
mix

# Hi-hats on every 8th note
clk [1 1 1 1 1 1 1 1] seq hh

# Mix in the hi-hats
mix

# --- Store the final drum mix on the stack for later ---
# (The drum graph is now the only thing on the stack)

# 4. Create the Bassline
# First, create the frequency sequence from the clock and note data
clk [40 40 43 38] seq note
# Then, feed that frequency sequence into a saw wave oscillator
saw

# Give it a punchy envelope
clk [1 1 1 1 1 1 1 1] seq 0.001 0.3 ad

# Multiply oscillator by envelope
mul

# Low-pass filter to shape the sound
400 0.5 lpf

# 5. Mix the bassline with the drums
# (Stack: [Drums] [Bass]) -> [Mixed]
mix

# 6. Create the Lead Synth (Arpeggio)
# 16th note clock (double the main clock's frequency)
[9 impulse] arp_clk =

# Create the frequency sequence for the arpeggio
arp_clk [60 63 67 72 63 67 72 75 67 72 75 79 72 75 79 84] seq note
# Feed it into a pulse wave oscillator with a 50% duty cycle
0.5 pulse

# A sharp, plucky envelope
arp_clk [1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0] seq 0.01 0.2 ad

# Multiply oscillator by envelope
mul

# Add a touch of stereo delay for space
0.375 0.6 delay

# Pan it slightly to the right
0.2 pan

# 7. Mix the lead synth with everything else
# (Stack: [Drums+Bass] [Lead]) -> [Mixed]
mix

# 8. Final touches
# Attenuate the final mix to prevent clipping
0.6 mul

# 9. Play the final song!
play`});const d=[{name:"Getting Started: Drum Machines",description:"Yield includes several pre-built drum synthesizers for making sounds quickly. To play a single drum hit, just use the machine's name followed by the `play` operator.",effect:"N/A",example:`# Play a single kick drum hit.
bd play

# Play a single snare drum hit.
# (You may want to press the cell's stop button before playing a new sound)
sd play`},{name:"Sequencing Drums",description:"To create rhythms, you need a repeating trigger signal. The `impulse` operator does this. It creates a steady beat at a given frequency in Hertz (beats per second). This trigger signal is then passed to the drum machine.",effect:"N/A",example:`# A steady kick drum at 2Hz (120 BPM).
# The 'impulse' creates the trigger, which 'bd' then uses.
2 impulse bd play

# A faster snare pattern at 4Hz.
# Note: Stop the previous sound before starting a new one.
4 impulse sd play`},{name:"Creating a Full Drum Beat",description:"By mixing the output of several sequenced drum machines, you can create complex rhythms. Here, we'll define a clock, create separate sequences for the kick, snare, and hi-hat, and then mix them all together to play as a single sound.",effect:"N/A",example:`# Set tempo to 120 BPM
120 tempo

# 8th note clock (at 120bpm, 8ths are 4Hz)
[4 impulse] clk =

# Kick on beats 1 and 3
clk [1 0 0 0 1 0 0 0] seq bd

# Snare on beats 2 and 4
clk [0 0 1 0 0 0 1 0] seq sd

# Mix kick and snare together
mix

# Closed hi-hats on every 8th note
clk [1 1 1 1 1 1 1 1] seq hh

# Mix in the hi-hats
mix

# Attenuate the final mix to prevent clipping
0.7 mul

# Play the final beat!
play`}];u.cells.unshift(...d.reverse())}if(l.name==="Bytebeat & Floatbeat"){u.description="Create music with mathematical formulas. This dedicated section provides a focused tutorial on this unique and powerful synthesis technique, from basic sawtooth waves to complex, evolving textures.";const d=[{name:"Bytebeat: The Sawtooth Wave",description:"Bytebeat is music from a single mathematical formula. The key to understanding how it works in Yield is to know that your program runs **once** to set up the audio graph, but the audio itself runs **continuously** in a high-speed loop (e.g., 44,100 times per second).\n\nBecause of this, we can't write the formula directly on the stack. That would calculate a result only once. Instead, we wrap the formula in a quotation `[...]`. This captures the formula as a piece of data. The `bytebeat` operator takes this formula and sends it to the audio engine.\n\nThe audio engine then evaluates your formula for every single audio sample, creating the sound wave. The special operator `t` is a placeholder inside your formula that the audio engine replaces with the current sample number (0, 1, 2, 3...).\n\nWhen `t` is used by itself, it creates a rising sawtooth wave as its value counts up from 0 to 255 and then wraps around.",effect:"N/A",example:`# The simplest bytebeat is just t.
# We multiply by 0.5 to lower the volume.
[ t ] bytebeat 0.5 mul play`},{name:"Bytebeat: Pitch Control",description:"You can change the pitch using basic arithmetic. Multiplying `t` makes it count faster, raising the pitch. Dividing `t` makes it count slower, lowering the pitch. The formulas use postfix notation, where operators follow the values they act on.",effect:"N/A",example:`# To make the pitch higher, we multiply t by 4.
# In postfix, "t * 4" is written as "t 4 *".
# This means: 1. Push t, 2. Push 4, 3. Call multiply.
[ t 4 * ] bytebeat 0.5 mul play

# To lower the pitch, we can use division.
# The postfix for "t / 16" is "t 16 /".
[ t 16 / ] bytebeat 0.5 mul play`},{name:"Bytebeat: Amplitude & Modulo",description:"The modulo operator (`%`) confines the `t` counter to a specific range. `t 128 %` creates a sawtooth wave that only counts from 0 to 127. This reduces the amplitude (volume) by half and also doubles the frequency, as the wave now wraps around twice as fast.",effect:"N/A",example:`# This wave is quieter and an octave higher.
# The postfix for "t % 128" is "t 128 %".
[ t 128 % ] bytebeat play`},{name:"Bytebeat: Square Waves",description:"Bitwise operators are the heart of classic bytebeat sounds. The bitwise AND (`&`) operator can be used to isolate specific bits of the `t` counter. When you AND `t` with a power of two (like 128), the result flips between 0 and that number, creating a square wave.",effect:"N/A",example:`# This creates a square wave that jumps between 0 and 128.
[ t 128 & ] bytebeat 0.5 mul play`},{name:"Bytebeat: Octave Shifting",description:"The bitshift operators `>>` (right shift) and `<<` (left shift) are a fast way to divide or multiply a number by powers of two. In bytebeat, shifting `t` by 1 effectively halves or doubles its frequency, changing its pitch by one octave.",effect:"N/A",example:`# One octave down from the base sawtooth.
[ t 1 >> ] bytebeat 0.5 mul play

# One octave up.
[ t 1 << ] bytebeat 0.5 mul play`},{name:"Bytebeat: Mixing & Textures",description:"You can combine multiple expressions to create more complex sounds. The bitwise OR (`|`) operator acts like a lo-fi mixer, adding waveforms together. The bitwise XOR (`^`) operator creates complex, often glitchy and metallic sounds by flipping bits where the two inputs differ.",effect:"N/A",example:`# We can "mix" waves with bitwise OR (|).
# The formula (t >> 4) | (t << 2) becomes:
# 1. Calculate (t >> 4) -> t 4 >>
# 2. Calculate (t << 2) -> t 2 <<
# 3. OR the results together with |
[ t 4 >> t 2 << | ] bytebeat 0.2 mul play

# A classic formula using XOR for a noisy texture.
[ t 5 * t 7 >> ^ ] bytebeat 0.2 mul play`},{name:"Bytebeat: Translating Advanced Formulas",description:"Many bytebeat formulas are found online in a C-style infix notation. Yield's `bytebeat` uses a postfix (stack-based) notation inside its quotation. Translating between them involves identifying the order of operations and converting them to a stack-based sequence. This example breaks down a complex formula from the demoscene.",effect:"N/A",example:`# Original C-style formula from viznut:
# 128
# + 24*sin( ((t/24)*(t>>10))&42 + sin(((t/64)*(t>>15))&21) )
# + sin(t/12 + 4*sin(t/24)) * ((t>>11)&1) * 16
# + sin(t/24 + 4*sin(t/48)) * ((t>>10)&1) * 16
# + 56*( (3e3/((t*4)&16383))&1 )
# + 56*( (300/((t*32)&28600))&1 )
# + 12*sin( ((t/16)*(t>>10))&42 + sin(((t/64)*(t>>7))&8) )

# Yield (postfix) equivalent. The formula is a sum of 7 terms.
# Each term is calculated, leaving its result on the stack.
# The '+' operators then sum them up at the end.
[
  128
  # Term 2: 24 * sin(...)
  t 24 / t 10 >> * 42 & t 64 / t 15 >> * 21 & sin + sin 24 *
  +
  # Term 3: sin(...) * ... * 16
  t 12 / t 24 / sin 4 * + sin t 11 >> 1 & * 16 *
  +
  # Term 4: sin(...) * ... * 16
  t 24 / t 48 / sin 4 * + sin t 10 >> 1 & * 16 *
  +
  # Term 5: 56 * (...)
  3000 t 4 * 16383 & / 1 & 56 *
  +
  # Term 6: 56 * (...)
  300 t 32 * 28600 & / 1 & 56 *
  +
  # Term 7: 12 * sin(...)
  t 16 / t 10 >> * 42 & t 64 / t 7 >> * 8 & sin + sin 12 *
  +
]
bytebeat 0.3 mul play`},{name:"Introduction to Floatbeat",description:"Floatbeat is similar to bytebeat but uses floating-point numbers instead of 8-bit integers. Your formula should produce values in the -1.0 to 1.0 range, which are used directly as audio samples. This allows for higher fidelity sounds without the characteristic wrapping and bitwise artifacts of bytebeat.",effect:"N/A",example:`# A simple 440Hz sine wave.
# t is divided by the sample rate (e.g., 44100) to get time in seconds.
[ t 44100 / 440 * 2 * 3.14159 * sin ] floatbeat 0.5 mul play`},{name:"Floatbeat: Shepard Tone",description:"A classic audio illusion of a continuously rising or falling pitch. This formula achieves it by modulating a sine wave's frequency. Importantly, stack operators like 'dup' are not supported inside the quotation because the formula is transpiled to a single line of JavaScript, not executed on the Yield stack. The workaround is to simply recalculate the required value.",effect:"N/A",example:"[ t 22050 / t 22050 / floor 2 % 2 * 1 - * 200 * sin ] floatbeat 0.3 mul play"}];u.cells.push(...d)}if(l.name==="Set operations"&&u.cells.unshift({name:"Set Literals",description:"Sets of small non-negative integers are written inside curly braces. Logical operators are overloaded to perform set operations.",effect:"-> {I}",example:"{1 2 3} {2 3 4} and # -> {2 3}"}),l.category==="jsString"){const d=["ucase","locase","trim","slice","splitstr","starts","ends","replace"];u.cells=d.map(g=>bd(g))}if(l.category==="literals"){const d=["true","false","maxint","stack","clock","rand","clearall"],g=new Set(u.cells.map(x=>x.name)),N=d.map(x=>g.has(x)?u.cells.find(h=>h.name===x):null).filter(Boolean),T=u.cells.filter(x=>!d.includes(x.name));u.cells=[...N,...T]}return u}),we=(()=>{const l={},s={},u=new Set,r={},d={"=":"popto","<-":"appendTo"};for(const v in Wt){const H=Wt[v],C={};for(const k in H.definitions)C[k]=H.definitions[k];Object.assign(l,C),Object.assign(r,C),s[v]={name:H.name,description:H.description,definitions:C}}Object.keys(l).forEach(v=>u.add(v));const g=new Set([...Object.keys(Wt.combinators.definitions),...Object.keys(Wt.recursion.definitions)]),N=v=>{const H=v.replace(/\(\*.*?\*\)/gs,"").replace(/#.*/g,""),C=/\[|\]|\{|\}|"[^"]*"|:[^\s\[\]{}"]+|[^\[\]{}\s]+/g,k=H.match(C)||[],$=()=>{const le=[];for(;k.length>0;){const B=k.shift();if(B==="]"||B==="}")return le;if(B==="[")le.push($());else if(B==="{"){const V=$().map(D=>typeof D=="number"?D:0);le.push(new Set(V))}else if(B.startsWith('"')&&B.endsWith('"'))le.push(`\0${B.slice(1,-1)}`);else if(B.startsWith(":"))le.push(Symbol.for(B.slice(1)));else{const U=parseFloat(B);le.push(!isNaN(U)&&isFinite(B)?U:B)}}return le};return $()},T=function*(v,H,C={}){for(v=Array.isArray(v)?[...v]:[v];v.length>0;){let k=v.shift();if(typeof k=="string"&&d[k]&&(k=d[k]),C.isDebug&&C.onToken&&C.onToken(k,H),typeof k=="string"&&k.startsWith("\0")){H.push(k.slice(1)),yield;continue}let $;if(typeof k=="string"||typeof k=="number")$=String(k);else if(typeof k=="symbol"){const U=Symbol.keyFor(k);U&&($=`:${U}`)}const le=$?l[$]:void 0;let B=!1;if(le){B=!0;const U=new Set(["popto","appendTo","yield","body","popstackto"]),V=new Set(["popto","appendTo","popstackto"]);let D=v.length>0?v[0]:null,X=v.length>1?v[1]:null,Q=typeof D=="string"&&d[D]?d[D]:D,I=typeof X=="string"&&d[X]?d[X]:X;(U.has(Q)||V.has(I))&&(B=!1)}if(B)if("definition"in le)yield*le.definition.exec(H,C,T,l);else{const U=le.body;let V=!1;if(Array.isArray(U)&&U.length>0){const D=U[U.length-1];if(typeof D=="string"&&g.has(D))V=!0;else{const X=U.flat(1/0).some(I=>{if(typeof I!="string")return!1;const ye=l[I];return!!(ye&&"definition"in ye)}),Q=U.length===1&&X;X&&!Q&&(V=!0)}}if(V)v.unshift(...le.body);else if(U.length===1&&(typeof U[0]!="object"||U[0]===null))v.unshift(U[0]);else{const D=Nt(le.body),X=I=>Array.isArray(I)?I.map(X):typeof I=="string"&&I.startsWith("\0")?I.slice(1):I,Q=X(D);H.push(Q)}}else if(Array.isArray(k)){const U=V=>Array.isArray(V)?V.map(U):typeof V=="string"&&V.startsWith("\0")?V.slice(1):V;H.push(U(k))}else H.push(k);yield}};return{parse:N,run:(v,H,C={})=>{const k={...C,parse:N},{stopSignal:$={stopped:!1},pauseSignal:le={paused:!1},onStep:B=()=>{},getDelay:U=()=>k.delay||0,isDebug:V=!1}=k;return new Promise((D,X)=>{const Q=T(v,H,k),I=()=>{try{if($.stopped)return D();if(le.paused){k.setResume&&k.setResume(I);return}const ye=V?1:1e3;for(let oe=0;oe<ye;oe++)if(Q.next().done)return V&&B(H),D();V&&B(H),setTimeout(I,U())}catch(ye){X(ye)}};k.setResume&&k.setResume(I),I()})},reset:()=>{Object.keys(l).forEach(v=>{u.has(v)||delete l[v]}),Object.assign(l,r)},dictionary:l,dictionaryCategories:s,builtInKeys:u}})();class Ed{constructor(s){this.history=[],this.currentIndex=-1,this.builtInKeys=s}getUserDictionary(s){const u={};for(const r in s)this.builtInKeys.has(r)||(u[r]=s[r]);return u}createSnapshot(s,u){return{stack:Nt(s),userDictionary:Nt(this.getUserDictionary(u))}}add(s){this.currentIndex>-1&&Tn(this.history[this.currentIndex],s)||(this.currentIndex<this.history.length-1&&this.history.splice(this.currentIndex+1),this.history.push(s),this.currentIndex=this.history.length-1)}undo(){return this.currentIndex>0?(this.currentIndex--,Nt(this.history[this.currentIndex])):null}redo(){return this.currentIndex<this.history.length-1?(this.currentIndex++,Nt(this.history[this.currentIndex])):null}clear(){this.history=[],this.currentIndex=-1}}let Tt=[];const rg=()=>{const[l,s]=P.useState([]),[u,r]=P.useState(""),[d,g]=P.useState(!1),[N,T]=P.useState(!0),x=P.useRef(null),h=P.useRef(null),[v,H]=P.useState([]),[C,k]=P.useState(-1),$=P.useRef(null);P.useEffect(()=>{var X;we.reset(),Tt=[],$.current=new Ed(we.builtInKeys);const D=$.current.createSnapshot(Tt,we.dictionary);$.current.add(D),s([]),(X=h.current)==null||X.focus()},[]),P.useEffect(()=>{var D;(D=x.current)==null||D.scrollIntoView({behavior:"smooth"})},[l,N]),P.useEffect(()=>{if(h.current){h.current.style.height="auto";const D=h.current.scrollHeight;h.current.style.height=`${D}px`}},[u]);const le=()=>{if(we.reset(),Tt=[],$.current){$.current.clear();const D=$.current.createSnapshot(Tt,we.dictionary);$.current.add(D)}s([]),r(""),T(!0)},B=async D=>{var oe,Ce;if(N&&T(!1),!D.trim()){const be=`[ ${Tt.map(at).join(" ")} ]`,ce={command:D,output:be,isError:!1};s(ue=>[...ue,ce]);return}const X=D.trim().toLowerCase();if(X==="clear"){s([]);return}const Q=[...v];Q[Q.length-1]!==D&&Q.push(D),H(Q),k(-1),g(!0);let I="";const ye=be=>{I+=be};try{if(X==="reset"){we.reset(),Tt=[],$.current.clear();const w=$.current.createSnapshot(Tt,we.dictionary);$.current.add(w)}if(X==="help"){const w=[];for(const ae in we.dictionaryCategories){const m=we.dictionaryCategories[ae];w.push(`${ae}: ${m.name}`)}let j=w.join(`
`);j+="\n\nUse `<category> help` to see commands in a category.";const Z={command:D,output:j,isError:!1};s(ae=>[...ae,Z]);return}if(X.endsWith(" help")){const w=X.slice(0,-5).trim();let j="",Z=!1;const ae=we.dictionary[w],m=we.dictionaryCategories[w];if(ae&&"definition"in ae){const Y=(Ce=(oe=ae.examples)==null?void 0:oe[0])==null?void 0:Ce.code,L=Y?Array.isArray(Y)?Y.join(`
`):Y:null;j=`${ae.definition.description}${L?`

Example:
  ${L}`:""}`}else if(m){const Y=Object.keys(m.definitions);j=`--- ${m.name} ---
`,j+=`${m.description}

`,j+=`Commands: ${Y.join(", ")}`}else j=`Error: Unknown command or category '${w}'.`,Z=!0;const q={command:D,output:j,isError:Z};s(Y=>[...Y,q]);return}const be=["undo","redo"].includes(X),ce=be?$.current.createSnapshot(Tt,we.dictionary):null,ue=we.parse(D);if(await we.run(ue,Tt,{onOutput:ye,historyManager:$.current,commandHistory:Q}),be){const w=$.current.createSnapshot(Tt,we.dictionary);if(Tn(ce,w))return}if(X!=="undo"&&X!=="redo"&&X!=="again"){const w=$.current.createSnapshot(Tt,we.dictionary);$.current.add(w)}let We=`[ ${Tt.map(at).join(" ")} ]`;I&&(We+=`
`+I);const qe={command:D,output:We,isError:!1};s(w=>[...w,qe])}catch(be){const ce={command:D,output:be.message,isError:!0};s(ue=>[...ue,ce])}finally{if(X==="reset"){const be={command:D,output:"Interpreter state, stack, and history cleared.",isError:!1};s(ce=>[...ce,be])}g(!1),setTimeout(()=>{var be;return(be=h.current)==null?void 0:be.focus()},0)}},U=D=>{const X=D.target.value;if(X.length<u.length){r(X);return}const Q=X.slice(-1);if(["+","-","*","/","%"].includes(Q)&&X.length>1)if(X.slice(-2,-1).trim()!==""){const oe=`${X.slice(0,-1)} ${Q} `;r(oe)}else{const oe=`${X} `;r(oe)}else r(X)},V=D=>{if(!d){if(D.key==="Escape"){D.preventDefault(),le();return}if(D.key==="Enter"&&!D.shiftKey){D.preventDefault();const X=u;r(""),B(X);return}D.key==="ArrowUp"&&(D.preventDefault(),k(X=>{const Q=X===-1?v.length-1:Math.max(0,X-1);return r(v[Q]||""),Q})),D.key==="ArrowDown"&&(D.preventDefault(),k(X=>{const Q=X===-1?-1:Math.min(v.length,X+1);return r(v[Q]||""),Q})),D.key==="ArrowLeft"&&u===""&&(D.preventDefault(),B("undo")),D.key==="ArrowRight"&&u===""&&(D.preventDefault(),B("redo"))}};return S.jsxs("div",{className:"repl-terminal fira-code bg-gray-900 text-white rounded-lg shadow-xl overflow-hidden h-[70vh] flex flex-col",onClick:()=>{var D;return(D=h.current)==null?void 0:D.focus()},children:[S.jsxs("div",{className:"repl-history p-4 overflow-y-auto flex-grow",children:[N&&S.jsx("div",{className:"mb-2 whitespace-pre-wrap",children:S.jsxs("div",{className:"output-area text-gray-100",children:["World Hello!",S.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Try typing `help` to see available commands."})]})}),l.map((D,X)=>S.jsxs("div",{className:"mb-2 whitespace-pre-wrap",children:[S.jsxs("div",{className:"flex items-start",children:[S.jsx("span",{className:"text-green-400 mr-2 flex-shrink-0",children:">"}),S.jsx("span",{className:"text-gray-300",children:D.command})]}),S.jsx("div",{className:`output-area ${D.isError?"text-red-400":"text-gray-100"}`,children:D.output})]},X)),S.jsx("div",{ref:x})]}),S.jsx("div",{className:"repl-input-area p-4 border-t border-gray-700 bg-gray-800",children:S.jsxs("div",{className:"flex items-start",children:[S.jsx("span",{className:"text-green-400 mr-2 flex-shrink-0",children:">"}),S.jsx("textarea",{ref:h,className:"repl-input",value:u,onChange:U,onKeyDown:V,placeholder:"Type command or help",disabled:d,autoFocus:!0,rows:1})]})})]})},vd=()=>S.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),fg=()=>S.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),dg=()=>S.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{d:"M6 6h12v12H6z"})}),pg=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10c0-1.657 1.343-3 3-3s3 1.343 3 3-1.343 3-3 3v-1.5M12 17h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Xi=({cellData:l,compact:s=!1})=>{const[u,r]=P.useState(l.example),[d,g]=P.useState(null),[N,T]=P.useState(null),[x,h]=P.useState("idle"),[v,H]=P.useState(!1),[C,k]=P.useState(!1),[$,le]=P.useState(1e3),B=P.useRef(null),U=P.useRef(""),[V,D]=P.useState(new Set),X=P.useMemo(()=>`cell_${Math.random().toString(36).substr(2,9)}`,[]);P.useEffect(()=>{r(l.example),g(null),T(null),h("idle")},[l.example]);const Q=()=>{var ce,ue;(ce=B.current)!=null&&ce.stopSignal&&(B.current.stopSignal.stopped=!0),C&&((ue=B.current)!=null&&ue.resumeFn)&&(B.current.pauseSignal&&(B.current.pauseSignal.paused=!1),k(!1),B.current.resumeFn()),Ot.stopAll(),D(new Set)},I=()=>{var ue,Ue;if(x!=="running"||!v)return;const ce=!C;k(ce),(ue=B.current)!=null&&ue.pauseSignal&&(B.current.pauseSignal.paused=ce),!ce&&((Ue=B.current)!=null&&Ue.resumeFn)&&B.current.resumeFn()},ye=P.useCallback(async()=>{h("running"),k(!1),g(null),T(null),U.current="",D(new Set);const ce={stopped:!1},ue={paused:!1};B.current={stopSignal:ce,pauseSignal:ue,resumeFn:void 0};let Ue=null,We=[];const qe={stopSignal:ce,pauseSignal:ue,isDebug:v,getDelay:()=>v?$:0,setResume:w=>{B.current&&(B.current.resumeFn=w)},onToken:(w,j)=>{Ue=w,We=JSON.parse(JSON.stringify(j))},onStep:w=>{const j=at(Ue),Z=`[ ${w.map(at).join(" ")} ]  <- [ ${We.map(at).join(" ")} ] ${j}`;g(Z)},onOutput:w=>{U.current+=w},onVoiceCreated:w=>{w&&D(j=>new Set(j).add(w))},onVoiceDestroyed:w=>{w&&D(j=>{const Z=new Set(j);return Z.delete(w),Z})},sourceId:X};try{we.reset();const w=we.parse(u),j=[];await we.run(w,j,qe);const Z=`[ ${j.map(at).join(" ")} ]`;if(ce.stopped)g(`${Z}
(Execution stopped by user)`),h("stopped");else{let ae=Z;U.current&&(ae+=`
`+U.current),g(ae),h("success")}}catch(w){console.error(w),T(w.message),g(null),h("error")}finally{B.current=null,k(!1)}},[u,v,$,X]),oe=x==="running",Ce=oe||V.size>0;let be="bg-gray-800 text-white";return x==="error"&&(be="text-red-600 bg-red-100"),x==="success"&&v&&(be="text-blue-600 bg-blue-100"),S.jsxs("div",{className:"cell bg-white p-4 rounded-lg shadow mb-6 border border-gray-200 relative",children:[!s&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex justify-between items-baseline flex-wrap gap-2",children:[S.jsx("h3",{className:"text-xl font-bold font-mono text-indigo-600",children:l.name}),S.jsx("span",{className:"font-mono text-sm bg-gray-100 p-1 rounded whitespace-nowrap",children:l.effect})]}),S.jsx("p",{className:"mt-2 text-gray-700",children:l.description})]}),S.jsxs("div",{className:`code-block bg-gray-50 p-3 rounded-md border ${s?"mt-0":"mt-4"}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("p",{className:"text-sm text-gray-500",children:"Example:"}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:oe&&v?I:ye,disabled:oe&&!v,className:"control-btn p-1 rounded-full hover:bg-gray-200 text-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed","aria-label":oe?v?C?"Resume":"Pause":"Running...":"Run",title:oe?v?C?"Resume":"Pause":"Running...":"Run",children:oe?v?C?S.jsx(vd,{}):S.jsx(fg,{}):S.jsx("span",{className:"text-xs px-1 animate-pulse",children:"..."}):S.jsx(vd,{})}),S.jsx("button",{onClick:Q,disabled:!Ce,className:"control-btn p-1 rounded-full text-gray-600 hover:bg-red-100 hover:text-red-600 disabled:text-gray-400 disabled:cursor-not-allowed","aria-label":"Stop example",title:"Stop example",children:S.jsx(dg,{})}),S.jsx("button",{onClick:()=>H(!v),className:`control-btn p-1 rounded-full hover:bg-gray-200 ${v?"text-indigo-600 bg-indigo-100":"text-gray-600"}`,"aria-label":"Toggle Debug Mode",title:"Toggle Debug Mode",children:S.jsx(pg,{})})]})]}),S.jsx("pre",{className:"fira-code whitespace-pre-wrap text-sm",children:S.jsx("code",{contentEditable:!oe,onBlur:ce=>r(ce.currentTarget.innerText),suppressContentEditableWarning:!0,className:"block outline-none",children:u})})]}),v&&S.jsxs("div",{className:"debug-controls mt-2",children:[S.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Debug delay: ",S.jsx("span",{className:"delay-value font-mono",children:$}),"ms"]}),S.jsx("input",{type:"range",min:"0",max:"2000",value:$,onChange:ce=>le(Number(ce.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(d||N)&&S.jsxs("div",{className:`output mt-3 p-3 rounded-md fira-code whitespace-pre-wrap text-sm ${be}`,children:[S.jsx("p",{className:`text-sm mb-1 font-semibold ${x==="error"?"text-red-700":"text-gray-400"}`,children:N?"Error:":"Result:"}),S.jsx("pre",{children:N||d})]})]})},fo=l=>l===void 0?"":l.map(at).join(" ").replace(/^"(.*)"$/,"$1").replace(/^\[(.*)\]$/,"$1"),hg=l=>{if(l.trim()==="")return[];try{return we.parse(l)}catch(s){return console.error("Error parsing expected output string:",s),[l]}},mg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),yg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),gg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),xg=()=>S.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:S.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),bg=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Sd=({item:l,onRun:s,onToggleExpand:u})=>{const[r,d]=P.useState(Array.isArray(l.currentTest.code)?l.currentTest.code.join(`
`):l.currentTest.code),[g,N]=P.useState(fo(l.currentTest.expected)),[T,x]=P.useState(""),[h,v]=P.useState("Copy Issue"),H=!!l.originalTest.assert,C=()=>{s(l.id,{...l.currentTest,code:r,expected:hg(g)})},k=U=>{U.stopPropagation();const V=Array.isArray(l.currentTest.code)?l.currentTest.code.join(`
`):l.currentTest.code;let D="";l.currentTest.expected!==void 0?D=`[ ${l.currentTest.expected.map(at).join(" ")} ]`:l.currentTest.expectedDescription?D=l.currentTest.expectedDescription:l.currentTest.expectedType?D=`A value of type: ${l.currentTest.expectedType}`:l.currentTest.assert&&(D=`Custom assertion: ${l.currentTest.assert.toString()}`);const X=`Implement this test for ${l.description}

Code:
${V}

Expected:
${D}`;navigator.clipboard.writeText(X).then(()=>{x("Copied!"),setTimeout(()=>x(""),2e3)})},$=U=>{U.stopPropagation();const V=Array.isArray(l.currentTest.code)?l.currentTest.code.join(`
`):l.currentTest.code;let D="";l.currentTest.expected!==void 0?D=`[ ${fo(l.currentTest.expected)} ]`:l.currentTest.assert?D=`(assert) ${l.currentTest.assert.toString()}`:l.currentTest.expectedDescription?D=l.currentTest.expectedDescription:l.currentTest.expectedType&&(D=`A value of type: ${l.currentTest.expectedType}`);const X=`--- Yield Test Failure ---

Operator: ${l.description}

Code:
${V}

Expected:
${D}

Failure Reason:
${l.result.errorMessage||"N/A"}

Actual Output:
${l.result.actualOutput||"N/A"}`;navigator.clipboard.writeText(X).then(()=>{v("Copied!"),setTimeout(()=>v("Copy Issue"),2e3)})},B={passed:{border:"border-green-200",bg:"bg-green-50/50",headerBg:"hover:bg-green-100",text:"text-green-500",title:"text-gray-700"},failed:{border:"border-red-200",bg:"bg-red-50",headerBg:"hover:bg-red-100",text:"text-red-500",title:"text-gray-800"},error:{border:"border-yellow-300",bg:"bg-yellow-50",headerBg:"hover:bg-yellow-100",text:"text-yellow-600",title:"text-gray-800"}}[l.result.status];return S.jsxs("div",{className:`test-case-runner p-3 rounded-md border ${B.border} ${B.bg}`,children:[S.jsxs("div",{className:`flex items-center cursor-pointer p-1 -m-1 rounded ${B.headerBg}`,onClick:u,children:[S.jsx("div",{className:"flex-shrink-0 w-6",children:l.isExpanded?S.jsx(mg,{}):S.jsx(yg,{})}),S.jsxs("span",{className:`${B.text} font-bold mr-3 uppercase text-sm`,children:["[",l.result.status,"]"]}),S.jsx("p",{className:`${B.title} flex-grow`,children:l.description}),S.jsx("button",{onClick:k,className:"repl-btn text-sm bg-gray-200 text-gray-700 hover:bg-gray-300 p-1.5 h-auto rounded-md",title:"Copy Code",children:T||S.jsx(gg,{})})]}),l.isExpanded&&S.jsxs("div",{className:"mt-3 pt-3 border-t pl-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Code:"}),S.jsx("textarea",{value:r,onChange:U=>d(U.target.value),className:"w-full p-2 rounded text-sm fira-code border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",rows:Math.max(3,r.split(`
`).length)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:H?"Expected (Assertion):":"Expected Stack:"}),H?S.jsx("pre",{className:"w-full p-2 rounded text-sm fira-code border bg-gray-100 overflow-x-auto",children:S.jsx("code",{children:l.originalTest.assert.toString()})}):S.jsx("input",{type:"text",value:g,onChange:U=>N(U.target.value),placeholder:'e.g., 10 "hello"',className:"w-full p-2 rounded text-sm fira-code border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"}),l.result.status!=="passed"&&S.jsxs("div",{className:"mt-2 text-sm",children:[S.jsxs("p",{className:"fira-code text-gray-700",children:[S.jsx("span",{className:"font-semibold",children:"Reason:"})," ",l.result.errorMessage]}),S.jsxs("p",{className:`fira-code ${B.text}`,children:[S.jsx("span",{className:"font-semibold",children:"Actual:"})," ",l.result.actualOutput||"N/A"]})]})]})]}),S.jsxs("div",{className:"mt-4 flex justify-end items-center space-x-2",children:[l.result.status!=="passed"&&S.jsxs("button",{onClick:$,className:"repl-btn bg-amber-500 hover:bg-amber-600 text-white text-sm flex items-center space-x-2",children:[S.jsx(bg,{}),S.jsx("span",{children:h})]}),S.jsxs("button",{onClick:C,className:"repl-btn repl-btn-primary text-sm flex items-center space-x-2",children:[S.jsx(xg,{}),S.jsx("span",{children:"Re-run This Test"})]})]})]})]})},vg=()=>{const[l,s]=P.useState([]),[u,r]=P.useState(!1),[d,g]=P.useState("idle"),[N,T]=P.useState("Copy Failed Tests");P.useEffect(()=>(Ot.setMuted(!0),()=>{Ot.setMuted(!1)}),[]);const x=P.useCallback(async B=>{const{code:U,assert:V,expected:D,expectedType:X,expectedDescription:Q}=B;try{we.reset();const I=[],ye=Array.isArray(U)?U:[U],oe=new Ed(we.builtInKeys);oe.add(oe.createSnapshot(I,we.dictionary));const Ce=[];for(const ce of ye){Ce.push(ce);const ue=we.parse(ce);await we.run(ue,I,{historyManager:oe,commandHistory:Ce});const Ue=ce.trim().toLowerCase();if(Ue!=="undo"&&Ue!=="redo"&&Ue!=="again"){const We=oe.createSnapshot(I,we.dictionary);oe.add(We)}}let be=!0;if(D!==void 0?be=Tn(I,D):V&&(be=V(I)),be)return{status:"passed"};{const ce=`[ ${I.map(at).join(" ")} ]`;let ue;return D!==void 0?ue=`[ ${D.map(at).join(" ")} ]`:Q?ue=Q:X&&(ue=`A value of type: ${X}`),{status:"failed",actualOutput:ce,errorMessage:V?"Assertion failed.":"Output does not match expected value."}}}catch(I){return{status:"error",errorMessage:I.message}}},[]),h=P.useCallback(async()=>{r(!0),s([]),g("running");const B=Object.values(Wt).flatMap((V,D)=>Object.entries(V.definitions).flatMap(([X,Q])=>Q.examples.map((I,ye)=>({id:`${V.name}-${X}-${ye}`,description:`${V.name}: ${X}`,originalTest:I,currentTest:{...I}})))),U=[];for(const V of B){const D=await x(V.currentTest);U.push({...V,result:D,isExpanded:D.status!=="passed"})}s(U),r(!1),g(U.some(V=>V.result.status!=="passed")?"failure":"success")},[x]);P.useEffect(()=>{h()},[h]);const v=async(B,U)=>{const V=await x(U);s(D=>D.map(X=>X.id===B?{...X,currentTest:U,result:V,isExpanded:!0}:X))},H=B=>{s(U=>U.map(V=>V.id===B?{...V,isExpanded:!V.isExpanded}:V))},C=l.filter(B=>B.result.status==="passed"),k=l.filter(B=>B.result.status!=="passed"),$={idle:"bg-gray-50",running:"bg-blue-50",success:"bg-green-50",failure:"bg-red-50"}[d],le=()=>{const B=k.map(U=>{const V=Array.isArray(U.currentTest.code)?U.currentTest.code.join(`
`):U.currentTest.code;let D="N/A";return U.currentTest.expected!==void 0?D=`[ ${fo(U.currentTest.expected)} ]`:U.currentTest.assert?D=`(assert) ${U.currentTest.assert.toString()}`:U.currentTest.expectedDescription&&(D=U.currentTest.expectedDescription),`# --- TEST FAILED: ${U.description} ---
# Reason: ${U.result.errorMessage}
# Expected: ${D}
# Got:   ${U.result.actualOutput||"N/A"}
${V}`}).join(`

`);navigator.clipboard.writeText(B).then(()=>{T("Copied!"),setTimeout(()=>T("Copy Failed Tests"),2e3)}).catch(U=>console.error("Failed to copy tests:",U))};return S.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[S.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Test Suite"}),S.jsx("button",{onClick:h,disabled:u,className:"repl-btn repl-btn-primary",children:u?"Running...":"Re-run All Tests"})]}),(l.length>0||u)&&S.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${$}`,children:[S.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Summary"}),S.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-3xl font-bold text-green-600",children:C.length}),S.jsx("p",{className:"text-sm text-gray-600",children:"Passed"})]}),S.jsxs("div",{children:[S.jsx("p",{className:`text-3xl font-bold ${k.length>0?"text-red-600":"text-gray-700"}`,children:k.length}),S.jsx("p",{className:"text-sm text-gray-600",children:"Failed"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-3xl font-bold text-gray-700",children:l.length}),S.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})]})]}),k.length>0&&S.jsxs("div",{className:"mb-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[S.jsxs("h3",{className:"text-2xl font-semibold text-red-700",children:["Failed Tests (",k.length,")"]}),S.jsx("button",{onClick:le,className:"repl-btn text-sm bg-gray-200 text-gray-700 hover:bg-gray-300",children:N})]}),S.jsx("div",{className:"space-y-4",children:k.map(B=>S.jsx(Sd,{item:B,onRun:v,onToggleExpand:()=>H(B.id)},B.id))})]}),C.length>0&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-2xl font-semibold mb-4 text-green-700 border-b pb-2",children:["Passed Tests (",C.length,")"]}),S.jsx("div",{className:"space-y-2",children:C.map(B=>S.jsx(Sd,{item:B,onRun:v,onToggleExpand:()=>H(B.id)},B.id))})]})]})},Sg=()=>{const[l,s]=P.useState(""),[u,r]=P.useState(new Set(["all"])),d=P.useMemo(()=>{const x=[];for(const[h,v]of Object.entries(Wt))for(const[H,C]of Object.entries(v.definitions)){const k=C.examples[0].code;x.push({name:H,category:h,description:C.definition.description,effect:C.definition.effect,example:Array.isArray(k)?k.join(`
`):k})}return x.sort((h,v)=>h.name.localeCompare(v.name))},[]),g=P.useMemo(()=>d.filter(x=>{const h=u.has("all")||u.has(x.category),v=x.name.toLowerCase().includes(l.toLowerCase());return h&&v}),[d,l,u]),N=P.useMemo(()=>["all",...Object.keys(Wt)],[]),T=x=>{r(h=>{const v=new Set(h);return x==="all"?new Set(["all"]):(v.delete("all"),v.has(x)?v.delete(x):v.add(x),v.size===0?new Set(["all"]):v)})};return S.jsxs("div",{id:"reference-container",children:[S.jsxs("div",{className:"sticky top-0 bg-gray-100/80 backdrop-blur-sm z-10 py-4 mb-6",children:[S.jsx("input",{type:"text",placeholder:"Search for an operator...",value:l,onChange:x=>s(x.target.value),className:"w-full p-3 mb-4 rounded-md border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm","aria-label":"Search operators"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(x=>S.jsx("button",{onClick:()=>T(x),className:`repl-btn text-sm capitalize ${u.has(x)?"repl-btn-primary":"bg-white text-gray-700 hover:bg-gray-200 border-gray-300 border"}`,children:x.replace(/([A-Z])/g," $1")},x))})]}),S.jsx("div",{className:"operator-list",children:g.length>0?g.map(x=>S.jsx(Xi,{cellData:x},x.name)):S.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No operators found matching your criteria."})})]})},Ag=({children:l})=>S.jsx("code",{className:"bg-gray-200 text-gray-800 p-1 rounded-sm fira-code text-sm font-semibold",children:l}),Tg=({children:l})=>S.jsx("h2",{className:"text-3xl font-bold text-gray-800 mt-8 mb-4 border-b pb-2",children:l}),Eg=({children:l})=>S.jsx("h3",{className:"text-2xl font-bold text-gray-700 mt-6 mb-3",children:l}),wg=l=>{const s=l.split(`
`),u=[];let r=!1,d=[],g=0;const N=T=>T.split(/(`[^`]+`|\*\*[^*]+\*\*)/g).map((h,v)=>h.startsWith("`")&&h.endsWith("`")?S.jsx(Ag,{children:h.slice(1,-1)},v):h.startsWith("**")&&h.endsWith("**")?S.jsx("strong",{children:h.slice(2,-2)},v):h);for(let T=0;T<s.length;T++){const x=s[T];if(x.startsWith("```")){if(r){const v={name:"Synopsis Example",description:"",effect:"",example:d.join(`
`)};u.push(S.jsx(Xi,{cellData:v,compact:!0},`cell-${g++}`)),d=[]}r=!r;continue}if(r){d.push(x);continue}if(x.startsWith("# "))u.push(S.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:N(x.substring(2))},`h1-${g++}`));else if(x.startsWith("## "))u.push(S.jsx(Tg,{children:N(x.substring(3))},`h2-${g++}`));else if(x.startsWith("### "))u.push(S.jsx(Eg,{children:N(x.substring(4))},`h3-${g++}`));else if(x.startsWith("> ")){let h=[x.substring(2)];for(;T+1<s.length&&s[T+1].startsWith("> ");)T++,h.push(s[T].substring(2));u.push(S.jsx("pre",{className:"bg-gray-100 border p-4 rounded-md my-4 text-sm",children:S.jsx("code",{children:h.join(`
`)})},`bq-${g++}`))}else x.trim()!==""&&u.push(S.jsx("p",{className:"mb-4 text-gray-700",children:N(x)},`p-${g++}`))}if(r&&d.length>0){const x={name:"Synopsis Example",description:"",effect:"",example:d.join(`
`)};u.push(S.jsx(Xi,{cellData:x,compact:!0},`cell-${g++}`))}return u},Mg=()=>{const[l,s]=P.useState(null),[u,r]=P.useState(null);return P.useEffect(()=>{fetch("./synopsis.md").then(d=>{if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return d.text()}).then(d=>{s(wg(d))}).catch(d=>{console.error("Failed to load synopsis.md:",d),r("Failed to load synopsis content.")})},[]),u?S.jsx("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow text-red-500",children:u}):l?S.jsx("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow",children:l}):S.jsx("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow",children:"Loading..."})},Ng=({isExpanded:l})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform duration-200 text-gray-500 ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Og=({section:l})=>{const[s,u]=P.useState(!1),r=`section-content-${l.name.replace(/\s+/g,"-")}`;return S.jsxs("div",{className:"mb-4 border rounded-lg overflow-hidden shadow-sm bg-white",children:[S.jsxs("button",{className:"w-full text-left p-4 flex justify-between items-center bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:()=>u(!s),"aria-expanded":s,"aria-controls":r,children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l.name}),S.jsx(Ng,{isExpanded:s})]}),s&&S.jsxs("div",{id:r,className:"p-4 border-t border-gray-200",children:[l.description&&S.jsx("p",{className:"mb-4 text-gray-600",children:l.description}),l.cells.map(d=>S.jsx(Xi,{cellData:d},d.name))]})]})},_g=()=>S.jsx("div",{id:"notebook-container",children:ug.map(l=>S.jsx(Og,{section:l},l.name))}),Rg=()=>{const[l,s]=P.useState(window.location.hash);P.useEffect(()=>{const h=()=>{s(window.location.hash)};return window.addEventListener("hashchange",h),()=>{window.removeEventListener("hashchange",h)}},[]),P.useEffect(()=>{const h=()=>{Ot.init()};window.addEventListener("click",h,{once:!0}),window.addEventListener("keydown",h,{once:!0})},[]);const u=(h,v)=>{h.preventDefault(),window.location.hash=v,s(v)},r=()=>{switch(l){case"#/synopsis":return S.jsx(Mg,{});case"#/reference":return S.jsx(Sg,{});case"#/tutorial":return S.jsx(_g,{});case"#/tests":return S.jsx(vg,{});case"#/repl":case"#":case"#/":case"":default:return S.jsx(rg,{})}},d=["#/repl","#","#/",""].includes(l),g=l==="#/synopsis",N=l==="#/reference",T=l==="#/tests",x=l==="#/tutorial";return S.jsxs("div",{className:`mx-auto ${d?"max-w-full":"max-w-4xl"}`,children:[S.jsxs("header",{className:"mb-8 text-center",children:[S.jsx("h1",{className:"text-5xl font-bold text-gray-900",children:"Yield"}),S.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Concatenative live coding language that yields"}),S.jsxs("nav",{className:"mt-4 space-x-4",children:[S.jsx("a",{href:"#/repl",onClick:h=>u(h,"#/repl"),className:`text-indigo-600 hover:underline ${d?"font-bold":""}`,children:"REPL"}),S.jsx("a",{href:"#/synopsis",onClick:h=>u(h,"#/synopsis"),className:`text-indigo-600 hover:underline ${g?"font-bold":""}`,children:"Synopsis"}),S.jsx("a",{href:"#/reference",onClick:h=>u(h,"#/reference"),className:`text-indigo-600 hover:underline ${N?"font-bold":""}`,children:"Reference"}),S.jsx("a",{href:"#/tutorial",onClick:h=>u(h,"#/tutorial"),className:`text-indigo-600 hover:underline ${x?"font-bold":""}`,children:"Tutorial"}),S.jsx("a",{href:"#/tests",onClick:h=>u(h,"#/tests"),className:`text-indigo-600 hover:underline ${T?"font-bold":""}`,children:"Test Suite"})]})]}),S.jsx("main",{children:r()})]})},zg=document.getElementById("root"),Dg=nm.createRoot(zg);Dg.render(S.jsx(Rg,{}));
